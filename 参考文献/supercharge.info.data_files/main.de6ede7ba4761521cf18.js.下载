!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=36)}([function(t,e,i){var n,r;/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,o){"use strict";function a(t,e){e=e||at;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function s(t){var e=!!t&&"length"in t&&t.length,i=yt.type(t);return"function"!==i&&!yt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function u(t,e,i){return yt.isFunction(e)?yt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?yt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?yt.grep(t,function(t){return ht.call(e,t)>-1!==i}):Et.test(e)?yt.filter(e,t,i):(e=yt.filter(e,t),yt.grep(t,function(t){return ht.call(e,t)>-1!==i&&1===t.nodeType}))}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t){var e={};return yt.each(t.match(Nt)||[],function(t,i){e[i]=!0}),e}function d(t){return t}function f(t){throw t}function p(t,e,i,n){var r;try{t&&yt.isFunction(r=t.promise)?r.call(t).done(e).fail(i):t&&yt.isFunction(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function g(){at.removeEventListener("DOMContentLoaded",g),i.removeEventListener("load",g),yt.ready()}function m(){this.expando=yt.expando+m.uid++}function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ut.test(t)?JSON.parse(t):t)}function y(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(zt,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=v(i)}catch(t){}jt.set(t,e,i)}else i=void 0;return i}function b(t,e,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){return yt.css(t,e,"")},l=s(),u=i&&i[3]||(yt.cssNumber[e]?"":"px"),c=(yt.cssNumber[e]||"px"!==u&&+l)&&Wt.exec(yt.css(t,e));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do{o=o||".5",c/=o,yt.style(t,e,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function x(t){var e,i=t.ownerDocument,n=t.nodeName,r=Yt[n];return r||(e=i.body.appendChild(i.createElement(n)),r=yt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Yt[n]=r,r)}function w(t,e){for(var i,n,r=[],o=0,a=t.length;o<a;o++)n=t[o],n.style&&(i=n.style.display,e?("none"===i&&(r[o]=Bt.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&Vt(n)&&(r[o]=x(n))):"none"!==i&&(r[o]="none",Bt.set(n,"display",i)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function k(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&l(t,e)?yt.merge([t],i):i}function C(t,e){for(var i=0,n=t.length;i<n;i++)Bt.set(t[i],"globalEval",!e||Bt.get(e[i],"globalEval"))}function S(t,e,i,n,r){for(var o,a,s,l,u,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===yt.type(o))yt.merge(d,o.nodeType?[o]:o);else if(Jt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(qt.exec(o)||["",""])[1].toLowerCase(),l=Kt[s]||Kt._default,a.innerHTML=l[1]+yt.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;yt.merge(d,a.childNodes),a=h.firstChild,a.textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(n&&yt.inArray(o,n)>-1)r&&r.push(o);else if(u=yt.contains(o.ownerDocument,o),a=k(h.appendChild(o),"script"),u&&C(a),i)for(c=0;o=a[c++];)Zt.test(o.type||"")&&i.push(o);return h}function T(){return!0}function M(){return!1}function A(){try{return at.activeElement}catch(t){}}function E(t,e,i,n,r,o){var a,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(s in e)E(t,s,i,n,e[s],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=M;else if(!r)return t;return 1===o&&(a=r,r=function(t){return yt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=yt.guid++)),t.each(function(){yt.event.add(this,e,r,n,i)})}function O(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")?yt(">tbody",t)[0]||t:t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function L(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function D(t,e){var i,n,r,o,a,s,l,u;if(1===e.nodeType){if(Bt.hasData(t)&&(o=Bt.access(t),a=Bt.set(e,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)yt.event.add(e,r,u[r][i])}jt.hasData(t)&&(s=jt.access(t),l=yt.extend({},s),jt.set(e,l))}}function N(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Xt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function _(t,e,i,n){e=ut.apply([],e);var r,o,s,l,u,c,h=0,d=t.length,f=d-1,p=e[0],g=yt.isFunction(p);if(g||d>1&&"string"==typeof p&&!vt.checkClone&&oe.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),_(o,e,i,n)});if(d&&(r=S(e,t[0].ownerDocument,!1,t,n),o=r.firstChild,1===r.childNodes.length&&(r=o),o||n)){for(s=yt.map(k(r,"script"),P),l=s.length;h<d;h++)u=r,h!==f&&(u=yt.clone(u,!0,!0),l&&yt.merge(s,k(u,"script"))),i.call(t[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,yt.map(s,L),h=0;h<l;h++)u=s[h],Zt.test(u.type||"")&&!Bt.access(u,"globalEval")&&yt.contains(c,u)&&(u.src?yt._evalUrl&&yt._evalUrl(u.src):a(u.textContent.replace(se,""),c))}return t}function I(t,e,i){for(var n,r=e?yt.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||yt.cleanData(k(n)),n.parentNode&&(i&&yt.contains(n.ownerDocument,n)&&C(k(n,"script")),n.parentNode.removeChild(n));return t}function R(t,e,i){var n,r,o,a,s=t.style;return i=i||ce(t),i&&(a=i.getPropertyValue(e)||i[e],""!==a||yt.contains(t.ownerDocument,t)||(a=yt.style(t,e)),!vt.pixelMarginRight()&&ue.test(a)&&le.test(e)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function F(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function B(t){if(t in me)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ge.length;i--;)if((t=ge[i]+e)in me)return t}function j(t){var e=yt.cssProps[t];return e||(e=yt.cssProps[t]=B(t)||t),e}function U(t,e,i){var n=Wt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function z(t,e,i,n,r){var o,a=0;for(o=i===(n?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===i&&(a+=yt.css(t,i+$t[o],!0,r)),n?("content"===i&&(a-=yt.css(t,"padding"+$t[o],!0,r)),"margin"!==i&&(a-=yt.css(t,"border"+$t[o]+"Width",!0,r))):(a+=yt.css(t,"padding"+$t[o],!0,r),"padding"!==i&&(a+=yt.css(t,"border"+$t[o]+"Width",!0,r)));return a}function H(t,e,i){var n,r=ce(t),o=R(t,e,r),a="border-box"===yt.css(t,"boxSizing",!1,r);return ue.test(o)?o:(n=a&&(vt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+z(t,e,i||(a?"border":"content"),n,r)+"px")}function W(t,e,i,n,r){return new W.prototype.init(t,e,i,n,r)}function $(){ye&&(!1===at.hidden&&i.requestAnimationFrame?i.requestAnimationFrame($):i.setTimeout($,yt.fx.interval),yt.fx.tick())}function V(){return i.setTimeout(function(){ve=void 0}),ve=yt.now()}function G(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=$t[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function Y(t,e,i){for(var n,r=(Z.tweeners[e]||[]).concat(Z.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,e,t))return n}function X(t,e,i){var n,r,o,a,s,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&Vt(t),m=Bt.get(t,"fxshow");i.queue||(a=yt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,yt.queue(t,"fx").length||a.empty.fire()})}));for(n in e)if(r=e[n],be.test(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||yt.style(t,n)}if((l=!yt.isEmptyObject(e))||!yt.isEmptyObject(f)){h&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=m&&m.display,null==u&&(u=Bt.get(t,"display")),c=yt.css(t,"display"),"none"===c&&(u?c=u:(w([t],!0),u=t.style.display||u,c=yt.css(t,"display"),w([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===yt.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in f)l||(m?"hidden"in m&&(g=m.hidden):m=Bt.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&w([t],!0),d.done(function(){g||w([t]),Bt.remove(t,"fxshow");for(n in f)yt.style(t,n,f[n])})),l=Y(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}}function q(t,e){var i,n,r,o,a;for(i in t)if(n=yt.camelCase(i),r=e[n],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=yt.cssHooks[n])&&"expand"in a){o=a.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function Z(t,e,i){var n,r,o=0,a=Z.prefilters.length,s=yt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ve||V(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,o=1-n,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,i]),o<1&&l?i:(l||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:yt.extend({},e),opts:yt.extend(!0,{specialEasing:{},easing:yt.easing._default},i),originalProperties:e,originalOptions:i,startTime:ve||V(),duration:i.duration,tweens:[],createTween:function(e,i){var n=yt.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(q(c,u.opts.specialEasing);o<a;o++)if(n=Z.prefilters[o].call(u,t,c,u.opts))return yt.isFunction(n.stop)&&(yt._queueHooks(u.elem,u.opts.queue).stop=yt.proxy(n.stop,n)),n;return yt.map(c,Y,u),yt.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),yt.fx.timer(yt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function K(t){return(t.match(Nt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t,e,i,n){var r;if(Array.isArray(e))yt.each(e,function(e,r){i||Pe.test(t)?n(t,r):Q(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==yt.type(e))n(t,e);else for(r in e)Q(t+"["+r+"]",e[r],i,n)}function tt(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Nt)||[];if(yt.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function et(t,e,i,n){function r(s){var l;return o[s]=!0,yt.each(t[s]||[],function(t,s){var u=s(e,i,n);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===He;return r(e.dataTypes[0])||!o["*"]&&r("*")}function it(t,e){var i,n,r=yt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&yt.extend(!0,t,n),t}function nt(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}function rt(t,e,i,n){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var ot=[],at=i.document,st=Object.getPrototypeOf,lt=ot.slice,ut=ot.concat,ct=ot.push,ht=ot.indexOf,dt={},ft=dt.toString,pt=dt.hasOwnProperty,gt=pt.toString,mt=gt.call(Object),vt={},yt=function(t,e){return new yt.fn.init(t,e)},bt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xt=/^-ms-/,wt=/-([a-z])/g,kt=function(t,e){return e.toUpperCase()};yt.fn=yt.prototype={jquery:"3.2.1",constructor:yt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=yt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return yt.each(this,t)},map:function(t){return this.pushStack(yt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:ot.sort,splice:ot.splice},yt.extend=yt.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||yt.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=a[e],n=t[e],a!==n&&(u&&n&&(yt.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&yt.isPlainObject(i)?i:{},a[e]=yt.extend(u,o,n)):void 0!==n&&(a[e]=n));return a},yt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===yt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=yt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=st(t))||"function"==typeof(i=pt.call(e,"constructor")&&e.constructor)&&gt.call(i)===mt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[ft.call(t)]||"object":typeof t},globalEval:function(t){a(t)},camelCase:function(t){return t.replace(xt,"ms-").replace(wt,kt)},each:function(t,e){var i,n=0;if(s(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(bt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(s(Object(t))?yt.merge(i,"string"==typeof t?[t]:t):ct.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:ht.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,a=!i;r<o;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,a=[];if(s(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return ut.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),yt.isFunction(t))return n=lt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(lt.call(arguments)))},r.guid=t.guid=t.guid||yt.guid++,r},now:Date.now,support:vt}),"function"==typeof Symbol&&(yt.fn[Symbol.iterator]=ot[Symbol.iterator]),yt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()});var Ct=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,i,n){var r,o,a,s,l,c,d,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:j)!==L&&P(e),e=e||L,N)){if(11!==p&&(l=gt.exec(t)))if(r=l[1]){if(9===p){if(!(a=e.getElementById(r)))return i;if(a.id===r)return i.push(a),i}else if(f&&(a=f.getElementById(r))&&F(e,a)&&a.id===r)return i.push(a),i}else{if(l[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(r)),i}if(x.qsa&&!$[t+" "]&&(!_||!_.test(t))){if(1!==p)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,xt):e.setAttribute("id",s=B),c=S(t),o=c.length;o--;)c[o]="#"+s+" "+h(c[o]);d=c.join(","),f=mt.test(t)&&u(e.parentNode)||e}if(d)try{return Z.apply(i,f.querySelectorAll(d)),i}catch(t){}finally{s===B&&e.removeAttribute("id")}}}return M(t.replace(ot,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function r(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&kt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function h(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=e.next,o=r||n,a=i&&"parentNode"===o,s=z++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r);return!1}:function(e,i,l){var u,c,h,d=[U,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(h=e[B]||(e[B]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=c[o])&&u[0]===U&&u[1]===s)return d[2]=u[2];if(c[o]=d,d[2]=t(e,i,l))return!0}return!1}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function g(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(i&&!i(o,n,r)||(a.push(o),u&&e.push(s)));return a}function m(t,e,i,r,o,a){return r&&!r[B]&&(r=m(r)),o&&!o[B]&&(o=m(o,a)),n(function(n,a,s,l){var u,c,h,d=[],f=[],m=a.length,v=n||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!n&&e?v:g(v,d,t,s,l),b=i?o||(n?t:m||r)?[]:a:y;if(i&&i(y,b,s,l),r)for(u=g(b,f),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));if(n){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?J(n,h):d[c])>-1&&(n[u]=!(a[u]=h))}}else b=g(b===a?b.splice(m,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function v(t){for(var e,i,n,r=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,l=d(function(t){return t===e},a,!0),u=d(function(t){return J(e,t)>-1},a,!0),c=[function(t,i,n){var r=!o&&(n||i!==A)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];s<r;s++)if(i=w.relative[t[s].type])c=[d(f(c),i)];else{if(i=w.filter[t[s].type].apply(null,t[s].matches),i[B]){for(n=++s;n<r&&!w.relative[t[n].type];n++);return m(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),i,s<n&&v(t.slice(s,n)),n<r&&v(t=t.slice(n)),n<r&&h(t))}c.push(i)}return f(c)}function y(t,i){var r=i.length>0,o=t.length>0,a=function(n,a,s,l,u){var c,h,d,f=0,p="0",m=n&&[],v=[],y=A,b=n||o&&w.find.TAG("*",u),x=U+=null==y?1:Math.random()||.1,k=b.length;for(u&&(A=a===L||a||u);p!==k&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===L||(P(c),s=!N);d=t[h++];)if(d(c,a||L,s)){l.push(c);break}u&&(U=x)}r&&((c=!d&&c)&&f--,n&&m.push(c))}if(f+=p,r&&p!==f){for(h=0;d=i[h++];)d(m,v,a,s);if(n){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(l));v=g(v)}Z.apply(l,v),u&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return u&&(U=x,A=y),m};return r?n(a):a}var b,x,w,k,C,S,T,M,A,E,O,P,L,D,N,_,I,R,F,B="sizzle"+1*new Date,j=t.document,U=0,z=0,H=i(),W=i(),$=i(),V=function(t,e){return t===e&&(O=!0),0},G={}.hasOwnProperty,Y=[],X=Y.pop,q=Y.push,Z=Y.push,K=Y.slice,J=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(nt),ct=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){P()},kt=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(Y=K.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(t){Z={apply:Y.length?function(t,e){q.apply(t,K.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:j;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,D=L.documentElement,N=!C(L),j!==L&&(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=pt.test(L.getElementsByClassName),x.getById=r(function(t){return D.appendChild(t).id=B,!L.getElementsByName||!L.getElementsByName(B).length}),x.getById?(w.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}}):(w.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),w.find.TAG=x.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},w.find.CLASS=x.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&N)return e.getElementsByClassName(t)},I=[],_=[],(x.qsa=pt.test(L.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+B+"-]").length||_.push("~="),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||_.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(x.matchesSelector=pt.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),I.push("!=",nt)}),_=_.length&&new RegExp(_.join("|")),I=I.length&&new RegExp(I.join("|")),e=pt.test(D.compareDocumentPosition),F=e||pt.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return O=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===L||t.ownerDocument===j&&F(j,t)?-1:e===L||e.ownerDocument===j&&F(j,e)?1:E?J(E,t)-J(E,e):0:4&i?-1:1)}:function(t,e){if(t===e)return O=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:E?J(E,t)-J(E,e):0;if(r===o)return a(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?a(s[n],l[n]):s[n]===j?-1:l[n]===j?1:0},L):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&P(t),i=i.replace(lt,"='$1']"),x.matchesSelector&&N&&!$[i+" "]&&(!I||!I.test(i))&&(!_||!_.test(i)))try{var n=R.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&P(t);var i=w.attrHandle[e.toLowerCase()],n=i&&G.call(w.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:x.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(bt,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(O=!x.detectDuplicates,E=!x.sortStable&&t.slice(0),t.sort(V),O){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return E=null,t},k=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(d=m,h=d[B]||(d[B]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===U&&u[1],b=f&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[U,f,b];break}}else if(y&&(d=e,h=d[B]||(d[B]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===U&&u[1],b=f),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[B]||(d[B]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[U,b]),d!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,i){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(r=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),a=r.length;a--;)n=J(t,r[a]),t[n]=!(e[n]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=T(t.replace(ot,"$1"));return r[B]?n(function(t,e,i,n){for(var o,a=r(t,null,n,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var i;do{if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[i<0?i+e:i]}),even:l(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(b);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,S=e.tokenize=function(t,i){var n,r,o,a,s,l,u,c=W[t+" "];if(c)return i?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){n&&!(r=at.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=st.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ot," ")}),s=s.slice(n.length));for(a in w.filter)!(r=ht[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):W(t,l).slice(0)},T=e.compile=function(t,e){var i,n=[],r=[],o=$[t+" "];if(!o){for(e||(e=S(t)),i=e.length;i--;)o=v(e[i]),o[B]?n.push(o):r.push(o);o=$(t,y(r,n)),o.selector=t}return o},M=e.select=function(t,e,i,n){var r,o,a,s,l,c="function"==typeof t&&t,d=!n&&S(t=c.selector||t);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&N&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(vt,yt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ht.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(n=l(a.matches[0].replace(vt,yt),mt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&h(o)))return Z.apply(i,n),i;break}}return(c||T(t,d))(n,e,!N,i,!e||mt.test(t)&&u(e.parentNode)||e),i},x.sortStable=B.split("").sort(V).join("")===B,x.detectDuplicates=!!O,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Q,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);yt.find=Ct,yt.expr=Ct.selectors,yt.expr[":"]=yt.expr.pseudos,yt.uniqueSort=yt.unique=Ct.uniqueSort,yt.text=Ct.getText,yt.isXMLDoc=Ct.isXML,yt.contains=Ct.contains,yt.escapeSelector=Ct.escape;var St=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&yt(t).is(i))break;n.push(t)}return n},Tt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},Mt=yt.expr.match.needsContext,At=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Et=/^.[^:#\[\.,]*$/;yt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?yt.find.matchesSelector(n,t)?[n]:[]:yt.find.matches(t,yt.grep(e,function(t){return 1===t.nodeType}))},yt.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(yt(t).filter(function(){for(e=0;e<n;e++)if(yt.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)yt.find(t,r[e],i);return n>1?yt.uniqueSort(i):i},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&Mt.test(t)?yt(t):t||[],!1).length}});var Ot,Pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(yt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Ot,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Pt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof yt?e[0]:e,yt.merge(this,yt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),At.test(n[1])&&yt.isPlainObject(e))for(n in e)yt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=at.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt.isFunction(t)?void 0!==i.ready?i.ready(t):t(yt):yt.makeArray(t,this)}).prototype=yt.fn,Ot=yt(at);var Lt=/^(?:parents|prev(?:Until|All))/,Dt={children:!0,contents:!0,next:!0,prev:!0};yt.fn.extend({has:function(t){var e=yt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(yt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],a="string"!=typeof t&&yt(t);if(!Mt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&yt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?yt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(yt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(yt.uniqueSort(yt.merge(this.get(),yt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),yt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return St(t,"parentNode")},parentsUntil:function(t,e,i){return St(t,"parentNode",i)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return St(t,"nextSibling")},prevAll:function(t){return St(t,"previousSibling")},nextUntil:function(t,e,i){return St(t,"nextSibling",i)},prevUntil:function(t,e,i){return St(t,"previousSibling",i)},siblings:function(t){return Tt((t.parentNode||{}).firstChild,t)},children:function(t){return Tt(t.firstChild)},contents:function(t){return l(t,"iframe")?t.contentDocument:(l(t,"template")&&(t=t.content||t),yt.merge([],t.childNodes))}},function(t,e){yt.fn[t]=function(i,n){var r=yt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=yt.filter(n,r)),this.length>1&&(Dt[t]||yt.uniqueSort(r),Lt.test(t)&&r.reverse()),this.pushStack(r)}});var Nt=/[^\x20\t\r\n\f]+/g;yt.Callbacks=function(t){t="string"==typeof t?h(t):yt.extend({},t);var e,i,n,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,n=e=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(s=o.length-1,a.push(i)),function e(i){yt.each(i,function(i,n){yt.isFunction(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==yt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return yt.each(arguments,function(t,e){for(var i;(i=yt.inArray(e,o,i))>-1;)o.splice(i,1),i<=s&&s--}),this},has:function(t){return t?yt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},yt.extend({Deferred:function(t){var e=[["notify","progress",yt.Callbacks("memory"),yt.Callbacks("memory"),2],["resolve","done",yt.Callbacks("once memory"),yt.Callbacks("once memory"),0,"resolved"],["reject","fail",yt.Callbacks("once memory"),yt.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return yt.Deferred(function(i){yt.each(e,function(e,n){var r=yt.isFunction(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&yt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,r){function o(t,e,n,r){return function(){var s=this,l=arguments,u=function(){var i,u;if(!(t<a)){if((i=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,yt.isFunction(u)?r?u.call(i,o(a,e,d,r),o(a,e,f,r)):(a++,u.call(i,o(a,e,d,r),o(a,e,f,r),o(a,e,d,e.notifyWith))):(n!==d&&(s=void 0,l=[i]),(r||e.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(i){yt.Deferred.exceptionHook&&yt.Deferred.exceptionHook(i,c.stackTrace),t+1>=a&&(n!==f&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?c():(yt.Deferred.getStackHook&&(c.stackTrace=yt.Deferred.getStackHook()),i.setTimeout(c))}}var a=0;return yt.Deferred(function(i){e[0][3].add(o(0,i,yt.isFunction(r)?r:d,i.notifyWith)),e[1][3].add(o(0,i,yt.isFunction(t)?t:d)),e[2][3].add(o(0,i,yt.isFunction(n)?n:f))}).promise()},promise:function(t){return null!=t?yt.extend(t,r):r}},o={};return yt.each(e,function(t,i){var a=i[2],s=i[5];r[i[1]]=a.add,s&&a.add(function(){n=s},e[3-t][2].disable,e[0][2].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=lt.call(arguments),o=yt.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?lt.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(p(t,o.done(a(i)).resolve,o.reject,!e),"pending"===o.state()||yt.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)p(r[i],a(i),o.reject);return o.promise()}});var _t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;yt.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&_t.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},yt.readyException=function(t){i.setTimeout(function(){throw t})};var It=yt.Deferred();yt.fn.ready=function(t){return It.then(t).catch(function(t){yt.readyException(t)}),this},yt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--yt.readyWait:yt.isReady)||(yt.isReady=!0,!0!==t&&--yt.readyWait>0||It.resolveWith(at,[yt]))}}),yt.ready.then=It.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?i.setTimeout(yt.ready):(at.addEventListener("DOMContentLoaded",g),i.addEventListener("load",g));var Rt=function(t,e,i,n,r,o,a){var s=0,l=t.length,u=null==i;if("object"===yt.type(i)){r=!0;for(s in i)Rt(t,e,s,i[s],!0,o,a)}else if(void 0!==n&&(r=!0,yt.isFunction(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(yt(t),i)})),e))for(;s<l;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return r?t:u?e.call(t):l?e(t[0],i):o},Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[yt.camelCase(e)]=i;else for(n in e)r[yt.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][yt.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(yt.camelCase):(e=yt.camelCase(e),e=e in n?[e]:e.match(Nt)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||yt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!yt.isEmptyObject(e)}};var Bt=new m,jt=new m,Ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zt=/[A-Z]/g;yt.extend({hasData:function(t){return jt.hasData(t)||Bt.hasData(t)},data:function(t,e,i){return jt.access(t,e,i)},removeData:function(t,e){jt.remove(t,e)},_data:function(t,e,i){return Bt.access(t,e,i)},_removeData:function(t,e){Bt.remove(t,e)}}),yt.fn.extend({data:function(t,e){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=jt.get(o),1===o.nodeType&&!Bt.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=yt.camelCase(n.slice(5)),y(o,n,r[n])));Bt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){jt.set(this,t)}):Rt(this,function(e){var i;if(o&&void 0===e){if(void 0!==(i=jt.get(o,t)))return i;if(void 0!==(i=y(o,t)))return i}else this.each(function(){jt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){jt.remove(this,t)})}}),yt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Bt.get(t,e),i&&(!n||Array.isArray(i)?n=Bt.access(t,e,yt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=yt.queue(t,e),n=i.length,r=i.shift(),o=yt._queueHooks(t,e),a=function(){yt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Bt.get(t,i)||Bt.access(t,i,{empty:yt.Callbacks("once memory").add(function(){Bt.remove(t,[e+"queue",i])})})}}),yt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?yt.queue(this[0],t):void 0===e?this:this.each(function(){var i=yt.queue(this,t,e);yt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&yt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){yt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=yt.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Bt.get(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var Ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+Ht+")([a-z%]*)$","i"),$t=["Top","Right","Bottom","Left"],Vt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&yt.contains(t.ownerDocument,t)&&"none"===yt.css(t,"display")},Gt=function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=a[o];return r},Yt={};yt.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Vt(this)?yt(this).show():yt(this).hide()})}});var Xt=/^(?:checkbox|radio)$/i,qt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Zt=/^$|\/(?:java|ecma)script/i,Kt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Jt=/<|&#?\w+;/;!function(){var t=at.createDocumentFragment(),e=t.appendChild(at.createElement("div")),i=at.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),vt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Qt=at.documentElement,te=/^key/,ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ie=/^([^.]*)(?:\.(.+)|)/;yt.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,u,c,h,d,f,p,g,m=Bt.get(t);if(m)for(i.handler&&(o=i,i=o.handler,r=o.selector),r&&yt.find.matchesSelector(Qt,r),i.guid||(i.guid=yt.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==yt&&yt.event.triggered!==e.type?yt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Nt)||[""],u=e.length;u--;)s=ie.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(h=yt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=yt.event.special[f]||{},c=yt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&yt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,a)||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),yt.event.global[f]=!0)},remove:function(t,e,i,n,r){var o,a,s,l,u,c,h,d,f,p,g,m=Bt.hasData(t)&&Bt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Nt)||[""],u=e.length;u--;)if(s=ie.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(h=yt.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!r&&g!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||yt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)yt.event.remove(t,f+e[u],i,n,!0);yt.isEmptyObject(l)&&Bt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,a,s=yt.event.fix(t),l=new Array(arguments.length),u=(Bt.get(this,"events")||{})[s.type]||[],c=yt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=yt.event.handlers.call(this,s,u),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(n=((yt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var i,n,r,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},i=0;i<l;i++)n=e[i],r=n.selector+" ",void 0===a[r]&&(a[r]=n.needsContext?yt(r,this).index(u)>-1:yt.find(r,this,null,[u]).length),a[r]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(yt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[yt.expando]?t:new yt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==A()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===A()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(t){return l(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},yt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},yt.Event=function(t,e){if(!(this instanceof yt.Event))return new yt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?T:M,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&yt.extend(this,e),this.timeStamp=t&&t.timeStamp||yt.now(),this[yt.expando]=!0},yt.Event.prototype={constructor:yt.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},yt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&te.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ee.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},yt.event.addProp),yt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){yt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||yt.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),yt.fn.extend({on:function(t,e,i,n){return E(this,t,e,i,n)},one:function(t,e,i,n){return E(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,yt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=M),this.each(function(){yt.event.remove(this,t,i,e)})}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,re=/<script|<style|<link/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;yt.extend({htmlPrefilter:function(t){return t.replace(ne,"<$1></$2>")},clone:function(t,e,i){var n,r,o,a,s=t.cloneNode(!0),l=yt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||yt.isXMLDoc(t)))for(a=k(s),o=k(t),n=0,r=o.length;n<r;n++)N(o[n],a[n]);if(e)if(i)for(o=o||k(t),a=a||k(s),n=0,r=o.length;n<r;n++)D(o[n],a[n]);else D(t,s);return a=k(s,"script"),a.length>0&&C(a,!l&&k(t,"script")),s},cleanData:function(t){for(var e,i,n,r=yt.event.special,o=0;void 0!==(i=t[o]);o++)if(Ft(i)){if(e=i[Bt.expando]){if(e.events)for(n in e.events)r[n]?yt.event.remove(i,n):yt.removeEvent(i,n,e.handle);i[Bt.expando]=void 0}i[jt.expando]&&(i[jt.expando]=void 0)}}}),yt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return Rt(this,function(t){return void 0===t?yt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return _(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){O(this,t).appendChild(t)}})},prepend:function(){return _(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=O(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return _(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return _(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(yt.cleanData(k(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return yt.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!re.test(t)&&!Kt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=yt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(yt.cleanData(k(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return _(this,arguments,function(e){var i=this.parentNode;yt.inArray(this,t)<0&&(yt.cleanData(k(this)),i&&i.replaceChild(e,this))},t)}}),yt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){yt.fn[t]=function(t){for(var i,n=[],r=yt(t),o=r.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),yt(r[a])[e](i),ct.apply(n,i.get());return this.pushStack(n)}});var le=/^margin/,ue=new RegExp("^("+Ht+")(?!px)[a-z%]+$","i"),ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qt.appendChild(a);var t=i.getComputedStyle(s);e="1%"!==t.top,o="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Qt.removeChild(a),s=null}}var e,n,r,o,a=at.createElement("div"),s=at.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),yt.extend(vt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var he=/^(none|table(?!-c[ea]).+)/,de=/^--/,fe={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},ge=["Webkit","Moz","ms"],me=at.createElement("div").style;yt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=R(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=yt.camelCase(e),l=de.test(e),u=t.style;if(l||(e=j(s)),a=yt.cssHooks[e]||yt.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:u[e];o=typeof i,"string"===o&&(r=Wt.exec(i))&&r[1]&&(i=b(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(yt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var r,o,a,s=yt.camelCase(e);return de.test(e)||(e=j(s)),a=yt.cssHooks[e]||yt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=R(t,e,n)),"normal"===r&&e in pe&&(r=pe[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),yt.each(["height","width"],function(t,e){yt.cssHooks[e]={get:function(t,i,n){if(i)return!he.test(yt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?H(t,e,n):Gt(t,fe,function(){return H(t,e,n)})},set:function(t,i,n){var r,o=n&&ce(t),a=n&&z(t,e,n,"border-box"===yt.css(t,"boxSizing",!1,o),o);return a&&(r=Wt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=yt.css(t,e)),U(t,i,a)}}}),yt.cssHooks.marginLeft=F(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(R(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),yt.each({margin:"",padding:"",border:"Width"},function(t,e){yt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+$t[n]+e]=o[n]||o[n-2]||o[0];return r}},le.test(t)||(yt.cssHooks[t+e].set=U)}),yt.fn.extend({css:function(t,e){return Rt(this,function(t,e,i){var n,r,o={},a=0;if(Array.isArray(e)){for(n=ce(t),r=e.length;a<r;a++)o[e[a]]=yt.css(t,e[a],!1,n);return o}return void 0!==i?yt.style(t,e,i):yt.css(t,e)},t,e,arguments.length>1)}}),yt.Tween=W,W.prototype={constructor:W,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||yt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(yt.cssNumber[i]?"":"px")},cur:function(){var t=W.propHooks[this.prop];return t&&t.get?t.get(this):W.propHooks._default.get(this)},run:function(t){var e,i=W.propHooks[this.prop];return this.options.duration?this.pos=e=yt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=yt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){yt.fx.step[t.prop]?yt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[yt.cssProps[t.prop]]&&!yt.cssHooks[t.prop]?t.elem[t.prop]=t.now:yt.style(t.elem,t.prop,t.now+t.unit)}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},yt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},yt.fx=W.prototype.init,yt.fx.step={};var ve,ye,be=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;yt.Animation=yt.extend(Z,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return b(i.elem,t,Wt.exec(e),i),i}]},tweener:function(t,e){yt.isFunction(t)?(e=t,t=["*"]):t=t.match(Nt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],Z.tweeners[i]=Z.tweeners[i]||[],Z.tweeners[i].unshift(e)},prefilters:[X],prefilter:function(t,e){e?Z.prefilters.unshift(t):Z.prefilters.push(t)}}),yt.speed=function(t,e,i){var n=t&&"object"==typeof t?yt.extend({},t):{complete:i||!i&&e||yt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!yt.isFunction(e)&&e};return yt.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in yt.fx.speeds?n.duration=yt.fx.speeds[n.duration]:n.duration=yt.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){yt.isFunction(n.old)&&n.old.call(this),n.queue&&yt.dequeue(this,n.queue)},n},yt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=yt.isEmptyObject(t),o=yt.speed(e,i,n),a=function(){var e=Z(this,yt.extend({},t),o);(r||Bt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=yt.timers,a=Bt.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&xe.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||yt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Bt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=yt.timers,a=n?n.length:0;for(i.finish=!0,yt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),yt.each(["toggle","show","hide"],function(t,e){var i=yt.fn[e];yt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(G(e,!0),t,n,r)}}),yt.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){yt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),yt.timers=[],yt.fx.tick=function(){var t,e=0,i=yt.timers;for(ve=yt.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||yt.fx.stop(),ve=void 0},yt.fx.timer=function(t){yt.timers.push(t),yt.fx.start()},yt.fx.interval=13,yt.fx.start=function(){ye||(ye=!0,$())},yt.fx.stop=function(){ye=null},yt.fx.speeds={slow:600,fast:200,_default:400},yt.fn.delay=function(t,e){return t=yt.fx?yt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=at.createElement("input"),e=at.createElement("select"),i=e.appendChild(at.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=i.selected,t=at.createElement("input"),t.value="t",t.type="radio",vt.radioValue="t"===t.value}();var we,ke=yt.expr.attrHandle;yt.fn.extend({attr:function(t,e){return Rt(this,yt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){yt.removeAttr(this,t)})}}),yt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?yt.prop(t,e,i):(1===o&&yt.isXMLDoc(t)||(r=yt.attrHooks[e.toLowerCase()]||(yt.expr.match.bool.test(e)?we:void 0)),void 0!==i?null===i?void yt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=yt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&l(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),we={set:function(t,e,i){return!1===e?yt.removeAttr(t,i):t.setAttribute(i,i),i}},yt.each(yt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ke[e]||yt.find.attr;ke[e]=function(t,e,n){var r,o,a=e.toLowerCase();return n||(o=ke[a],ke[a]=r,r=null!=i(t,e,n)?a:null,ke[a]=o),r}});var Ce=/^(?:input|select|textarea|button)$/i,Se=/^(?:a|area)$/i;yt.fn.extend({prop:function(t,e){return Rt(this,yt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[yt.propFix[t]||t]})}}),yt.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&yt.isXMLDoc(t)||(e=yt.propFix[e]||e,r=yt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=yt.find.attr(t,"tabindex");return e?parseInt(e,10):Ce.test(t.nodeName)||Se.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(yt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),yt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){yt.propFix[this.toLowerCase()]=this}),yt.fn.extend({addClass:function(t){var e,i,n,r,o,a,s,l=0;if(yt.isFunction(t))return this.each(function(e){yt(this).addClass(t.call(this,e,J(this)))});if("string"==typeof t&&t)for(e=t.match(Nt)||[];i=this[l++];)if(r=J(i),n=1===i.nodeType&&" "+K(r)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=K(n),r!==s&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,o,a,s,l=0;if(yt.isFunction(t))return this.each(function(e){yt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Nt)||[];i=this[l++];)if(r=J(i),n=1===i.nodeType&&" "+K(r)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s=K(n),r!==s&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):yt.isFunction(t)?this.each(function(i){yt(this).toggleClass(t.call(this,i,J(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=yt(this),o=t.match(Nt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=J(this),e&&Bt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Bt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+K(J(i))+" ").indexOf(e)>-1)return!0;return!1}});var Te=/\r/g;yt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=yt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,yt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=yt.map(r,function(t){return null==t?"":t+""})),(e=yt.valHooks[this.type]||yt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=yt.valHooks[r.type]||yt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Te,""):null==i?"":i)}}}),yt.extend({valHooks:{option:{get:function(t){var e=yt.find.attr(t,"value");return null!=e?e:K(yt.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:r.length;for(n=o<0?u:a?o:0;n<u;n++)if(i=r[n],(i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!l(i.parentNode,"optgroup"))){if(e=yt(i).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=yt.makeArray(e),a=r.length;a--;)n=r[a],(n.selected=yt.inArray(yt.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),yt.each(["radio","checkbox"],function(){yt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=yt.inArray(yt(t).val(),e)>-1}},vt.checkOn||(yt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Me=/^(?:focusinfocus|focusoutblur)$/;yt.extend(yt.event,{trigger:function(t,e,n,r){var o,a,s,l,u,c,h,d=[n||at],f=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||at,3!==n.nodeType&&8!==n.nodeType&&!Me.test(f+yt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[yt.expando]?t:new yt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:yt.makeArray(e,[t]),h=yt.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(n,e))){if(!r&&!h.noBubble&&!yt.isWindow(n)){for(l=h.delegateType||f,Me.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(n.ownerDocument||at)&&d.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||f,c=(Bt.get(a,"events")||{})[t.type]&&Bt.get(a,"handle"),c&&c.apply(a,e),(c=u&&a[u])&&c.apply&&Ft(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!Ft(n)||u&&yt.isFunction(n[f])&&!yt.isWindow(n)&&(s=n[u],s&&(n[u]=null),yt.event.triggered=f,n[f](),yt.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,i){var n=yt.extend(new yt.Event,i,{type:t,isSimulated:!0});yt.event.trigger(n,null,e)}}),yt.fn.extend({trigger:function(t,e){return this.each(function(){yt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return yt.event.trigger(t,e,i,!0)}}),yt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){yt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),yt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),vt.focusin="onfocusin"in i,vt.focusin||yt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){yt.event.simulate(e,t.target,yt.event.fix(t))};yt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Bt.access(n,e);r||n.addEventListener(t,i,!0),Bt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Bt.access(n,e)-1;r?Bt.access(n,e,r):(n.removeEventListener(t,i,!0),Bt.remove(n,e))}}});var Ae=i.location,Ee=yt.now(),Oe=/\?/;yt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||yt.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Le=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;yt.param=function(t,e){var i,n=[],r=function(t,e){var i=yt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!yt.isPlainObject(t))yt.each(t,function(){r(this.name,this.value)});else for(i in t)Q(i,t[i],e,r);return n.join("&")},yt.fn.extend({serialize:function(){return yt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=yt.prop(this,"elements");return t?yt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!yt(this).is(":disabled")&&Ne.test(this.nodeName)&&!De.test(t)&&(this.checked||!Xt.test(t))}).map(function(t,e){var i=yt(this).val();return null==i?null:Array.isArray(i)?yt.map(i,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:i.replace(Le,"\r\n")}}).get()}});var _e=/%20/g,Ie=/#.*$/,Re=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,je=/^(?:GET|HEAD)$/,Ue=/^\/\//,ze={},He={},We="*/".concat("*"),$e=at.createElement("a");$e.href=Ae.href,yt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:Be.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":yt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,yt.ajaxSettings),e):it(yt.ajaxSettings,t)},ajaxPrefilter:tt(ze),ajaxTransport:tt(He),ajax:function(t,e){function n(t,e,n,s){var u,d,f,x,w,k=e;c||(c=!0,l&&i.clearTimeout(l),r=void 0,a=s||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(x=nt(p,C,n)),x=rt(p,x,C,u),u?(p.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(yt.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(yt.etag[o]=w)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=x.state,d=x.data,f=x.error,u=!f)):(f=k,!t&&k||(k="error",t<0&&(t=0))),C.status=t,C.statusText=(e||k)+"",u?v.resolveWith(g,[d,k,C]):v.rejectWith(g,[C,k,f]),C.statusCode(b),b=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?d:f]),y.fireWith(g,[C,k]),h&&(m.trigger("ajaxComplete",[C,p]),--yt.active||yt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,a,s,l,u,c,h,d,f,p=yt.ajaxSetup({},e),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?yt(g):yt.event,v=yt.Deferred(),y=yt.Callbacks("once memory"),b=p.statusCode||{},x={},w={},k="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Fe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),n(0,e),this}};if(v.promise(C),p.url=((t||p.url||Ae.href)+"").replace(Ue,Ae.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Nt)||[""],null==p.crossDomain){u=at.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=$e.protocol+"//"+$e.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=yt.param(p.data,p.traditional)),et(ze,p,e,C),c)return C;h=yt.event&&p.global,h&&0==yt.active++&&yt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!je.test(p.type),o=p.url.replace(Ie,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(_e,"+")):(f=p.url.slice(o.length),p.data&&(o+=(Oe.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Re,"$1"),f=(Oe.test(o)?"&":"?")+"_="+Ee+++f),p.url=o+f),p.ifModified&&(yt.lastModified[o]&&C.setRequestHeader("If-Modified-Since",yt.lastModified[o]),yt.etag[o]&&C.setRequestHeader("If-None-Match",yt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+We+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,C,p)||c))return C.abort();if(k="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=et(He,p,e,C)){if(C.readyState=1,h&&m.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=i.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,r.send(x,n)}catch(t){if(c)throw t;n(-1,t)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return yt.get(t,e,i,"json")},getScript:function(t,e){return yt.get(t,void 0,e,"script")}}),yt.each(["get","post"],function(t,e){yt[e]=function(t,i,n,r){return yt.isFunction(i)&&(r=r||n,n=i,i=void 0),yt.ajax(yt.extend({url:t,type:e,dataType:r,data:i,success:n},yt.isPlainObject(t)&&t))}}),yt._evalUrl=function(t){return yt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},yt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt.isFunction(t)&&(t=t.call(this[0])),e=yt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt.isFunction(t)?this.each(function(e){yt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=yt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt.isFunction(t);return this.each(function(i){yt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){yt(this).replaceWith(this.childNodes)}),this}}),yt.expr.pseudos.hidden=function(t){return!yt.expr.pseudos.visible(t)},yt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},yt.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},Ge=yt.ajaxSettings.xhr();vt.cors=!!Ge&&"withCredentials"in Ge,vt.ajax=Ge=!!Ge,yt.ajaxTransport(function(t){var e,n;if(vt.cors||Ge&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),yt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),yt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return yt.globalEval(t),t}}}),yt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),yt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=yt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),at.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;yt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||yt.expando+"_"+Ee++;return this[t]=!0,t}}),yt.ajaxPrefilter("json jsonp",function(t,e,n){var r,o,a,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=yt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+r):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||yt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===o?yt(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(r)),a&&yt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),vt.createHTMLDocument=function(){var t=at.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),yt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,o;return e||(vt.createHTMLDocument?(e=at.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=at.location.href,e.head.appendChild(n)):e=at),r=At.exec(t),o=!i&&[],r?[e.createElement(r[1])]:(r=S([t],e,o),o&&o.length&&yt(o).remove(),yt.merge([],r.childNodes))},yt.fn.load=function(t,e,i){var n,r,o,a=this,s=t.indexOf(" ");return s>-1&&(n=K(t.slice(s)),t=t.slice(0,s)),yt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&yt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?yt("<div>").append(yt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},yt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){yt.fn[e]=function(t){return this.on(e,t)}}),yt.expr.pseudos.animated=function(t){return yt.grep(yt.timers,function(e){return t===e.elem}).length},yt.offset={setOffset:function(t,e,i){var n,r,o,a,s,l,u,c=yt.css(t,"position"),h=yt(t),d={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=yt.css(t,"top"),l=yt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(n=h.position(),a=n.top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),yt.isFunction(e)&&(e=e.call(t,i,yt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):h.css(d)}},yt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){yt.offset.setOffset(this,t,e)});var e,i,n,r,o=this[0];if(o)return o.getClientRects().length?(n=o.getBoundingClientRect(),e=o.ownerDocument,i=e.documentElement,r=e.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===yt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),l(t[0],"html")||(n=t.offset()),n={top:n.top+yt.css(t[0],"borderTopWidth",!0),left:n.left+yt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-yt.css(i,"marginTop",!0),left:e.left-n.left-yt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===yt.css(t,"position");)t=t.offsetParent;return t||Qt})}}),yt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;yt.fn[t]=function(n){return Rt(this,function(t,n,r){var o;if(yt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r},t,n,arguments.length)}}),yt.each(["top","left"],function(t,e){yt.cssHooks[e]=F(vt.pixelPosition,function(t,i){if(i)return i=R(t,e),ue.test(i)?yt(t).position()[e]+"px":i})}),yt.each({Height:"height",Width:"width"},function(t,e){yt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){yt.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border");return Rt(this,function(e,i,r){var o;return yt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?yt.css(e,i,s):yt.style(e,i,r,s)},e,a?r:void 0,a)}})}),yt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),yt.holdReady=function(t){t?yt.readyWait++:yt.ready(!0)},yt.isArray=Array.isArray,yt.parseJSON=JSON.parse,yt.nodeName=l,n=[],void 0!==(r=function(){return yt}.apply(e,n))&&(t.exports=r);var qe=i.jQuery,Ze=i.$;return yt.noConflict=function(t){return i.$===yt&&(i.$=Ze),t&&i.jQuery===yt&&(i.jQuery=qe),yt},o||(i.jQuery=i.$=yt),yt})},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t),this.listeners={}}return r(t,[{key:"addListener",value:function(t,e,i){for(var n=[],r=arguments.length,o=0;o<r;o++)n.push(arguments[o]);n=n.length>3?n.splice(3,n.length-1):[],void 0!==this.listeners[t]?this.listeners[t].push({scope:i,callback:e,args:n}):this.listeners[t]=[{scope:i,callback:e,args:n}]}},{key:"removeListener",value:function(t,e,i){if(void 0!==this.listeners[t]){for(var n=this.listeners[t].length,r=[],o=0;o<n;o++){var a=this.listeners[t][o];a.scope===i&&a.callback===e||r.push(a)}this.listeners[t]=r}}},{key:"dispatch",value:function(t){for(var e={type:t},i=[],n=arguments.length,r=0;r<n;r++)i.push(arguments[r]);if(i=i.length>1?i.splice(1,i.length-1):[],i=[e].concat(i),void 0!==this.listeners[t])for(var o=this.listeners[t].length,a=0;a<o;a++){var s=this.listeners[t][a];if(s&&s.callback){var l=i.concat(s.args);s.callback.apply(s.scope,l)}}}}]),t}();e.default=new o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.location.origin+"/service/supercharge";e.default={DB_INFO:n+"/databaseInfo",SITES:n+"/allSites",SITE_STALL_COUNT:n+"/site/stallCount",USER_CONFIG:n+"/userConfig",USER_ROUTE:n+"/userRoute",USER_ROUTE_COUNT:n+"/userRoute/count",CHANGES:n+"/allChanges",COUNTRY:n+"/country",FEEDBACK:n+"/feedback",LOGIN:n+"/login",LOGIN_CHECK:n+"/login/check",LOGOUT:n+"/login/out",PASSWORD_RESET:n+"/password/reset",PASSWORD_CHANGE:n+"/password/change",USER_CREATE:n+"/user/create",USER_EDIT:n+"/user/edit",FEATURE_CHECK:n+"/feature/check",FEATURE_LIST:n+"/feature/list",DISCUSS:n+"/discuss",STATIC_CONTENT:window.location.origin+"/static",TESLA_WEB_PAGE:"http://www.teslamotors.com/findus/location/supercharger/",DEFAULT_DISCUSS_URL:"https://teslamotorsclub.com/tmc/forums/charging-standards-and-infrastructure.77/"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={};o.sendEvent=function(t,e,i,n){var o={hitType:"event",eventCategory:t,eventAction:e};r.default.isNotNullOrUndef(i)&&(o.eventLabel=i),r.default.isNotNullOrUndef(n)&&(o.eventValue=n),window.ga("send",o)},e.default=o},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t)}return r(t,null,[{key:"nullSafeToString",value:function(e){return t.isNullOrUndef(e)?"":e.toString()}},{key:"isNullOrUndef",value:function(t){return null===t||void 0===t}},{key:"isNotNullOrUndef",value:function(t){return null!==t&&void 0!==t}},{key:"isNumber",value:function(t){return"number"==typeof t&&!isNaN(t)}},{key:"propertiesSorted",value:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e.sort(),e}}]),t}();e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){for(var e="{",i=c.default.propertiesSorted(t),n=0;n<i.length;n++){var r=i[n],a=t[r],s="";if(Array.isArray(a)){s+="[";for(var l=0;l<a.length;l++)s+=o(a[l]),l!==a.length-1&&(s+=",");s+="]"}else s=c.default.nullSafeToString(a);e=e+r+":"+s,n!==i.length-1&&(e+=",")}return e.toLowerCase()+"}"}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(2),l=n(s),u=i(4),c=n(u),h=i(0),d=n(h),f=i(6),p=n(f),g=null,m=function(){function t(){r(this,t),this.unit=null,this.changesPageRegion=null,this.changesPageCountry=null,this.dataPageRegion=null,this.dataPageCountry=null,this.latitude=null,this.longitude=null,this.zoom=null,this.customMarkers=[]}return a(t,[{key:"setUnit",value:function(t){this.unit=t.getCode(),this.scheduleSave()}},{key:"setLatLngZoom",value:function(t,e,i){this.latitude=t,this.longitude=e,this.zoom=i,this.scheduleSave()}},{key:"setRegionCountry",value:function(t,e,i){"changes"===t?"region"===e?this.changesPageRegion=i:"country"===e&&(this.changesPageCountry=i):"data"===t&&("region"===e?this.dataPageRegion=i:"country"===e&&(this.dataPageCountry=i)),this.scheduleSave()}},{key:"addCustomMarker",value:function(t){this.customMarkers.push(t),this.scheduleSave()}},{key:"removeCustomMarker",value:function(t,e,i){for(var n=0;n<this.customMarkers.length;n++){var r=this.customMarkers[n];r.name===t&&r.lat===e&&r.lng===i&&this.customMarkers.splice(n,1)}this.scheduleSave()}},{key:"isLocationSet",value:function(){return c.default.isNotNullOrUndef(this.latitude)&&c.default.isNotNullOrUndef(this.longitude)}},{key:"isZoomSet",value:function(){return c.default.isNotNullOrUndef(this.zoom)}},{key:"isChangesPageRegionSet",value:function(){return c.default.isNotNullOrUndef(this.changesPageRegion)}},{key:"isChangesPageCountrySet",value:function(){return c.default.isNotNullOrUndef(this.changesPageCountry)}},{key:"isChangesPageRegionOrCountrySet",value:function(){return this.isChangesPageRegionSet()||this.isChangesPageCountrySet()}},{key:"getUnit",value:function(){return p.default.fromString(this.unit)}},{key:"load",value:function(){var t=this;return d.default.getJSON(l.default.USER_CONFIG).done(function(e){t.unit=e.unit,t.latitude=e.latitude,t.longitude=e.longitude,t.zoom=e.zoom,t.changesPageRegion=e.changesPageRegion,t.changesPageCountry=e.changesPageCountry,t.dataPageRegion=e.dataPageRegion,t.dataPageCountry=e.dataPageCountry,t.customMarkers=e.customMarkers,g=o(t),console.log("UserConfig.load(): "+g)})}},{key:"save",value:function(){if(o(this)===g)return void console.log("UserConfig.save(): aborting save, nothing changed.");g=o(this),d.default.ajax({url:l.default.USER_CONFIG,data:JSON.stringify(this),contentType:"application/json",type:"POST"}).done(function(){console.log("UserConfig.save(): "+g)})}},{key:"scheduleSave",value:function(){var t=this;d.default.doTimeout("saveUserConfigTimerId",2e3,function(){t.save()})}}]),t}(),v=new m;e.default=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(43),o=n(r),a=i(12),s=n(a),l={M:new o.default("meter","m",1),KM:new o.default("kilometer","km",1e3),MI:new o.default("mile","mi",1609.34),FT:new o.default("feet","ft",.3048)};l.fromString=function(t){return s.default.equalsIgnoreCase(t,"mi")?l.MI:s.default.equalsIgnoreCase(t,"km")?l.KM:s.default.equalsIgnoreCase(t,"m")?l.M:s.default.equalsIgnoreCase(t,"ft")?l.FT:void 0},e.default=l},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(14),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(){n(this,t),this.predicates=[],this.sortFunction=null}return r(t,[{key:"withPredicate",value:function(t){return this.predicates.push(t),this}},{key:"withSort",value:function(t){return this.sortFunction=t,this}},{key:"iterate",value:function(t){var e=a.default.getAll(),i=e.length,n=0;for(null!==this.sortFunction&&e.sort(this.sortFunction);n<i;n++){var r=e[n];(0===this.predicates.length||this.predicatesApply(r))&&t(r)}}},{key:"predicatesApply",value:function(t){for(var e=0;e<this.predicates.length;e++)if(!this.predicates[e](t))return!1;return!0}},{key:"toArray",value:function(){var t=[];return this.iterate(function(e){t.push(e)}),t}}]),t}();e.default=s},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i,r,o,a,s){n(this,t),this.street=e,this.city=i,this.state=r,this.zip=o,this.country=a,this.region=s}return r(t,[{key:"isNorthAmerica",value:function(){return this.region===t.REGION_NORTH_AMERICA}},{key:"isAsia",value:function(){return this.region===t.REGION_ASIA_PACIFIC}},{key:"isEurope",value:function(){return this.region===t.REGION_EUROPE}}],[{key:"fromJSON",value:function(e){return new t(e.street,e.city,e.state,e.zip,e.country,e.region)}}]),t}();o.COUNTRY_AUSTRAILIA="Australia",o.COUNTRY_CHINA="China",o.COUNTRY_JAPAN="Japan",o.COUNTRY_USA="USA",o.COUNTRY_CANADA="Canada",o.COUNTRY_WORLD="World",o.REGION_EUROPE="Europe",o.REGION_NORTH_AMERICA="North America",o.REGION_ASIA_PACIFIC="Asia Pacific",e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={IS_OPEN:function(t){return t.isOpen()},IS_CONSTRUCTION:function(t){return t.isConstruction()},IS_PERMIT:function(t){return t.isPermit()},IS_COUNTED:function(t){return t.count},NOT_USER_ADDED:function(t){return!t.isUserAdded()},USER_ADDED:function(t){return t.isUserAdded()},IS_OPEN_AND_COUNTED:function(t){return o.IS_OPEN(t)&&o.IS_COUNTED(t)},HAS_NO_MARKER:function(t){return r.default.isNullOrUndef(t.marker)},HAS_MARKER:function(t){return r.default.isNotNullOrUndef(t.marker)},buildInViewPredicate:function(t){return function(e){return t.contains(e.location)}},not:function(t){return function(e){return!t(e)}},or:function(t,e){return function(i){return t(i)||e(i)}}};e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=n(r),a=i(17),s=n(a),l=i(5),u=n(l),c=i(6),h=n(c),d=function t(){var e=s.default.getRangeMi(),i=s.default.getRangeKm();e?(this.rangeMeters=t.milesToMeters(e),this.displayUnit=h.default.MI):i?(this.rangeMeters=t.kilometersToMeters(i),this.displayUnit=h.default.KM):(this.rangeMeters=t.milesToMeters(160),this.displayUnit=h.default.MI)};d.MILES_MIN=0,d.MILES_MAX=300,d.METERS_PER_MILE=1609.34,d.METERS_PER_KM=1e3,d.prototype.getCurrent=function(){return this.displayUnit.isMiles()?d.metersToMiles(this.rangeMeters):d.metersToKilometers(this.rangeMeters)},d.prototype.setCurrent=function(t){this.displayUnit.isMiles()?this.rangeMeters=d.milesToMeters(t):this.rangeMeters=d.kilometersToMeters(t),this.fireRangeChangedEvent()},d.prototype.getMin=function(){return this.displayUnit.isMiles()?d.MILES_MIN:d.milesToKilometers(d.MILES_MIN)},d.prototype.getMax=function(){return this.displayUnit.isMiles()?d.MILES_MAX:d.milesToKilometers(d.MILES_MAX)},d.prototype.getRangeMeters=function(){return this.rangeMeters},d.prototype.setDisplayUnit=function(t){this.displayUnit=t,this.fireUnitChangedEvent(),u.default.setUnit(t)},d.prototype.getDisplayUnit=function(){return this.displayUnit},d.prototype.fireRangeChangedEvent=function(){o.default.dispatch("range-model-range-changed-event")},d.prototype.fireUnitChangedEvent=function(){o.default.dispatch("range-model-unit-changed-event")},d.milesToMeters=function(t){return Math.round(d.METERS_PER_MILE*t)},d.milesToKilometers=function(t){return Math.round(d.METERS_PER_MILE*t/d.METERS_PER_KM)},d.metersToMiles=function(t){return Math.round(t/d.METERS_PER_MILE)},d.metersToKilometers=function(t){return Math.round(t/d.METERS_PER_KM)},d.kilometersToMeters=function(t){return Math.round(t*d.METERS_PER_KM)},e.default=new d},function(t,e){!function(e,i){"object"==typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)}("undefined"!=typeof window?window:this,function(t){t=function(){var t=window,e=t.document,i=t.navigator&&t.navigator.userAgent||"",n=e&&e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(i)&&!window.opera,o=!n,a=/Firefox/.test(i),s=a&&4>parseInt(i.split("Firefox/")[1],10);return t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.12",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:s,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:r,isWebKit:/AppleWebKit/.test(i),isFirefox:a,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:n,vml:o,win:t,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}(),function(t){var e=[],i=t.charts,n=t.doc,r=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);r.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&1>r)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?e[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,i,n){var r,o=this,a=function(t){return!a.stopped&&o.step(t)};this.startTime=+new Date,this.start=t,this.end=i,this.unit=n,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===e.push(a)&&(a.timerId=setInterval(function(){for(r=0;r<e.length;r++)e[r]()||e.splice(r--,1);e.length||clearInterval(a.timerId)},13))},step:function(e){var i,n=+new Date,r=this.options,o=this.elem,a=r.complete,s=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||n>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(i=!1)}),i&&a&&a.call(o),e=!1):(this.pos=r.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,n){function r(t){var e,i;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],i=/[a-zA-Z]/.test(t[c+3]),e&&i&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,p);[].splice.apply(t,[0,0].concat(i)),m&&(i=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(i)),c--)}t[0]="M"}function a(t,e){for(var i=(l-t.length)/p;0<i&&i--;)u=t.slice().splice(t.length/v-p,p*v),u[0]=e[l-p-i*p],f&&(u[p-6]=u[p-2],u[p-5]=u[p-1]),[].splice.apply(t,[t.length/v,0].concat(u)),m&&i--}i=i||"";var s,l,u,c,h=e.startX,d=e.endX,f=-1<i.indexOf("C"),p=f?7:3;i=i.split(" "),n=n.slice();var g,m=e.isArea,v=m?2:1;if(f&&(r(i),r(n)),h&&d){for(c=0;c<h.length;c++){if(h[c]===d[0]){s=c;break}if(h[0]===d[d.length-h.length+c]){s=c,g=!0;break}}void 0===s&&(i=[])}return i.length&&t.isNumber(s)&&(l=n.length+s*v*p,g?(o(i,n),a(n,i)):(o(n,i),a(i,n))),[i,n]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.merge=function(){var e,i,n=arguments,r={},o=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,function(n,r){!t.isObject(n,!0)||t.isClass(n)||t.isDOMElement(n)?e[r]=i[r]:e[r]=o(e[r]||{},n)}),e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;e<i;e++)r=o(r,n[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,n){var r;return t.isString(i)?t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(r=e.getAttribute(i)):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,r,o,a){e=n.createElement(e);var s=t.css;return i&&t.extend(e,i),a&&s(e,{padding:0,border:"none",margin:0}),r&&s(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){n.apply(r,arguments.length?arguments:e)},t.unshift(n),t=i.apply(this,t),r.proceed=null,t}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,n){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=t.Date,o=new r(i-t.getTZOffset(i)),a=o[r.hcGetHours](),s=o[r.hcGetDay](),l=o[r.hcGetDate](),u=o[r.hcGetMonth](),c=o[r.hcGetFullYear](),h=t.defaultOptions.lang,d=h.weekdays,f=h.shortWeekdays,p=t.pad,r=t.extend({a:f?f[s]:d[s].substr(0,3),A:d[s],d:p(l),e:p(l,2," "),w:s,b:h.shortMonths[u],B:h.months[u],m:p(u+1),y:c.toString().substr(2,2),Y:c,H:p(a),k:a,I:p(a%12||12),l:a%12||12,M:p(o[r.hcGetMinutes]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:p(o.getSeconds()),L:p(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(r,function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof t?t(i):t)}),n?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var n=/\.([0-9])/,r=t.defaultOptions.lang;return/f$/.test(e)?(n=(n=e.match(n))?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,r.decimalPoint,-1<e.indexOf(",")?r.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var n,r,o,a,s,l="{",u=!1,c=[];e&&-1!==(l=e.indexOf(l));){if(n=e.slice(0,l),u){for(n=n.split(":"),r=n.shift().split("."),a=r.length,s=i,o=0;o<a;o++)s=s[r[o]];n.length&&(s=t.formatSingle(n.join(":"),s)),c.push(s)}else c.push(n);e=e.slice(l+1),l=(u=!u)?"}":"{"}return c.push(e),c.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,r,o){var a,s=e;for(n=t.pick(n,1),a=e/n,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?i=t.grep(i,function(t){return 0==t%1}):.1>=n&&(i=[1/n]))),r=0;r<i.length&&(s=i[r],!(o&&s*n>=e||!o&&a<=(i[r]+(i[r+1]||i[r]))/2));r++);return s=t.correctFloat(s*n,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<r;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,n){t&&t!==i&&t.destroy&&t.destroy(),delete e[n]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,r){e=+e||0,i=+i;var o,a,s=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").length;return-1===i?i=Math.min(l,20):t.isNumber(i)||(i=2),a=(Math.abs(e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),l=String(t.pInt(a)),o=3<l.length?l.length%3:0,n=t.pick(n,s.decimalPoint),r=t.pick(r,s.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(e+=n+a.slice(-i)),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,n){return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):((e=r.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(n,!0)&&(e=t.pInt(e))),e)},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.find=function(t,e){return[].find.call(t,e)},t.map=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.offset=function(t){var e=n.documentElement;return t=t.getBoundingClientRect(),{top:t.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t,i){for(var n=e.length;n--;)e[n].elem!==t||i&&i!==e[n].prop||(e[n].stopped=!0)},t.each=function(t,e,i){return Array.prototype.forEach.call(t,e,i)},t.objectEach=function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)},t.addEvent=function(e,i,n){function o(t){t.target=t.srcElement||r,n.call(e,t)}var a=e.hcEvents=e.hcEvents||{};return e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=o,e.attachEvent("on"+i,o)),a[i]||(a[i]=[]),a[i].push(n),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function r(t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&(i=e.hcEventsIE[i.toString()],e.detachEvent("on"+t,i))}function o(){var n,o;e.nodeName&&(i?(n={},n[i]=!0):n=l,t.objectEach(n,function(t,e){if(l[e])for(o=l[e].length;o--;)r(e,l[e][o])}))}var a,s,l=e.hcEvents;l&&(i?(a=l[i]||[],n?(s=t.inArray(n,a),-1<s&&(a.splice(s,1),l[i]=a),r(i,n)):(o(),l[i]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,i,r,o){var a;a=e.hcEvents;var s,l;if(r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent))a=n.createEvent("Events"),a.initEvent(i,!0,!0),t.extend(a,r),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(i,a);else if(a)for(a=a[i]||[],s=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),i=0;i<s;i++)(l=a[i])&&!1===l.call(e,r)&&r.preventDefault();o&&!r.defaultPrevented&&o(r)},t.animate=function(e,i,n){var r,o,a,s,l="";t.isObject(n)||(s=arguments,n={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i),t.objectEach(i,function(s,u){t.stop(e,u),a=new t.Fx(e,n,u),o=null,"d"===u?(a.paths=a.initPath(e,e.d,i.d),a.toD=i.d,r=0,o=1):e.attr?r=e.attr(u):(r=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),o||(o=s),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),a.run(r,o,l)})},t.seriesType=function(e,i,n,r,o){var a=t.getOptions(),s=t.seriesTypes;return s[e]?t.error(27):(a.plotOptions[e]=t.merge(a.plotOptions[i],n),s[e]=t.extendClass(s[i]||function(){},r),s[e].prototype.type=e,o&&(s[e].prototype.pointClass=t.extendClass(t.Point,o)),s[e])},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):i[t.attr(this[0],"data-highcharts-chart")]}),n&&!n.defaultView&&(t.getStyle=function(e,i){var n={width:"clientWidth",height:"clientHeight"}[i];return e.style[i]?t.pInt(e.style[i]):("opacity"===i&&(i="filter"),n?(e.style.zoom=1,Math.max(e[n]-2*t.getStyle(e,"padding"),0)):(e=e.currentStyle[i.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===i&&(e=e.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===e?1:t.pInt(e)))}),Array.prototype.forEach||(t.each=function(t,e,i){for(var n=0,r=t.length;n<r;n++)if(!1===e.call(i,t[n],n,t))return n}),Array.prototype.indexOf||(t.inArray=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)e(t[n],n)&&i.push(t[n]);return i}),Array.prototype.find||(t.find=function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]})}(t),function(t){var e=t.each,i=t.isNumber,n=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,r,o,a;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=n(e.stops,function(e){return new t.Color(e[1])});else if(e&&"#"===e[0]&&(i=e.length,e=parseInt(e.substr(1),16),7===i?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)a=this.parsers[o],(i=a.regex.exec(e))&&(r=a.parse(i));this.rgba=r||[]},get:function(t){var n,o=this.input,a=this.rgba;return this.stops?(n=r(o),n.stops=[].concat(n.stops),e(this.stops,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":o,n},brighten:function(t){var n,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(n=0;3>n;n++)r[n]+=o(255*t),0>r[n]&&(r[n]=0),255<r[n]&&(r[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i,n;return t.rgba.length?(i=this.rgba,t=t.rgba,n=1!==t[3]||1!==i[3],t=(n?"rgba(":"rgb(")+Math.round(t[0]+(i[0]-t[0])*(1-e))+","+Math.round(t[1]+(i[1]-t[1])*(1-e))+","+Math.round(t[2]+(i[2]-t[2])*(1-e))+(n?","+(t[3]+(i[3]-t[3])*(1-e)):"")+")"):t=t.input||"none",t}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,i,n=t.addEvent,r=t.animate,o=t.attr,a=t.charts,s=t.color,l=t.css,u=t.createElement,c=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,f=t.doc,p=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,w=t.isFirefox,k=t.isMS,C=t.isObject,S=t.isString,T=t.isWebKit,M=t.merge,A=t.noop,E=t.objectEach,O=t.pick,P=t.pInt,L=t.removeEvent,D=t.stop,N=t.svg,_=t.SVG_NS,I=t.symbolSizes,R=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:_,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?u(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,n){return i=t.animObject(O(i,this.renderer.globalAnimation,!0)),0!==i.duration?(n&&(i.complete=n),r(this,e,i)):(this.attr(e,null,n),i.step&&i.step.call(this)),this},colorGradient:function(e,i,n){var r,o,a,s,l,u,h,d,f,g,m,v=this.renderer,y=[];e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(a=e[o],l=v.gradients,h=e.stops,g=n.radialReference,x(a)&&(e[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(a.gradientUnits)&&(s=a,a=M(a,v.getRadialAttr(g,s),{gradientUnits:"userSpaceOnUse"})),E(a,function(t,e){"id"!==e&&y.push(e,t)}),E(h,function(t){y.push(t)}),y=y.join(","),l[y]?g=l[y].attr("id"):(a.id=g=t.uniqueKey(),l[y]=u=v.createElement(o).attr(a).add(v.defs),u.radAttr=s,u.stops=[],p(h,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),f=r.get("a")):(d=e[1],f=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":f}).add(u),u.stops.push(e)})),m="url("+v.url+"#"+g+")",n.setAttribute(i,m),n.gradient=y,e.toString=function(){return m})},applyTextOutline:function(e){var i,n,r,a,s,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),n=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),s=e.length;s--;)i=e[s],"highcharts-text-outline"===i.getAttribute("class")&&m(e,l.removeChild(i));a=l.firstChild,p(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,a)})}},attr:function(t,e,i,n){var r,o,a,s,l=this.element,u=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(E(t,function(e,i){a=!1,n||D(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),a=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),a||(s=this[i+"Setter"]||this._defaultSetter,s.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,s))},this),this.afterSetters()),i&&i(),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==o(this.element,"class").indexOf(t)},removeClass:function(t){return o(this.element,"class",(o(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;p("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=O(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,n=this,r={};return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||n.x||0)+i,t.y=Math.floor(t.y||n.y||0)+i,t.width=Math.floor((t.width||n.width||0)-2*i),t.height=Math.floor((t.height||n.height||0)-2*i),c(t.strokeWidth)&&(t.strokeWidth=e),E(t,function(t,e){n[e]!==t&&(n[e]=r[e]=t)}),r},css:function(t){var e,i,n=this.styles,r={},a=this.element,s="",u=!n,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),n&&E(t,function(t,e){t!==n[e]&&(r[e]=t,u=!0)}),u&&(n&&(t=g(n,r)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===a.nodeName.toLowerCase()&&P(t.width),this.styles=t,e&&!N&&this.renderer.forExport&&delete t.width,k&&!N?l(this.element,t):(i=function(t,e){return"-"+e.toLowerCase()},E(t,function(t,e){-1===b(e,c)&&(s+=e.replace(/([A-Z])/g,i)+":"+t+";")}),s&&o(a,"style",s)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return y&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===R.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,a=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(c(i)||c(n))&&t.push("scale("+O(i,1)+" "+O(n,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,o,a,s={};r=this.renderer,o=r.alignedObjects;var l,u;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=n=i||"renderer",m(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=O(i,r[n],r),n=t.align,r=t.verticalAlign,o=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),"right"===n?l=1:"center"===n&&(l=2),l&&(o+=(i.width-(t.width||0))/l),s[e?"translateX":"x"]=Math.round(o),"bottom"===r?u=1:"middle"===r&&(u=2),u&&(a+=(i.height-(t.height||0))/u),s[e?"translateY":"y"]=Math.round(a),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(t,e){var i,n,r,o,a,s=this.renderer,l=this.element,u=this.styles,c=this.textStr,d=s.cache,f=s.cacheKeys;if(e=O(e,this.rotation),n=e*h,r=u&&u.fontSize,void 0!==c&&(a=c.toString(),-1===a.indexOf("<")&&(a=a.replace(/[0-9]/g,"0")),a+=["",e||0,r,u&&u.width,u&&u.textOverflow].join()),a&&!t&&(i=d[a]),!i){if(l.namespaceURI===this.SVG_NS||s.forExport){try{(o=this.fakeTS&&function(t){p(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),i=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(s.isSVG&&(t=i.width,s=i.height,u&&"11px"===u.fontSize&&17===Math.round(s)&&(i.height=s=14),e&&(i.width=Math.abs(s*Math.sin(n))+Math.abs(t*Math.cos(n)),i.height=Math.abs(s*Math.cos(n))+Math.abs(t*Math.sin(n)))),a&&0<i.height){for(;250<f.length;)delete d[f.shift()];d[a]||f.push(a),d[a]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,n=e.ownerSVGElement;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,D(t),t.clipPath&&n&&(p(n.querySelectorAll("[clip-path]"),function(e){-1<e.getAttribute("clip-path").indexOf(t.clipPath.element.id+")")&&e.removeAttribute("clip-path")}),t.clipPath=t.clipPath.destroy()),t.stops){for(n=0;n<t.stops.length;n++)t.stops[n]=t.stops[n].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&m(t.renderer.alignedObjects,t),E(t,function(e,i){delete t[i]}),null},shadow:function(t,e,i){var n,r,a,s,l,u,c=[],h=this.element;if(t){if(!this.shadows){for(s=O(t.width,3),l=(t.opacity||.15)/s,u=this.parentInverted?"(-1,-1)":"("+O(t.offsetX,1)+", "+O(t.offsetY,1)+")",n=1;n<=s;n++)r=h.cloneNode(0),a=2*s+1-2*n,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":a,transform:"translate"+u,fill:"none"}),i&&(o(r,"height",Math.max(o(r,"height")-a,0)),r.cutHeight=a),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=O(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=P(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(O(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,r=this.renderer,o=this.parentGroup,a=(o||r).element||r.box,s=this.element;i=this.added;var l;if(c(t)&&(s.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&o&&(o.handleZ=!0),e=a.childNodes,l=0;l<e.length&&!n;l++)o=e[l],i=o.zIndex,o!==s&&(P(i)>t||!c(t)&&c(i)||0>t&&!c(i)&&a!==r.box)&&(a.insertBefore(s,o),n=!0);n||a.appendChild(s)}return n},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(i.prototype,{Element:e,SVG_NS:_,init:function(t,e,i,r,a,s){var u;r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r)),u=r.element,t.appendChild(u),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(w||T)&&f.getElementsByTagName("base").length?R.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 5.0.12")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1);var c;w&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),c=t.getBoundingClientRect(),l(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),this.unSubPixelFix=n(R,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t,e){var i=t.getBBox(!0).width;return!N&&this.forExport&&(i=this.measureSpanWidth(e.firstChild.data,t.styles)),i},applyEllipsis:function(t,e,i,n){var r,o=this.getSpanWidth(t,e),a=o>n,o=i,s=0,l=i.length,u=function(t){e.removeChild(e.firstChild),t&&e.appendChild(f.createTextNode(t))};if(a){for(;s<=l;)r=Math.ceil((s+l)/2),o=i.substring(0,r)+"â¦",u(o),o=this.getSpanWidth(t,e),s===l?s=l+1:o>n?l=r-1:s=r;0===l&&u("")}return a},buildText:function(t){var e,i,n,r,a,s,u=t.element,c=this,h=c.forExport,d=O(t.textStr,"").toString(),g=-1!==d.indexOf("<"),m=u.childNodes,y=o(u,"x"),b=t.styles,x=t.textWidth,w=b&&b.lineHeight,k=b&&b.textOutline,C=b&&"ellipsis"===b.textOverflow,S=b&&"nowrap"===b.whiteSpace,T=b&&b.fontSize,M=m.length,b=x&&!t.added&&this.box,A=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:T||c.style.fontSize||12,w?P(w):c.fontMetrics(e,t.getAttribute("style")?t:u).h};if((a=[d,C,S,w,k,T,x].join())!==t.textCache){for(t.textCache=a;M--;)u.removeChild(m[M]);g||k||C||x||-1!==d.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,n=/<.*href="([^"]+)".*>/,b&&b.appendChild(u),d=g?d.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[d],d=v(d,function(t){return""!==t}),p(d,function(a,d){var g,m=0;a=a.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=a.split("|||"),p(g,function(a){if(""!==a||1===g.length){var p,v,b={},w=f.createElementNS(c.SVG_NS,"tspan");if(e.test(a)&&(p=a.match(e)[1],o(w,"class",p)),i.test(a)&&(v=a.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(w,"style",v)),n.test(a)&&!h&&(o(w,"onclick",'location.href="'+a.match(n)[1]+'"'),l(w,{cursor:"pointer"}))," "!==(a=(a.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(w.appendChild(f.createTextNode(a)),m?b.dx=0:d&&null!==y&&(b.x=y),o(w,b),u.appendChild(w),!m&&s&&(!N&&h&&l(w,{display:"block"}),o(w,"dy",A(w))),x){b=a.replace(/([^\^])-/g,"$1- ").split(" "),p=1<g.length||d||1<b.length&&!S;var k,T=[],M=A(w),E=t.rotation;for(C&&(r=c.applyEllipsis(t,w,a,x));!C&&p&&(b.length||T.length);)t.rotation=0,k=c.getSpanWidth(t,w),a=k>x,void 0===r&&(r=a),a&&1!==b.length?(w.removeChild(w.firstChild),T.unshift(b.pop())):(b=T,T=[],b.length&&!S&&(w=f.createElementNS(_,"tspan"),o(w,{dy:M,x:y}),v&&o(w,"style",v),u.appendChild(w)),k>x&&(x=k)),b.length&&w.appendChild(f.createTextNode(b.join(" ").replace(/- /g,"-")));t.rotation=E}m++}}}),s=s||u.childNodes.length}),r&&t.attr("title",t.textStr),b&&b.removeChild(u),k&&t.applyTextOutline&&t.applyTextOutline(k)):u.appendChild(f.createTextNode(d.replace(/&lt;/g,"<").replace(/&gt;/g,">")))}},getContrast:function(t){return t=s(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,a,s,l,u){var c=this.label(t,e,i,u,null,null,null,null,"button"),h=0;c.attr(M({padding:8,r:2},o));var d,f,p,m;return o=M({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),d=o.style,delete o.style,a=M(o,{fill:"#e6e6e6"},a),f=a.style,delete a.style,s=M(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),p=s.style,delete s.style,l=M(o,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,n(c.element,k?"mouseover":"mouseenter",function(){3!==h&&c.setState(1)}),n(c.element,k?"mouseout":"mouseleave",function(){3!==h&&c.setState(h)}),c.setState=function(t){1!==t&&(c.state=h=t),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),c.attr([o,a,s,l][t||0]).css([d,f,p,m][t||0])},c.attr(o).css(g({cursor:"default"},d)),c.on("click",function(t){3!==h&&r.call(c,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:C(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=C(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,r,o){return C(t)?(n=t,e=n.y,i=n.r,t=n.x):n={innerR:n,start:r,end:o},t=this.symbol("arc",t,e,i,i,n),t.r=i,t},rect:function(t,e,i,n,r,a){r=C(t)?t.r:r;var s=this.createElement("rect");return t=C(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)},void 0!==a&&(t.strokeWidth=a,t=s.crisp(t)),t.fill="none",r&&(t.r=r),s.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:O(i,!0)?void 0:0});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&g(o,{x:e,y:i,width:n,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var s,h,d,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],w=c(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(i),n,r,o);return x?(s=this.path(w),s.attr("fill","none"),g(s,{symbolName:b,x:e,y:i,width:n,height:r}),o&&g(s,o)):y&&(h=t.match(v)[1],s=this.image(h),s.imgwidth=O(I[h]&&I[h].width,o&&o.width),s.imgheight=O(I[h]&&I[h].height,o&&o.height),d=function(){s.attr({width:s.width,height:s.height})},p(["width","height"],function(t){s[t+"Setter"]=function(t,e){var i={},n=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[r]=((this[e]||0)-n)/2,this.attr(i)))}}),c(e)&&s.attr({x:e,y:i}),s.isImg=!0,c(s.imgwidth)&&c(s.imgheight)?d():(s.attr({width:0,height:0}),u("img",{onload:function(){var t=a[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),I[h]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&d(),this.parentNode&&this.parentNode.removeChild(this),!--m.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),s},symbols:{circle:function(t,e,i,n){return this.arc(t+i/2,e+n/2,i/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,a=r.r||i,s=r.r||n||i,l=r.end-.001;i=r.innerR,n=r.open;var u=Math.cos(o),h=Math.sin(o),d=Math.cos(l),l=Math.sin(l);return r=r.end-o<Math.PI?0:1,a=["M",t+a*u,e+s*h,"A",a,s,0,r,1,t+a*d,e+s*l],c(i)&&a.push(n?"M":"L",t+i*d,e+i*l,"A",i,i,0,r,0,t+i*u,e+i*h),a.push(n?"":"Z"),a},callout:function(t,e,i,n,r){var o=Math.min(r&&r.r||0,i,n),a=o+6,s=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",t+o,e,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+n-o,"C",t+i,e+n,t+i,e+n,t+i-o,e+n,"L",t+o,e+n,"C",t,e+n,t,e+n,t,e+n-o,"L",t,e+o,"C",t,e,t,e,t+o,e],s&&s>i?r>e+a&&r<e+n-a?l.splice(13,3,"L",t+i,r-6,t+i+6,r,t+i,r+6,t+i,e+n-o):l.splice(13,3,"L",t+i,n/2,s,r,t+i,n/2,t+i,e+n-o):s&&0>s?r>e+a&&r<e+n-a?l.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):l.splice(33,3,"L",t,n/2,s,r,t,n/2,t,e+o):r&&r>n&&s>t+a&&s<t+i-a?l.splice(23,3,"L",s+6,e+n,s,e+n+6,s-6,e+n,t+o,e+n):r&&0>r&&s>t+a&&s<t+i-a&&l.splice(3,3,"L",s-6,e,s,e-6,s+6,e,i-o,e),l}},clipRect:function(e,i,n,r){var o=t.uniqueKey(),a=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,i,n,r,0).add(a),e.id=o,e.clipPath=a,e.count=0,e},text:function(t,e,i,n){var r=!N&&this.forExport,o={};return!n||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),a=i.getAttribute(e);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(e)===a&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?P(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:n}},label:function(i,n,r,o,a,s,l,u,h){var d,f,m,v,y,b,x,w,k,C,S,T,A,E=this,O=E.g("button"!==h&&"label"),P=O.text=E.text("",0,0,l).attr({zIndex:1}),D=0,N=3,_=0,I={},R=/^url\((.*?)\)$/.test(o),F=R;h&&O.addClass("highcharts-"+h),F=R,C=function(){return(w||0)%2/2},S=function(){var t=P.element.style,e={};f=(void 0===m||void 0===v||x)&&c(P.textStr)&&P.getBBox(),O.width=(m||f.width||0)+2*N+_,O.height=(v||f.height||0)+2*N,k=N+E.fontMetrics(t&&t.fontSize,P).b,F&&(d||(O.box=d=E.symbols[o]||R?E.symbol(o):E.rect(),d.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),d.add(O),t=C(),e.x=t,e.y=(u?-k:0)+t),e.width=Math.round(O.width),e.height=Math.round(O.height),d.attr(g(e,I)),I={})},T=function(){var t,e=_+N;t=u?0:k,c(m)&&f&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(m-f.width)),e===P.x&&t===P.y||(P.attr("x",e),void 0!==t&&P.attr("y",t)),P.x=e,P.y=t},A=function(t,e){d?d.attr(t,e):I[t]=e},O.onAdd=function(){P.add(O),O.attr({text:i||0===i?i:"",x:n,y:r}),d&&c(a)&&O.attr({anchorX:a,anchorY:s})},O.widthSetter=function(e){m=t.isNumber(e)?e:null},O.heightSetter=function(t){v=t},O["text-alignSetter"]=function(t){x=t},O.paddingSetter=function(t){c(t)&&t!==N&&(N=O.padding=t,T())},O.paddingLeftSetter=function(t){c(t)&&t!==_&&(_=t,T())},O.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==D&&(D=t,f&&O.attr({x:y}))},O.textSetter=function(t){void 0!==t&&P.textSetter(t),S(),T()},O["stroke-widthSetter"]=function(t,e){t&&(F=!0),w=this["stroke-width"]=t,A(e,t)},O.strokeSetter=O.fillSetter=O.rSetter=function(t,e){"fill"===e&&t&&(F=!0),A(e,t)},O.anchorXSetter=function(t,e){a=O.anchorX=t,A(e,Math.round(t)-C()-y)},O.anchorYSetter=function(t,e){s=O.anchorY=t,A(e,t-b)},O.xSetter=function(t){O.x=t,D&&(t-=D*((m||f.width)+2*N)),y=Math.round(t),O.attr("translateX",y)},O.ySetter=function(t){b=O.y=Math.round(t),O.attr("translateY",b)};var B=O.css;return g(O,{css:function(t){if(t){var e={};t=M(t),p(O.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),P.css(e)}return B.call(O,t)},getBBox:function(){return{width:f.width+2*N,height:f.height+2*N,x:f.x-N,y:f.y-N}},shadow:function(t){return t&&(S(),d&&d.shadow(t)),O},destroy:function(){L(O.element,"mouseenter"),L(O.element,"mouseleave"),P&&(P=P.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(O),O=E=S=T=A=null}})}}),t.Renderer=i}(t),function(t){var e=t.attr,i=t.createElement,n=t.css,r=t.defined,o=t.each,a=t.extend,s=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pInt,h=t.SVGRenderer,d=t.win,f=t.wrap;a(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=a(this.styles,t),n(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,a=this.translateY||0,s=this.x||0,l=this.y||0,h=this.textAlign||"left",d={left:0,center:.5,right:1}[h],f=this.styles;if(n(e,{marginLeft:i,marginTop:a}),this.shadows&&o(this.shadows,function(t){n(t,{marginLeft:i+1,marginTop:a+1})}),this.inverted&&o(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var p=this.rotation,g=c(this.textWidth),m=f&&f.whiteSpace,v=[p,h,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(f=t.fontMetrics(e.style.fontSize).b,r(p)&&this.setSpanRotation(p,d,f),n(e,{width:"",whiteSpace:m||"nowrap"}),e.offsetWidth>g&&/[ \-]/.test(e.textContent||e.innerText)&&n(e,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(e.offsetWidth,f,d,p,h)),n(e,{left:s+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),u&&(f=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var r={},o=l?"-ms-transform":u?"-webkit-transform":s?"MozTransform":d.opera?"-o-transform":"";r[o]=r.transform="rotate("+t+"deg)",r[o+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",n(this.element,r)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),a(h.prototype,{html:function(t,n,r){var s=this.createElement("span"),l=s.element,u=s.renderer,c=u.isSVG,h=function(t,e){o(["opacity","visibility"],function(i){f(t,i+"Setter",function(t,i,n,r){t.call(this,i,n,r),e[n]=i})})};return s.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,s.htmlUpdateTransform()},c&&h(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform()},s.attr({text:t,x:Math.round(n),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,c&&(s.add=function(t){var n,r=u.box.parentNode,c=[];if(this.parentGroup=t){if(!(n=t.div)){for(;t;)c.push(t),t=t.parentGroup;o(c.reverse(),function(t){var o,l=e(t.element,"class");l&&(l={className:l}),n=t.div=t.div||i("div",l,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||r),o=n.style,a(t,{on:function(){return s.on.apply({element:c[0].div},arguments),t},translateXSetter:function(e,i){o.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){o.top=e+"px",t[i]=e,t.doTransform=!0}}),h(t,o)})}}else n=r;return n.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(t),function(t){var e,i,n=t.createElement,r=t.css,o=t.defined,a=t.deg2rad,s=t.discardElement,l=t.doc,u=t.each,c=t.erase,h=t.extend;e=t.extendClass;var d=t.isArray,f=t.isNumber,p=t.isObject,g=t.merge;i=t.noop;var m=t.pick,v=t.pInt,y=t.SVGElement,b=t.SVGRenderer,x=t.win;t.svg||(i={docMode8:l&&8===l.documentMode,init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],r=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?"hidden":"visible"),i.push(' style="',r.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=n(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,r=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),r&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*a),i=Math.sin(t*a);r(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,o){var s,l=n?Math.cos(n*a):1,u=n?Math.sin(n*a):0,c=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>u&&-c,s=0>l*u,this.xCorr+=u*e*(s?1-i:i),this.yCorr-=l*e*(n?s?i:1-i:1),o&&"left"!==o&&(this.xCorr-=t*i*(0>l?-1:1),n&&(this.yCorr-=c*i*(0>u?-1:1)),r(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)f(t[e])?i[e]=Math.round(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,c(e,i),e.push(i),i.destroyClip=function(){c(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:i.docMode8?"inherit":"rect(auto)"}),i.css(t)},css:y.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&s(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=x.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=v(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var r,o,a,s,l,u,c,h=[],d=this.element,f=this.renderer,p=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(u=m(t.width,3),c=(t.opacity||.15)/u,r=1;3>=r;r++)s=2*u+1-2*r,i&&(l=this.cutOffPath(g.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=n(f.prepVML(a),null,{left:v(p.left)+m(t.offsetX,1),top:v(p.top)+m(t.offsetY,1)}),i&&(o.cutOff=s+1),a=['<stroke color="',t.color||"#000000",'" opacity="',c*r,'"/>'],n(f.prepVML(a),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:i,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||n(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){n(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:i,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-Math.round(Math.sin(t*a)+1)+"px",i.top=Math.round(Math.cos(t*a))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,f(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&u(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},i["stroke-opacitySetter"]=i["fill-opacitySetter"],t.VMLElement=i=e(y,i),i.prototype.ySetter=i.prototype.widthSetter=i.prototype.heightSetter=i.prototype.xSetter,i={Element:i,isIE8:-1<x.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,i){var n,r;if(this.alignedObjects=[],n=this.createElement("div").css({position:"relative"}),r=n.element,t.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var r=this.createElement(),o=p(t);return h(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n=t.inverted,r=this.top-("shape"===i?e.offsetTop:0),o=this.left,e=o+this.width,a=r+this.height,r={clip:"rect("+Math.round(n?o:r)+"px,"+Math.round(n?a:e)+"px,"+Math.round(n?e:a)+"px,"+Math.round(n?r:o)+"px)"};return!n&&t.docMode8&&"DIV"===i&&h(r,{width:e+"px",height:a+"px"}),r},updateClipping:function(){u(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,i,r,o){var a,s,l,c=this,h=/^rgba/,d="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var f,p,g,m,v,y,b,x=e.linearGradient||e.radialGradient,w="";e=e.stops;var k,C=[],S=function(){s=['<fill colors="'+C.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',w,'focus="100%" method="any" />'],n(c.prepVML(s),null,null,i)};if(g=e[0],k=e[e.length-1],0<g[0]&&e.unshift([0,g[1]]),1>k[0]&&e.push([1,k[1]]),u(e,function(e,i){h.test(e[1])?(a=t.color(e[1]),f=a.get("rgb"),p=a.get("a")):(f=e[1],p=1),C.push(100*e[0]+"% "+f),i?(v=p,y=f):(m=p,b=f)}),"fill"===r)if("gradient"===l)r=x.x1||x[0]||0,e=x.y1||x[1]||0,g=x.x2||x[2]||0,x=x.y2||x[3]||0,w='angle="'+(90-180*Math.atan((x-e)/(g-r))/Math.PI)+'"',S();else{var T,d=x.r,M=2*d,A=2*d,E=x.cx,O=x.cy,P=i.radialReference,d=function(){P&&(T=o.getBBox(),E+=(P[0]-T.x)/T.width-.5,O+=(P[1]-T.y)/T.height-.5,M*=P[2]/T.width,A*=P[2]/T.height),w='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+M+","+A+'" origin="0.5,0.5" position="'+E+","+O+'" color2="'+b+'" ',S()};o.added?d():o.onAdd=d,d=y}else d=f}else h.test(e)&&"IMG"!==i.tagName?(a=t.color(e),o[r+"-opacitySetter"](a.get("a"),r,i),d=a.get("rgb")):(d=i.getElementsByTagName(r),d.length&&(d[0].opacity=1,d[0].type="solid"),d=e);return d},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:b.prototype.html,path:function(t){var e={coordsize:"10 10"};return d(t)?e.d=t:p(t)&&h(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return p(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:i,width:n,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):b.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this;e=e.style;var n="IMG"===t.tagName&&t.style;r(t,{flip:"x",left:v(e.width)-(n?v(n.top):1),top:v(e.height)-(n?v(n.left):1),rotation:-90}),u(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,r){var o=r.start,a=r.end,s=r.r||i||n;i=r.innerR,n=Math.cos(o);var l=Math.sin(o),u=Math.cos(a),c=Math.sin(a);return 0==a-o?["x"]:(o=["wa",t-s,e-s,t+s,e+s,t+s*n,e+s*l,t+s*u,e+s*c],r.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*u,e+i*c,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,r){return r&&o(r.r)&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){return b.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,i,n,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(b.prototype,i),t.Renderer=e),b.prototype.measureSpanWidth=function(t,e){var i=l.createElement("span");return t=l.createTextNode(t),i.appendChild(t),r(i,e),this.box.appendChild(i),e=i.offsetWidth,s(i),e}}(t),function(t){function e(){var e=t.defaultOptions.global,i=l.moment;if(e.timezone){if(i)return function(t){return-i.tz(t,e.timezone).utcOffset()};t.error(25)}return e.useUTC&&e.getTimezoneOffset}function i(){var i,n=t.defaultOptions.global,a=n.useUTC,u=a?"getUTC":"get",c=a?"setUTC":"set";t.Date=i=n.Date||l.Date,i.hcTimezoneOffset=a&&n.timezoneOffset,i.hcGetTimezoneOffset=e(),i.hcMakeTime=function(t,e,n,r,l,u){var c;return a?(c=i.UTC.apply(0,arguments),c+=o(c)):c=new i(t,e,s(n,1),s(r,0),s(l,0),s(u,0)).getTime(),c},r("Minutes Hours Day Date Month FullYear".split(" "),function(t){i["hcGet"+t]=u+t}),r("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){i["hcSet"+t]=c+t})}var n=t.color,r=t.each,o=t.getTZOffset,a=t.merge,s=t.pick,l=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.12/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">â</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=a(!0,t.defaultOptions,e),i(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,i()}(t),function(t){var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,r=t.isNumber,o=t.merge,a=t.pick,s=t.deg2rad;t.Tick=function(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,n=this.axis,r=n.options,s=n.chart,l=n.categories,u=n.names,c=this.pos,h=r.labels,d=n.tickPositions,f=c===d[0],p=c===d[d.length-1],u=l?a(l[c],u[c],c):c,l=this.label,d=d.info;n.isDatetimeAxis&&d&&(t=r.dateTimeLabelFormats[d.higherRanks[c]||d.unitName]),this.isFirst=f,this.isLast=p,r=n.labelFormatter.call({axis:n,chart:s,isFirst:f,isLast:p,dateTimeLabelFormat:t,value:n.isLog?e(n.lin2log(u)):u}),i(l)?l&&l.attr({text:r}):(this.labelLength=(this.label=l=i(r)&&h.enabled?s.renderer.text(r,0,0,h.useHTML).css(o(h.style)).add(n.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,r=i.chart.chartWidth,o=i.chart.spacing,l=a(i.labelLeft,Math.min(i.pos,o[3])),o=a(i.labelRight,Math.max(i.pos+i.len,r-o[1])),u=this.label,c=this.rotation,h={left:0,center:.5,right:1}[i.labelAlign],d=u.getBBox().width,f=i.getSlotWidth(),p=f,g=1,m={};c?0>c&&n-h*d<l?e=Math.round(n/Math.cos(c*s)-l):0<c&&n+h*d>o&&(e=Math.round((r-n)/Math.cos(c*s))):(r=n+(1-h)*d,n-h*d<l?p=t.x+p*(1-h)-l:r>o&&(p=o-t.x+p*h,g=-1),p=Math.min(f,p),p<f&&"center"===i.labelAlign&&(t.x+=g*(f-p-h*(f-Math.min(d,p)))),(d>p||i.autoRotation&&(u.styles||{}).width)&&(e=p)),e&&(m.width=e,(i.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),u.css(m))},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,a=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,n,r,o,a,l,u){var c=this.axis,h=c.transA,d=c.reversed,f=c.staggerLines,p=c.tickRotCorr||{x:0,y:0},g=o.y;return i(g)||(g=0===c.side?n.rotation?-8:-n.getBBox().height:2===c.side?p.y+8:Math.cos(n.rotation*s)*(p.y-n.getBBox(!1,0).height/2)),t=t+o.x+p.x-(a&&r?a*h*(d?-1:1):0),e=e+g-(a&&!r?a*h*(d?1:-1):0),f&&(n=l/(u||1)%f,c.opposite&&(n=f-n-1),e+=c.labelOffset/f*n),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},renderGridLine:function(t,e,i){var n=this.axis,r=n.options,o=this.gridLine,a={},s=this.pos,l=this.type,u=n.tickmarkOffset,c=n.chart.renderer,h=l?l+"Grid":"grid",d=r[h+"LineWidth"],f=r[h+"LineColor"],r=r[h+"LineDashStyle"];o||(a.stroke=f,a["stroke-width"]=d,r&&(a.dashstyle=r),l||(a.zIndex=1),t&&(a.opacity=0),this.gridLine=o=c.path().attr(a).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(n.gridGroup)),!t&&o&&(t=n.getPlotLinePath(s+u,o.strokeWidth()*i,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var n=this.axis,r=n.options,o=n.chart.renderer,s=this.type,l=s?s+"Tick":"tick",u=n.tickSize(l),c=this.mark,h=!c,d=t.x;t=t.y;var f=a(r[l+"Width"],!s&&n.isXAxis?1:0),r=r[l+"Color"];u&&(n.opposite&&(u[0]=-u[0]),h&&(this.mark=c=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(n.axisGroup),c.attr({stroke:r,"stroke-width":f})),c[h?"attr":"animate"]({d:this.getMarkPath(d,t,u[0],c.strokeWidth()*i,n.horiz,o),opacity:e}))},renderLabel:function(t,e,i,n){var o=this.axis,s=o.horiz,l=o.options,u=this.label,c=l.labels,h=c.step,d=o.tickmarkOffset,f=!0,p=t.x;t=t.y,u&&r(p)&&(u.xy=t=this.getLabelPosition(p,t,u,s,c,d,n,h),this.isFirst&&!this.isLast&&!a(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!a(l.showLastLabel,1)?f=!1:!s||o.isRadial||c.step||c.rotation||e||0===i||this.handleOverflow(t),h&&n%h&&(f=!1),f&&r(t.y)?(t.opacity=i,u[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(u.attr("y",-9999),this.isNewLabel=!0),this.isNew=!1)},render:function(t,e,i){var n=this.axis,r=n.horiz,o=this.getPosition(r,this.pos,n.tickmarkOffset,e),s=o.x,l=o.y,n=r&&s===n.pos+n.len||!r&&l===n.pos?-1:1;i=a(i,1),this.isActive=!0,this.renderGridLine(e,i,n),this.renderMark(o,i,n),this.renderLabel(o,e,i,t)},destroy:function(){n(this,this.axis)}}}(t);var e=function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,h=t.each,d=t.extend,f=t.fireEvent,p=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,x=t.isString,w=t.merge,k=t.normalizeTickInterval,C=t.objectEach,S=t.pick,T=t.removeEvent,M=t.splat,A=t.syncTimeout,E=t.Tick,O=function(){this.init.apply(this,arguments)};return t.extend(O.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!n:n,r.isXAxis=n,r.coll=r.coll||(n?"xAxis":"yAxis"),r.opposite=i.opposite,r.side=i.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(i);var o=this.options,a=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=i,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===a||!0===o.categories,r.categories=o.categories||r.hasNames,r.names=r.names||[],r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===a,r.isDatetimeAxis="datetime"===a,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=S(o.crosshair,M(t.options.tooltip.crosshairs)[n?0:1],!1),i=r.options.events,-1===v(r,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&n&&void 0===r.reversed&&(r.reversed=!0),C(i,function(t,i){e(r,i,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(s[this.coll],t))},defaultLabelFormatter:function(){var e,i=this.axis,n=this.value,r=i.categories,o=this.dateTimeLabelFormat,a=s.lang,l=a.numericSymbols,a=a.numericSymbolMagnitude||1e3,u=l&&l.length,c=i.options.labels.format,i=i.isLog?Math.abs(n):i.tickInterval;if(c)e=p(c,this);else if(r)e=n;else if(o)e=t.dateFormat(o,n);else if(u&&1e3<=i)for(;u--&&void 0===e;)r=Math.pow(a,u+1),i>=r&&0==10*n%r&&null!==l[u]&&0!==n&&(e=t.numberFormat(n/r,-1)+l[u]);return void 0===e&&(e=1e4<=Math.abs(n)?t.numberFormat(n,-1):t.numberFormat(n,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),h(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,a=i.options,s=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(a=i.xData,a.length&&(i=r(a),b(i)||i instanceof Date||(a=m(a,function(t){return b(t)}),i=r(a)),t.dataMin=Math.min(S(t.dataMin,a[0]),i),t.dataMax=Math.max(S(t.dataMax,a[0]),n(a)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,l(i)&&l(o)&&(t.dataMin=Math.min(S(t.dataMin,i),i),t.dataMax=Math.max(S(t.dataMax,o),o)),l(s)&&(t.threshold=s),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})},translate:function(t,e,i,n,r,o){var a=this.linkedParent||this,s=1,l=0,u=n?a.oldTransA:a.transA;n=n?a.oldMin:a.min;var c=a.minPixelPadding;return r=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val,u||(u=a.transA),i&&(s*=-1,l=a.len),a.reversed&&(s*=-1,l-=s*(a.sector||a.len)),e?(t=(t*s+l-c)/u+n,r&&(t=a.lin2val(t))):(r&&(t=a.val2lin(t)),t=s*(t-n)*u+l+s*c+(b(o)?u*o:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,a,s,l=this.chart,u=this.left,c=this.top,h=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,i){return(t<e||t>i)&&(n?t=Math.min(Math.max(e,t),i):s=!0),t};return r=S(r,this.translate(t,null,null,i)),t=i=Math.round(r+o),o=a=Math.round(h-r-o),b(r)?this.horiz?(o=c,a=h-this.bottom,t=i=f(t,u,u+this.width)):(t=u,i=d-this.right,o=a=f(o,c,c+this.height)):s=!0,s&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,a],e||1)},getLinearTickPositions:function(t,e,i){var n,r=a(Math.floor(e/t)*t);i=a(Math.ceil(i/t)*t);var o=[];if(this.single)return[e];for(e=r;e<=i&&(o.push(e),(e=a(e+t))!==n);)n=e;return o},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,n=t.minorTickInterval,r=[],o=t.pointRangePadding||0,a=t.min-o,o=t.max+o,s=o-a;if(s&&s/n<t.len/3)if(t.isLog)h(this.paddedTicks,function(e,i,o){i&&r.push.apply(r,t.getLogTickPositions(n,o[i-1],o[i],!0))});else if(t.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(n),a,o,e.startOfWeek));else for(e=a+(i[0]-a)%n;e<=o&&e!==r[0];e+=n)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,o,a,s,u,c,d=this.options,f=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(d.min)||l(d.max)?this.minRange=null:(h(this.series,function(t){for(s=t.xData,o=u=t.xIncrement?1:s.length-1;0<o;o--)a=s[o]-s[o-1],(void 0===i||a<i)&&(i=a)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),p-f<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,t=(c-p+f)/2,t=[f-t,S(d.min,f-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=n(t),p=[f+c,S(d.max,f+c)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(p=r(p))-f<c&&(t[0]=p-c,t[1]=S(d.min,p-c),f=n(t))),this.min=f,this.max=p},getClosest:function(){var t;return this.categories?t=1:h(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&n&&(t=l(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=y(this.categories),n=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():v(t.name,n)),-1===r?i||(e=n.length):e=r,void 0!==e&&(this.names[e]=t.name),e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,h(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),h(e.points,function(i,n){var r;i.options&&void 0!==(r=t.nameToX(i))&&r!==i.x&&(i.x=r,e.xData[n]=r)})}))},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,r=i.axisPointRange||0,o=0,a=0,s=i.linkedParent,l=!!i.categories,u=i.transA,c=i.isXAxis;(c||l||r)&&(e=i.getClosest(),s?(o=s.minPointOffset,a=s.pointRangePadding):h(i.series,function(t){var n=l?1:c?S(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,n),i.single||(o=Math.max(o,x(t)?0:n/2),a=Math.max(a,"on"===t?0:n))}),s=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=s,i.pointRangePadding=a*=s,i.pointRange=Math.min(r,n),c&&(i.closestPointRange=e)),t&&(i.oldTransA=u),i.translationSlope=i.transA=u=i.options.staticScale||i.len/(n+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,r,o,s=this,u=s.chart,c=s.options,d=s.isLog,p=s.log2lin,m=s.isDatetimeAxis,v=s.isXAxis,y=s.isLinked,x=c.maxPadding,w=c.minPadding,C=c.tickInterval,T=c.tickPixelInterval,M=s.categories,A=s.threshold,E=s.softThreshold;m||M||y||this.getTickAmount(),r=S(s.userMin,c.min),o=S(s.userMax,c.max),y?(s.linkedParent=u[s.coll][c.linkedTo],u=s.linkedParent.getExtremes(),s.min=S(u.min,u.dataMin),s.max=S(u.max,u.dataMax),c.type!==s.linkedParent.options.type&&t.error(11,1)):(!E&&l(A)&&(s.dataMin>=A?(i=A,w=0):s.dataMax<=A&&(n=A,x=0)),s.min=S(r,i,s.dataMin),s.max=S(o,n,s.dataMax)),d&&(s.positiveValuesOnly&&!e&&0>=Math.min(s.min,S(s.dataMin,s.min))&&t.error(10,1),s.min=a(p(s.min),15),s.max=a(p(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=r=Math.max(s.min,s.minFromRange()),s.userMax=o=s.max,s.range=null),f(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(M||s.axisPointRange||s.usePercentage||y)&&l(s.min)&&l(s.max)&&(p=s.max-s.min)&&(!l(r)&&w&&(s.min-=p*w),!l(o)&&x&&(s.max+=p*x)),b(c.softMin)&&(s.min=Math.min(s.min,c.softMin)),b(c.softMax)&&(s.max=Math.max(s.max,c.softMax)),b(c.floor)&&(s.min=Math.max(s.min,c.floor)),b(c.ceiling)&&(s.max=Math.min(s.max,c.ceiling)),E&&l(s.dataMin)&&(A=A||0,!l(r)&&s.min<A&&s.dataMin>=A?s.min=A:!l(o)&&s.max>A&&s.dataMax<=A&&(s.max=A)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:y&&!C&&T===s.linkedParent.options.tickPixelInterval?C=s.linkedParent.tickInterval:S(C,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,M?1:(s.max-s.min)*T/Math.max(s.len,T)),v&&!e&&h(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!C&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),e=S(c.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!C&&s.tickInterval<e&&(s.tickInterval=e),m||d||C||(s.tickInterval=k(s.tickInterval,null,g(s.tickInterval),S(c.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions,n=e.tickPositioner,r=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e.minorTickInterval&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,n&&(n=n.apply(this,[this.min,this.max])))&&(this.tickPositions=t=n),this.paddedTicks=t.slice(0),this.trimTicks(t,r,o),this.isLinked||(this.single&&(this.min-=.5,this.max+=.5),i||n||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==n)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(n)&&t.push((r+n)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||h(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join();i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=e&&e.length;if(r<i){for(;e.length<i;)e.push(a(e[e.length-1]+t));this.transA*=(r-1)/(i-1),this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(l(n)){for(t=i=e.length;t--;)(3===n&&1==t%2||2>=n&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,h(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,r){var o=this,a=o.chart;i=S(i,!0),h(o.series,function(t){delete t.kdTree}),r=d(r,{min:t,max:e}),f(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&a.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=Math.min(i,S(r.min,i)),r=Math.max(n,S(r.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>r&&(t=r)),l(n)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsets||[0,0,0,0],n=this.horiz,r=S(e.width,t.plotWidth-i[3]+i[1]),o=S(e.height,t.plotHeight-i[0]+i[2]),a=S(e.top,t.plotTop+i[0]),e=S(e.left,t.plotLeft+i[3]),i=/%$/;i.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),i.test(a)&&(a=Math.round(parseFloat(a)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=a,this.width=r,this.height=o,this.bottom=t.chartHeight-o-a,this.right=t.chartWidth-r-e,this.len=Math.max(n?r:o,0),this.pos=n?e:a},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?a(e(this.min)):this.min,max:t?a(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,n=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(S(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=S(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,s=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=n.rotation,d=this.labelMetrics(),f=Number.MAX_VALUE,p=function(t){return t/=s||1,(t=1<t?Math.ceil(t):1)*o};return r?(i=!n.staggerLines&&!n.step&&(l(c)?[c]:s<S(n.autoRotationLimit,80)&&n.autoRotation))&&h(i,function(i){var n;(i===c||i&&-90<=i&&90>=i)&&(e=p(Math.abs(d.h/Math.sin(u*i))),(n=e+Math.abs(i/360))<f&&(f=n,t=i,a=e))}):n.step||(a=p(d.h)),this.autoRotation=i,this.labelRotation=S(t,c),a},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/n||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n=this.chart,r=n.renderer,o=this.tickPositions,a=this.ticks,s=this.options.labels,l=this.horiz,u=this.getSlotWidth(),c=Math.max(1,Math.round(u-2*(s.padding||5))),d={},f=this.labelMetrics(),p=s.style&&s.style.textOverflow,g=0;if(x(s.rotation)||(d.rotation=s.rotation||0),h(o,function(t){(t=a[t])&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>c&&g>f.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:c+"px"},!p))for(t.textOverflow="clip",e=o.length;!l&&e--;)i=o[e],(c=a[i].label)&&(c.styles&&"ellipsis"===c.styles.textOverflow?c.css({textOverflow:"clip"}):a[i].labelLength>u&&c.css({width:u+"px"}),c.getBBox().height>this.len/o.length-(f.h-f.f)&&(c.specCss={textOverflow:"ellipsis"}));d.rotation&&(t={width:(g>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},p||(t.textOverflow="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(d.align=this.labelAlign),h(o,function(e){var i=(e=a[e])&&e.label;i&&(i.attr(d),t&&i.css(w(t,i.specCss)),delete i.specCss,e.rotation=d.rotation)}),this.tickRotCorr=r.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},addTitle:function(t){var e,i=this.chart.renderer,n=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(n?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(o.style).add(this.axisGroup),this.axisTitle.isNew=!0),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new E(this,t)},getOffset:function(){var t,e,i,n=this,r=n.chart,o=r.renderer,a=n.options,s=n.tickPositions,u=n.ticks,c=n.horiz,d=n.side,f=r.inverted&&!n.isZAxis?[1,0,3,2][d]:d,p=0,g=0,m=a.title,v=a.labels,y=0,b=r.axisOffset,r=r.clipOffset,x=[-1,1,1,-1][d],w=a.className,k=n.axisParent,T=this.tickSize("tick");t=n.hasData(),n.showAxis=e=t||S(a.showEmpty,!0),n.staggerLines=n.horiz&&v.staggerLines,n.axisGroup||(n.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),n.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),n.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||n.isLinked?(h(s,function(t,e){n.generateTick(t,e)}),n.renderUnsquish(),!1===v.reserveSpace||0!==d&&2!==d&&{1:"left",3:"right"}[d]!==n.labelAlign&&"center"!==n.labelAlign||h(s,function(t){y=Math.max(u[t].getLabelSize(),y)}),n.staggerLines&&(y*=n.staggerLines,n.labelOffset=y*(n.opposite?-1:1))):C(u,function(t,e){t.destroy(),delete u[e]}),m&&m.text&&!1!==m.enabled&&(n.addTitle(e),e&&!1!==m.reserveSpace&&(n.titleOffset=p=n.axisTitle.getBBox()[c?"height":"width"],i=m.offset,g=l(i)?0:S(m.margin,c?5:10))),n.renderLine(),n.offset=x*S(a.offset,b[d]),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},o=0===d?-n.labelMetrics().h:2===d?n.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+x*(c?S(v.y,n.tickRotCorr.y+8*x):v.x)),n.axisTitleMargin=S(i,g),b[d]=Math.max(b[d],n.axisTitleMargin+p+x*n.offset,g,t&&s.length&&T?T[0]+x*n.offset:0),s=2*Math.floor(n.axisLine.strokeWidth()/2),0<a.offset&&(s-=2*a.offset),r[f]=Math.max(r[f]||s,s)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,r=this.options.title,o=t?e:i,a=this.opposite,s=this.offset,l=r.x||0,u=r.y||0,c=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f,n={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[r.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?n+l:e+(a?this.width:0)+s+l,y:t?e+u-(a?this.height:0)+s:n+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new E(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,n=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(n[t]||(n[t]=new E(this,t)),r&&n[t].isNew&&n[t].render(e,!0,.1),n[t].render(e))},render:function(){var e,n,r=this,o=r.chart,a=r.options,s=r.isLog,l=r.lin2log,u=r.isLinked,c=r.tickPositions,d=r.axisTitle,f=r.ticks,p=r.minorTicks,g=r.alternateBands,m=a.stackLabels,v=a.alternateGridColor,y=r.tickmarkOffset,x=r.axisLine,w=r.showAxis,k=i(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,h([f,p,g],function(t){C(t,function(t){t.isActive=!1})}),(r.hasData()||u)&&(r.minorTickInterval&&!r.categories&&h(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),c.length&&(h(c,function(t,e){r.renderTick(t,e)}),y&&(0===r.min||r.single)&&(f[-1]||(f[-1]=new E(r,-1,null,!0)),f[-1].render(-1))),v&&h(c,function(i,a){n=void 0!==c[a+1]?c[a+1]+y:r.max-y,0==a%2&&i<r.max&&n<=r.max+(o.polar?-y:y)&&(g[i]||(g[i]=new t.PlotLineOrBand(r)),e=i+y,g[i].options={from:s?l(e):e,to:s?l(n):n,color:v},g[i].render(),g[i].isActive=!0)}),r._addedPlotLB||(h((a.plotLines||[]).concat(a.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),h([f,p,g],function(t){var e,i=[],n=k.duration;C(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),A(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==g&&o.hasRendered&&n?n:0)}),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),d&&w&&(a=r.getTitlePosition(),b(a.y)?(d[d.isNew?"attr":"animate"](a),d.isNew=!1):(d.attr("y",-9999),d.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),h(this.plotLinesAndBands,function(t){t.render()})),h(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;if(t||T(i),C(n,function(t,e){c(t),n[e]=null}),h([i.ticks,i.minorTicks,i.alternateBands],function(t){c(t)}),r)for(t=r.length;t--;)r[t].destroy();h("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())});for(e in i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();C(i,function(t,e){-1===v(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,n,r=this.crosshair,a=S(r.snap,!0),s=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!a)?(a?l(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:S(e.stackY,e.y)),null,null,null,n)||null),l(i)?(e=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:S(r.zIndex,2)}).add(),s.attr({stroke:r.color||(e?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(r.width,1)}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:i}),e&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=O}(t);return function(t){var e=t.Axis,i=t.Date,n=t.dateFormat,r=t.defaultOptions,o=t.defined,a=t.each,s=t.extend,l=t.getMagnitude,u=t.getTZOffset,c=t.normalizeTickInterval,h=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,c){var f,p,g=[],m={},v=r.global.useUTC,y=new i(e-Math.max(u(e),u(l))),b=i.hcMakeTime,x=t.unitRange,w=t.count;if(o(e)){y[i.hcSetMilliseconds](x>=d.second?0:w*Math.floor(y.getMilliseconds()/w)),x>=d.second&&y[i.hcSetSeconds](x>=d.minute?0:w*Math.floor(y.getSeconds()/w)),x>=d.minute&&y[i.hcSetMinutes](x>=d.hour?0:w*Math.floor(y[i.hcGetMinutes]()/w)),x>=d.hour&&y[i.hcSetHours](x>=d.day?0:w*Math.floor(y[i.hcGetHours]()/w)),x>=d.day&&y[i.hcSetDate](x>=d.month?1:w*Math.floor(y[i.hcGetDate]()/w)),x>=d.month&&(y[i.hcSetMonth](x>=d.year?0:w*Math.floor(y[i.hcGetMonth]()/w)),f=y[i.hcGetFullYear]()),x>=d.year&&y[i.hcSetFullYear](f-f%w),x===d.week&&y[i.hcSetDate](y[i.hcGetDate]()-y[i.hcGetDay]()+h(c,1)),f=y[i.hcGetFullYear](),c=y[i.hcGetMonth]();var k=y[i.hcGetDate](),C=y[i.hcGetHours]();for((i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(p=(!v||!!i.hcGetTimezoneOffset)&&(l-e>4*d.month||u(e)!==u(l)),y=y.getTime(),y=new i(y+u(y))),v=y.getTime(),e=1;v<l;)g.push(v),v=x===d.year?b(f+e*w,0):x===d.month?b(f,c+e*w):!p||x!==d.day&&x!==d.week?p&&x===d.hour?b(f,c,k,C+e*w):v+x*w:b(f,c,k+e*w*(x===d.day?1:7)),e++;g.push(v),x<=d.hour&&1e4>g.length&&a(g,function(t){0==t%18e5&&"000000000"===n("%H%M%S%L",t)&&(m[t]="day")})}return g.info=s(t,{higherRanks:m,totalRange:x*w}),g},e.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var n,r=d[e[0]],o=e[1];for(n=0;n<i.length&&(e=i[n],r=d[e[0]],o=e[1],!(i[n+1]&&t<=(r*o[o.length-1]+d[i[n+1][0]])/2));n++);return r===d.year&&t<5*r&&(o=[1,2,5]),t=c(t/r,o,"year"===e[0]?Math.max(l(t/r),1):1),{unitRange:r,count:t,unitName:e[0]}}}(t),function(t){var e=t.Axis,i=t.getMagnitude,n=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,a,s){var l=this.options,u=this.len,c=this.lin2log,h=this.log2lin,d=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,a);else if(.08<=t)for(var f,p,g,m,v,u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<a+1&&!v;u++)for(p=l.length,f=0;f<p&&!v;f++)g=h(c(u)*l[f]),g>e&&(!s||m<=a)&&void 0!==m&&d.push(m),m>a&&(v=!0),m=g;else e=c(e),a=c(a),t=l[s?"minorTickInterval":"tickInterval"],t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(s?5:1)*(a-e)/((s?u/this.tickPositions.length:u)||1)),t=r(t,null,i(t)),d=n(this.getLinearTickPositions(t,e,a),h),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t,e){var i=t.arrayMax,n=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,n=i.horiz,o=e.options,a=o.label,s=e.label,c=o.to,h=o.from,d=o.value,f=r(h)&&r(c),p=r(d),g=e.svgElem,m=!g,v=[],y=o.color,b=u(o.zIndex,0),x=o.events,v={class:"highcharts-plot-"+(f?"band ":"line ")+(o.className||"")},w={},k=i.chart.renderer,C=f?"bands":"lines",S=i.log2lin;if(i.isLog&&(h=S(h),c=S(c),d=S(d)),p?(v={stroke:y,"stroke-width":o.width},o.dashStyle&&(v.dashstyle=o.dashStyle)):f&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),w.zIndex=b,C+="-"+b,(y=i.plotLinesAndBandsGroups[C])||(i.plotLinesAndBandsGroups[C]=y=k.g("plot-"+C).attr(w).add()),m&&(e.svgElem=g=k.path().attr(v).add(y)),p)v=i.getPlotLinePath(d,g.strokeWidth());else{if(!f)return;v=i.getPlotBandPath(h,c,o)}return m&&v&&v.length?(g.attr({d:v}),x&&t.objectEach(x,function(t,i){g.on(i,function(t){x[i].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),s&&(e.label=s=s.destroy()))),a&&r(a.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.flat?(a=l({align:n&&f&&"center",x:n?!f&&4:10,verticalAlign:!n&&f&&"middle",y:n?f?16:10:f?6:-4,rotation:n&&!f&&90},a),this.renderLabel(a,v,f,b)):s&&s.hide(),e},renderLabel:function(t,e,r,o){var a=this.label,s=this.axis.chart.renderer;a||(a={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},a.zIndex=o,this.label=a=s.text(t.text,0,0,t.useHTML).attr(a).add(),a.css(t.style)),o=[e[1],e[4],r?e[6]:e[1]],e=[e[2],e[5],r?e[7]:e[2]],r=n(o),s=n(e),a.align(t,!1,{x:r,y:s,width:i(o)-r,height:i(e)-s}),a.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0),r=this.horiz,o=1;return t=t<this.min&&e<this.min||t>this.max&&e>this.max,n&&i?(t&&(n.flat=n.toString()===i.toString(),o=0),n.push(r&&i[4]===n[4]?i[4]+o:i[4],r||i[5]!==n[5]?i[5]:i[5]+o,r&&i[1]===n[1]?i[1]+o:i[1],r||i[2]!==n[2]?i[2]:i[2]+o)):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(i&&(r[i]=r[i]||[],r[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();a([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(t,e),function(t){var e=t.dateFormat,i=t.each,n=t.extend,r=t.format,o=t.isNumber,a=t.map,s=t.merge,l=t.pick,u=t.splat,c=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,r){var o=this,a=o.now,s=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-a.x)||1<Math.abs(e-a.y)),l=o.followPointer||1<o.len;n(a,{x:s?(2*a.x+t)/3:t,y:s?(a.y+e)/2:e,anchorX:l?void 0:s?(2*a.anchorX+i)/3:i,anchorY:l?void 0:s?(a.anchorY+r)/2:r}),o.getLabel().attr(a),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,r,o,s=this.chart,l=s.inverted,c=s.plotTop,h=s.plotLeft,d=0,f=0;return t=u(t),n=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=s.pointer.normalize(e)),n=[e.chartX-s.plotLeft,e.chartY-c]),n||(i(t,function(t){r=t.series.yAxis,o=t.series.xAxis,d+=t.plotX+(!l&&o?o.left-h:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-c:0)}),d/=t.length,f/=t.length,n=[l?s.plotWidth-f:d,this.shared&&!l&&1<t.length&&e?e.chartY-c:l?s.plotHeight-d:f]),a(n,Math.round)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,a={},s=i.h||0,u=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=!this.followPointer&&l(i.ttBelow,!r.inverted==!!i.negative),d=function(t,e,i,n,r,l){var u=i<n-o,c=n+o+i<e,d=n-o-i;if(n+=o,h&&c)a[t]=n;else if(!h&&u)a[t]=d;else if(u)a[t]=Math.min(l-i,0>d-s?d:d-s);else{if(!c)return!1;a[t]=Math.max(r,n+s+i>e?n:n+s)}},f=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:a[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},p=function(t){var e=u;u=c,c=e,n=t},g=function(){!1!==d.apply(0,u)?!1!==f.apply(0,c)||n||(p(!0),g()):n?a.x=a.y=0:(p(!0),g())};return(r.inverted||1<this.len)&&p(),g(),a},defaultFormatter:function(t){var e,i=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var n,r,o,a=this.options,s=t,c={},h=[];n=a.formatter||this.defaultFormatter;var d,c=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(s)[0].series.tooltipOptions.followPointer,o=this.getAnchor(s,e),e=o[0],r=o[1],!c||s.series&&s.series.noSharedTooltip?c=s.getLabelConfig():(i(s,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),c={x:s[0].category,y:s[0].y},c.points=h,s=s[0]),this.len=h.length,c=n.call(c,this),d=s.series,this.distance=l(d.tooltipOptions.distance,16),!1===c?this.hide():(n=this.getLabel(),this.isHidden&&n.attr({opacity:1}).show(),this.split?this.renderSplit(c,t):(a.style.width||n.css({width:this.chart.spacingBox.width}),n.attr({text:c&&c.join?c.join(""):c}),n.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(s.colorIndex,d.colorIndex)),n.attr({stroke:a.borderColor||s.color||d.color||"#666666"}),this.updatePosition({plotX:e,plotY:r,negative:s.negative,ttBelow:s.ttBelow,h:o[2]||0})),this.isHidden=!1)},renderSplit:function(e,n){var r,o=this,a=[],s=this.chart,u=s.renderer,c=!0,h=this.options,d=this.getLabel();i(e.slice(0,n.length+1),function(t,e){e=n[e-1]||{isHeader:!0,plotX:n[0].plotX};var i=e.series||o,f=i.tt,p=e.series||{},g="highcharts-color-"+l(e.colorIndex,p.colorIndex,"none");f||(i.tt=f=u.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+g).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:e.color||p.color||"#333333","stroke-width":h.borderWidth}).add(d)),f.isActive=!0,f.attr({text:t}),f.css(h.style),t=f.getBBox(),p=t.width+f.strokeWidth(),e.isHeader?(r=t.height,p=Math.max(0,Math.min(e.plotX+s.plotLeft-p/2,s.chartWidth-p))):p=e.plotX+s.plotLeft-l(h.distance,16)-p,0>p&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=s.plotTop,a.push({target:e.isHeader?s.plotHeight+r:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:p,tt:f})}),this.cleanSplit(),t.distribute(a,s.plotHeight+r),i(a,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+s.plotLeft+l(h.distance,16),y:t.pos+s.plotTop,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+s.plotTop-15:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e=this.chart,i=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,i,n,r){var o,a,s=e("%m-%d %H:%M:%S.%L",i),l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(a in h){if(t===h.week&&+e("%w",i)===n&&"00:00:00.000"===s.substr(6)){a="week";break}if(h[a]>t){a=u;break}if(l[a]&&s.substr(l[a])!=="01-01 00:00:00.000".substr(l[a]))break;"week"!==a&&(u=a)}return a&&(o=r[a]),o},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var n=i&&i.closestPointRange;return(n?this.getDateFormat(n,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header";e=t.series;var n=e.tooltipOptions,a=n.xDateFormat,s=e.xAxis,l=s&&"datetime"===s.options.type&&o(t.key),i=n[i+"Format"];return l&&!a&&(a=this.getXDateFormat(t,n,s)),l&&a&&(i=i.replace("{point.key}","{point.key:"+a+"}")),r(i,{point:t,series:e})},bodyFormatter:function(t){return a(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,i=t.attr,n=t.charts,r=t.color,o=t.css,a=t.defined,s=t.doc,l=t.each,u=t.extend,c=t.fireEvent,h=t.offset,d=t.pick,f=t.removeEvent,p=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,n=i.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(n=d(i.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!e||n&&e,this.zoomVert=n&&!e||t&&e,this.hasZoom=t||n},normalize:function(t,e){var i,n;return t=t||m.event,t.target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=h(this.chart.container)),void 0===n.pageX?(i=Math.max(t.x,t.clientX-e.left),e=t.y):(i=n.pageX-e.left,e=n.pageY-e.top),u(t,{chartX:Math.round(i),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getKDPoints:function(t,e,i){var n,r,o,a=[];if(l(t,function(t){n=t.noSharedTooltip&&e,r=!e&&t.directTouch,t.visible&&!r&&d(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(i,!n&&0>t.options.findNearestPointBy.indexOf("y")))&&o.series&&a.push(o)}),a.sort(function(t,i){var n=t.distX-i.distX,r=t.dist-i.dist,o=(i.series.group&&i.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return 0!==n&&e?n:0!==r?r:0!==o?o:t.series.index>i.series.index?-1:1}),e&&a[0]&&!a[0].series.noSharedTooltip)for(t=a.length;t--;)(a[t].x!==a[0].x||a[t].series.noSharedTooltip)&&a.splice(t,1);return a},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,n=i.xAxis,i=i.yAxis;if(n&&i)return e?{chartX:n.len+n.pos-t.clientX,chartY:i.len+i.pos-t.plotY}:{chartX:t.clientX+n.pos,chartY:t.plotY+i.pos}},getHoverData:function(e,i,n,r,o,a){var s=e,l=i,s=o?n:[l];r=!(!r||!e),i=l&&!l.stickyTracking;var u,c=function(t,e){return 0===e};return r?c=function(t){return t===e}:i?c=function(t){return t.series===l}:s=t.grep(n,function(t){return t.stickyTracking}),u=r&&!o?[e]:this.getKDPoints(s,o,a),l=(s=t.find(u,c))&&s.series,r||i||!o||(u=this.getKDPoints(n,o,a)),u.sort(function(t,e){return t.series.index-e.series.index}),{hoverPoint:s,hoverSeries:l,hoverPoints:u}},runPointActions:function(i,r){var o=this.chart,a=o.tooltip,u=!!a&&a.shared,c=r||o.hoverPoint,h=c&&c.series||o.hoverSeries;r=this.getHoverData(c,h,o.series,!!r||h&&h.directTouch&&this.isDirectTouch,u,i);var f,p,c=r.hoverPoint;f=(h=r.hoverSeries)&&h.tooltipOptions.followPointer,p=(u=u&&c&&!c.series.noSharedTooltip)?r.hoverPoints:c?[c]:[],c&&(c!==o.hoverPoint||a&&a.isHidden)?(l(o.hoverPoints||[],function(e){-1===t.inArray(e,p)&&e.setState()}),l(p||[],function(t){t.setState("hover")}),o.hoverSeries!==h&&h.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),c.firePointEvent("mouseOver"),o.hoverPoints=p,o.hoverPoint=c,a&&a.refresh(u?p:c,i)):f&&a&&!a.isHidden&&(h=a.getAnchor([{}],i),a.updatePosition({plotX:h[0],plotY:h[1]})),this.unDocMouseMove||(this.unDocMouseMove=e(s,"mousemove",function(e){var i=n[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),l(o.axes,function(e){d(e.crosshair.snap,!0)?t.find(p,function(t){return t.series[e.coll]===e})?e.drawCrosshair(i,c):e.hideCrosshair():e.drawCrosshair(i)})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.hoverPoints,a=i.tooltip,s=a&&a.shared?o:r;t&&s&&l(p(s),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&s&&(a.refresh(s),r&&(r.setState(r.state,!0),l(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&l(o,function(t){t.setState()}),n&&n.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;l(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,o=t.chartX,a=t.chartY,s=this.zoomHor,l=this.zoomVert,u=i.plotLeft,c=i.plotTop,h=i.plotWidth,d=i.plotHeight,f=this.selectionMarker,p=this.mouseDownX,g=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];f&&f.touch||(o<u?o=u:o>u+h&&(o=u+h),a<c?a=c:a>c+d&&(a=c+d),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(g-a,2)),10<this.hasDragged&&(e=i.isInsidePlot(p-u,g-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!f&&(this.selectionMarker=f=i.renderer.rect(u,c,s?1:h,l?1:d,0).attr({fill:n.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),f&&s&&(o-=p,f.attr({width:Math.abs(o),x:(0<o?0:o)+p})),f&&l&&(o=a-g,f.attr({height:Math.abs(o),y:(0<o?0:o)+g})),e&&!f&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,s={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,d=h.attr?h.attr("x"):h.x,f=h.attr?h.attr("y"):h.y,p=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||n)&&(l(i.axes,function(i){if(i.zoomEnabled&&a(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((o?d:f)+l),o=i.toValue((o?d+p:f+g)-l);s[i.coll].push({axis:i,min:Math.min(u,o),max:Math.max(u,o)}),r=!0}}),r&&c(i,"selection",s,function(t){i.zoom(u(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(o(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=n[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;a(t.hoverChartIndex)&&n[t.hoverChartIndex]&&n[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var n;t;){if(n=i(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(c(i.series,"click",u(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var i=this,n=i.chart.container;n.onmousedown=function(t){i.onContainerMouseDown(t)},n.onmousemove=function(t){i.onContainerMouseMove(t)},n.onclick=function(t){i.onContainerClick(t)},e(n,"mouseleave",i.onContainerMouseLeave),1===t.chartCount&&e(s,"mouseup",i.onDocumentMouseUp),t.hasTouch&&(n.ontouchstart=function(t){i.onContainerTouchStart(t)},n.ontouchmove=function(t){i.onContainerTouchMove(t)},1===t.chartCount&&e(s,"touchend",i.onDocumentTouchEnd))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),f(e.chart.container,"mouseleave",e.onContainerMouseLeave),t.chartCount||(f(s,"mouseup",e.onDocumentMouseUp),f(s,"touchend",e.onDocumentTouchEnd)),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,i){e[i]=null})}}}(t),function(t){var e=t.charts,i=t.each,n=t.extend,r=t.map,o=t.noop,a=t.pick;n(t.Pointer.prototype,{pinchTranslate:function(t,e,i,n,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,a,s){var l,u,c,h=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=s||1,y=h.inverted,b=h.bounds[t?"h":"v"],x=1===e.length,w=e[0][p],k=i[0][p],C=!x&&e[1][p],S=!x&&i[1][p];i=function(){!x&&20<Math.abs(w-C)&&(v=s||Math.abs(k-S)/Math.abs(w-C)),u=(m-k)/v+w,l=h["plot"+(t?"Width":"Height")]/v},i(),e=u,e<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(k-=.8*(k-a[d][0]),x||(S-=.8*(S-a[d][1])),i()):a[d]=[k,S],y||(o[d]=u-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,n[y?t?"scaleY":"scaleX":"scale"+f]=v,n["translate"+f]=o*m+(k-o*w)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,u=t.touches,c=u.length,h=e.lastValidTouch,d=e.hasZoom,f=e.selectionMarker,p={},g=1===c&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),m={};1<c&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],i(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(a(t.options.min,t.dataMin)),r=t.toPixels(a(t.options.max,t.dataMax)),o=Math.max(n,r);e.min=Math.min(t.pos,Math.min(n,r)-i),e.max=Math.max(t.pos+t.len,o+i)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(f||(e.selectionMarker=f=n({destroy:o,touch:!0},s.plotBox)),e.pinchTranslate(l,u,p,f,m,h),e.hasPinched=d,e.scaleGroups(p,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,n=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),a(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(t),function(t){var e=t.addEvent,i=t.charts,n=t.css,r=t.doc,o=t.extend,a=t.noop,s=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(!t.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var h={},d=!!u.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},p=function(e,n,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),o=i[t.hoverChartIndex].pointer,o[n]({type:r,target:e.currentTarget,preventDefault:a,touches:f()}))};o(s.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(s.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(s.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(s.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),function(t){var e=t.addEvent,i=t.css,n=t.discardElement,r=t.defined,o=t.each,a=t.isFirefox,s=t.marginNames,l=t.merge,u=t.pick,c=t.setAnimation,h=t.stableSort,d=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=l(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=u(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(l(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,u(e,!0)&&i.redraw()},colorizeItem:function(e,i){e.legendGroup[i?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,r=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,n=i?n.itemStyle.color:s,l=i?e.color||s:s,u=e.options&&e.options.marker,c={fill:l};r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),a&&(u&&a.isMarker&&(c=e.pointAttribs(),i||t.objectEach(c,function(t,e){c[e]=s})),a.attr(c))},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,r=n[0],n=n[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*i-4,n),o&&(o.x=r,o.y=n)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&n(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(t){var e,n=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,a=this.titleHeight;n&&(e=n.translateY,o(this.allItems,function(o){var s,l=o.checkbox;l&&(s=e+a+l.y+(t||0)+3,i(l,{left:n.translateX+o.checkboxOffset+l.x-20+"px",top:s+"px",display:s>e-6&&s<e+r-6?"":"none"}))}))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),n=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,n=this.options,r="horizontal"===n.layout,o=this.symbolWidth,a=n.symbolPadding,s=this.itemStyle,c=this.itemHiddenStyle,h=this.padding,d=r?u(n.itemDistance,20):0,f=!n.rtl,p=n.width,g=n.itemMarginBottom||0,m=this.itemMarginTop,v=t.legendItem,y=!t.series,b=!y&&t.series.drawLegendSymbol?t.series:t,x=b.options,w=this.createCheckboxForItem&&x&&x.showCheckbox,x=o+a+d+(w?20:0),k=n.useHTML,C=t.options.className;v||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+b.type+"-series highcharts-color-"+t.colorIndex+(C?" "+C:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=i.text("",f?o+a:-a,this.baseline||0,k).css(l(t.visible?s:c)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(o=s.fontSize,this.fontMetrics=i.fontMetrics(o,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),this.symbolHeight=n.symbolHeight||this.fontMetrics.f,b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,k),w&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),s.width||v.css({width:(n.itemWidth||e.spacingBox.width)-x}),this.setText(t),i=v.getBBox(),s=t.checkboxOffset=n.itemWidth||t.legendItemWidth||i.width+x,this.itemHeight=i=Math.round(t.legendItemHeight||i.height||this.symbolHeight),r&&this.itemX-h+s>(p||e.spacingBox.width-2*h-n.x)&&(this.itemX=h,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,s),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(i,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=s:(this.itemY+=m+i+g,this.lastLineHeight=i),this.offsetWidth=p||Math.max((r?this.itemX-h-d:s)+h,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var i=e&&e.options;e&&u(i.showInLegend,!r(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,a=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);n.floating||o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,l){o.test(a)&&!r(t[l])&&(i[s[l]]=Math.max(i[s[l]],i.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*n[l%2?"x":"y"]+u(n.margin,12)+e[l]))})},render:function(){var t,e,i,n,r=this,a=r.chart,s=a.renderer,u=r.group,c=r.box,d=r.options,f=r.padding;r.itemX=f,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,u||(r.group=u=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(u),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),d.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,o(t,function(t){r.renderItem(t)}),i=(d.width||r.offsetWidth)+f,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=f,c||(r.box=c=s.rect().addClass("highcharts-legend-box").attr({r:d.borderRadius}).add(u),c.isNew=!0),c.attr({stroke:d.borderColor,"stroke-width":d.borderWidth||0,fill:d.backgroundColor||"none"}).shadow(d.shadow),0<i&&0<n&&(c[c.isNew?"attr":"animate"](c.crisp({x:0,y:0,width:i,height:n},c.strokeWidth())),c.isNew=!1),c[e?"show":"hide"](),r.legendWidth=i,r.legendHeight=n,o(t,function(t){r.positionItem(t)}),e&&u.align(l(d,{width:i,height:n}),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,a=r.renderer,s=this.options,l=s.y,c=this.padding,r=r.spacingBox.height+("top"===s.verticalAlign?-l:l)-c,l=s.maxHeight,h=this.clipRect,d=s.navigation,f=u(d.animation,!0),p=d.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?h.attr({height:t}):h&&(n.clipRect=h.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(r/=2),l&&(r=Math.min(r,l)),m.length=0,t>r&&!1!==d.enabled?(this.clipHeight=e=Math.max(r-20-this.titleHeight-c,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,function(t,n){var r=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var o=m.length;(!o||r-m[o-1]>e&&(i||r)!==m[o-1])&&(m.push(i||r),o++),n===v.length-1&&r+t-m[o-1]>e&&m.push(r),r!==i&&(i=r)}),h||(h=n.clipRect=a.clipRect(0,c,9999,0),n.contentGroup.clip(h)),y(e),g||(this.nav=g=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,p,p).on("click",function(){n.scroll(-1,f)}).add(g),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation").css(d.style).add(g),this.down=a.symbol("triangle-down",0,0,p,p).on("click",function(){n.scroll(1,f)}).add(g)),n.scroll(0),t=r):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,a=this.pager,s=this.padding;t>n&&(t=n),0<t&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:s,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),a.attr({text:t+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,class:t===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===n?o.inactiveColor:o.activeColor}).css({cursor:t===n?"default":"pointer"}),e=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,n=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(n?(t.symbolWidth-i)/2:0,t.baseline-i+1,n?i:t.symbolWidth,i,u(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,n=t.symbolWidth,r=t.symbolHeight,o=r/2,a=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var c;c={"stroke-width":e.lineWidth||0},e.dashStyle&&(c.dashstyle=e.dashStyle),this.legendLine=a.path(["M",0,t,"L",n,t]).addClass("highcharts-graph").attr(c).add(s),i&&!1!==i.enabled&&(e=Math.min(u(i.radius,o),o),0===this.symbol.indexOf("url")&&(i=l(i,{width:r,height:r}),e=0),this.legendSymbol=i=a.symbol(this.symbol,n/2-e,t-e,2*e,2*e,i).addClass("highcharts-point").add(s),i.isMarker=!0)}},(/Trident\/7\.0/.test(d.navigator.userAgent)||a)&&f(t.Legend.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})}(t),function(t){var e=t.addEvent,i=t.animate,n=t.animObject,r=t.attr,o=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,h=t.css,d=t.defined,f=t.each,p=t.extend,g=t.find,m=t.fireEvent,v=t.getStyle,y=t.grep,b=t.isNumber,x=t.isObject,w=t.isString,k=t.Legend,C=t.marginNames,S=t.merge,T=t.objectEach,M=t.Pointer,A=t.pick,E=t.pInt,O=t.removeEvent,P=t.seriesTypes,L=t.splat,D=t.svg,N=t.syncTimeout,_=t.win,I=t.Renderer,R=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new R(t,e,i)},p(R.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var r,o,a=i.series,s=i.plotOptions||{};i.series=null,r=S(l,i);for(o in r.plotOptions)r.plotOptions[o].tooltip=s[o]&&S(s[o].tooltip)||void 0;r.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,r.series=i.series=a,this.userOptions=i,i=r.chart,o=i.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var u=this;u.index=c.length,c.push(u),t.chartCount++,o&&T(o,function(t,i){e(u,i,t)}),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,u.firstRender()},initSeries:function(e){var i=this.options.chart;return(i=P[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),i=new i,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].name||"Series "+(e[t].index+1))},isInsidePlot:function(t,e,i){var n=i?e:t;return t=i?t:e,0<=n&&n<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var i,n,r,o=this.axes,a=this.series,s=this.pointer,l=this.legend,u=this.isDirtyLegend,c=this.hasCartesianSeries,h=this.isDirtyBox,d=this.renderer,g=d.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),g&&this.temporaryDisplay(),this.layOutTitles(),e=a.length;e--;)if(r=a[e],r.options.stacking&&(i=!0,r.isDirty)){n=!0;break}if(n)for(e=a.length;e--;)r=a[e],r.options.stacking&&(r.isDirty=!0);f(a,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),u=!0),t.isDirtyData&&m(t,"updatedData")}),u&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),c&&f(o,function(t){t.updateNames(),t.setScale()}),this.getMargins(),c&&(f(o,function(t){t.isDirty&&(h=!0)}),f(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",p(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||i)&&t.redraw()})),h&&this.drawChartBox(),m(this,"predraw"),f(a,function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),s&&s.reset(!0),d.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),f(v,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,n,r=this.series;for(i=g(this.axes,e)||g(this.series,e),n=0;!i&&n<r.length;n++)i=g(r[n].points||[],e);return i},getAxes:function(){var t=this,e=this.options,i=e.xAxis=L(e.xAxis||{}),e=e.yAxis=L(e.yAxis||{});f(i,function(t,e){t.index=e,t.isX=!0}),f(e,function(t,e){t.index=e}),i=i.concat(e),f(i,function(e){new a(t,e)})},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(y(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,r=this,o=r.options;n=o.title=S({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=S({style:{color:"#666666"}},o.subtitle,e),f([["title",t,n],["subtitle",e,o]],function(t,e){var i=t[0],n=r[i],o=t[1];t=t[2],n&&o&&(r[i]=n=n.destroy()),t&&t.text&&!n&&(r[i]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),r[i].update=function(t){r.setTitle(!e&&t,e&&t)},r[i].css(t.style))}),r.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:i+2;var a;e&&(a=o.style.fontSize,a=n.fontMetrics(a,e).b,e.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(p({y:t+a},o),!1,"spacingBox"),o.floating||o.verticalAlign||(i=Math.ceil(i+e.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&A(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width,e=e.height,n=this.renderTo;d(i)||(this.containerWidth=v(n,"width")),d(e)||(this.containerHeight=v(n,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||this.containerHeight||400)},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i=i.parentNode;else for(;i&&i.style;)"none"===v(i,"display",!1)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.style.setProperty&&i.style.setProperty("display","block","important")),i=i.parentNode},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,a=this.options,l=a.chart;e=this.renderTo;var u,h=t.uniqueKey();e||(this.renderTo=e=l.renderTo),w(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),i=E(r(e,"data-highcharts-chart")),b(i)&&c[i]&&c[i].hasRendered&&c[i].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,u=p({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=s("div",{id:h},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||I)(e,i,n,null,l.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!d(i[0])&&(this.plotTop=Math.max(this.plotTop,n+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(i,e),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(C,function(n,r){d(i[r])||(t[n]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,r=d(i.width),a=i.width||v(n,"width"),i=i.height||v(n,"height"),n=t?t.target:_;r||e.isPrinting||!a||!i||n!==_&&n!==o||(a===e.containerWidth&&i===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=N(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=a,e.containerHeight=i)},initReflow:function(){var t,i=this;t=e(_,"resize",function(t){i.reflow(t)}),e(i,"destroy",t)},setSize:function(e,r,o){var a=this,s=a.renderer;a.isResizing+=1,t.setAnimation(o,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==r&&(a.options.chart.height=r),a.getChartSize(),e=s.globalAnimation,(e?i:h)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},e),a.setChartSize(!0),s.setSize(a.chartWidth,a.chartHeight,o),f(a.axes,function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(o),a.oldChartHeight=null,m(a,"resize"),N(function(){a&&m(a,"endResize",null,function(){--a.isResizing})},n(e).duration)},setChartSize:function(t){function e(t){return t=p[t]||0,Math.max(a||t,t)/2}var i,n,r,o,a,s=this.inverted,l=this.renderer,u=this.chartWidth,c=this.chartHeight,h=this.options.chart,d=this.spacing,p=this.clipOffset;this.plotLeft=i=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(u-i-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(c-n-this.marginBottom)),this.plotSizeX=s?o:r,this.plotSizeY=s?r:o,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=l.spacingBox={x:d[3],y:d[0],width:u-d[3]-d[1],height:c-d[0]-d[2]},this.plotBox=l.plotBox={x:i,y:n,width:r,height:o},a=2*Math.floor(this.plotBorderWidth/2),s=Math.ceil(e(3)),l=Math.ceil(e(0)),this.clipBox={x:s,y:l,width:Math.floor(this.plotSizeX-e(1)-s),height:Math.max(0,Math.floor(this.plotSizeY-e(2)-l))},t||f(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(i){var n=e[i],r=x(n)?n:[n,n,n,n];f(["Top","Right","Bottom","Left"],function(n,o){t[i][o]=A(e[i+n],r[o])})}),f(C,function(e,i){t[e]=A(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[]},drawChartBox:function(){var t,e,i=this.options.chart,n=this.renderer,r=this.chartWidth,o=this.chartHeight,a=this.chartBackground,s=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,c=i.backgroundColor,h=i.plotBackgroundColor,d=i.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,x="animate";a||(this.chartBackground=a=n.rect().addClass("highcharts-background").add(),x="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),c={fill:c||"none"},(t||a["stroke-width"])&&(c.stroke=i.borderColor,c["stroke-width"]=t),a.attr(c).shadow(i.shadow),a[x]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:i.borderRadius}),x="animate",s||(x="attr",this.plotBackground=s=n.rect().addClass("highcharts-plot-background").add()),s[x](v),s.attr({fill:h||"none"}).shadow(i.plotShadow),d&&(u?u.animate(v):this.plotBGImage=n.image(d,f,p,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=n.clipRect(b),x="animate",l||(x="attr",this.plotBorder=l=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[x](l.crisp({x:f,y:p,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;f(["inverted","angular","polar"],function(a){for(t=P[r.type||r.defaultSeriesType],i=r[a]||t&&t.prototype[a],e=o&&o.length;!i&&e--;)(t=P[o[e].type])&&t.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var i=e.options.linkedTo;w(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=A(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(i){var n=p(e.style,i.style),r=E(n.left)+t.plotLeft,o=E(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,r,o).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new k(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight-=21,f(n,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(f(n,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(n,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=S(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(_.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,r=i.series,o=i.container,a=o&&o.parentNode;for(m(i,"destroy"),i.renderer.forExport?t.erase(c,i):c[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),O(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),o&&(o.innerHTML="",O(o),a&&u(o)),T(i,function(t,e){delete i[e]})},isReadyToRender:function(){var t=this;return!(!D&&_==_.top&&"complete"!==o.readyState)||(o.attachEvent("onreadystatechange",function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),M&&(t.pointer=new M(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),d(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(t),function(t){var e,i=t.each,n=t.extend,r=t.erase,o=t.fireEvent,a=t.format,s=t.isArray,l=t.isNumber,u=t.pick,c=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,++t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=u(this.colorIndex,i),t.chart.pointCount++,this},applyOptions:function(t,i){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===i?r.autoIncrement(this):i),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],o=r.length,a=0,u=0;if(l(t)||null===t)e[r[0]]=t;else if(s(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);u<o;)n&&void 0===t[a]||(e[r[u]]=t[a]),a++,u++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,e=e.zoneAxis||"y",n=0;for(t=i[n];this[e]>=t.value;)t=i[++n];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),r(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(c(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=u(n.valueDecimals,""),o=n.valuePrefix||"",s=n.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||s)&&(t=t.replace(e+"}",o+e+"}"+s)),t=t.replace(e+"}",e+":,."+r+"f}")}),a(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(t),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.correctFloat,a=t.Date,s=t.defaultOptions,l=t.defaultPlotOptions,u=t.defined,c=t.each,h=t.erase,d=t.extend,f=t.fireEvent,p=t.grep,g=t.isArray,m=t.isNumber,v=t.isString,y=t.merge,b=t.objectEach,x=t.pick,w=t.removeEvent,k=t.splat,C=t.SVGElement,S=t.syncTimeout,T=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,r,o=this,a=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),d(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),n=i.events,b(n,function(t,i){e(o,i,t)}),(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(r=a[a.length-1]),o._i=x(r&&r._i,-1)+1,t.orderSeries(this.insert(a))},insert:function(t){var e,i=this.options.index;if(m(i)){for(e=t.length;e--;)if(i>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,i=this,n=i.options,r=i.chart;c(i.axisTypes||[],function(o){c(r[o],function(t){e=t.options,(n[o]===e.index||void 0!==n[o]&&n[o]===e.id||void 0===n[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)}),i[o]||i.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=m(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};c(i.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=x(i,e.pointStart,0);return this.pointInterval=t=x(this.pointInterval,e.pointInterval,1),n&&(e=new a(i),"day"===n?e=+e[a.hcSetDate](e[a.hcGetDate]()+t):"month"===n?e=+e[a.hcSetMonth](e[a.hcGetMonth]()+t):"year"===n&&(e=+e[a.hcSetFullYear](e[a.hcGetFullYear]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,n=i.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=n[this.type];return this.userOptions=t,e=y(o,n.series,t),this.tooltipOptions=y(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,i.tooltip.userOptions,n.series&&n.series.tooltip,n[this.type].tooltip,t.tooltip),this.stickyTracking=x(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&u(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,i){var n,r=this.chart,o=this.userOptions,a=t+"Index",s=t+"Counter",l=i?i.length:x(r.options.chart[t+"Count"],r[t+"Count"]);e||(n=x(o[a],o["_"+a]),u(n)||(r.series.length||(r[s]=0),o["_"+a]=n=r[s]%l,r[s]+=1),i&&(e=i[n])),void 0!==n&&(this[a]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(e,i,n,r){var o,a=this,s=a.points,l=s&&s.length||0,u=a.options,h=a.chart,d=null,f=a.xAxis,p=u.turboThreshold,y=this.xData,b=this.yData,w=(o=a.pointArrayMap)&&o.length;if(e=e||[],o=e.length,i=x(i,!0),!1!==r&&o&&l===o&&!a.cropped&&!a.hasGroupedData&&a.visible)c(e,function(t,e){s[e].update&&t!==u.data[e]&&s[e].update(t,!1,null,!1)});else{if(a.xIncrement=null,a.colorCounter=0,c(this.parallelArrays,function(t){a[t+"Data"].length=0}),p&&o>p){for(n=0;null===d&&n<o;)d=e[n],n++;if(m(d))for(n=0;n<o;n++)y[n]=this.autoIncrement(),b[n]=e[n];else if(g(d))if(w)for(n=0;n<o;n++)d=e[n],y[n]=d[0],b[n]=d.slice(1,w+1);else for(n=0;n<o;n++)d=e[n],y[n]=d[0],b[n]=d[1];else t.error(12)}else for(n=0;n<o;n++)void 0!==e[n]&&(d={series:a},a.pointClass.prototype.applyOptions.apply(d,[e[n]]),a.updateParallelArrays(d,n));for(v(b[0])&&t.error(14,!0),a.data=[],a.options.data=a.userOptions.data=e,n=l;n--;)s[n]&&s[n].destroy&&s[n].destroy();f&&(f.minRange=f.userMinRange),a.isDirty=h.isDirtyBox=!0,a.isDirtyData=!!s,n=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),i&&h.redraw(n)},processData:function(e){var i,n=this.xData,r=this.yData,o=n.length;i=0;var a,s,l,u=this.xAxis,c=this.options;l=c.cropThreshold;var h,d,f=this.getExtremesFromAll||c.getExtremesFromAll,p=this.isCartesian,c=u&&u.val2lin,g=u&&u.isLog;if(p&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(e=u.getExtremes(),h=e.min,d=e.max),p&&this.sorted&&!f&&(!l||o>l||this.forceCrop)&&(n[o-1]<h||n[0]>d?(n=[],r=[]):(n[0]<h||n[o-1]>d)&&(i=this.cropData(this.xData,this.yData,h,d),n=i.xData,r=i.yData,i=i.start,a=!0)),l=n.length||1;--l;)o=g?c(n[l])-c(n[l-1]):n[l]-n[l-1],0<o&&(void 0===s||o<s)?s=o:0>o&&this.requireSorting&&t.error(15);this.cropped=a,this.cropStart=i,this.processedXData=n,this.processedYData=r,this.closestPointRange=s},cropData:function(t,e,i,n){var r,o=t.length,a=0,s=o,l=x(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=i){a=Math.max(0,r-l);break}for(i=r;i<o;i++)if(t[i]>n){s=i+l;break}return{xData:t.slice(a,s),yData:e.slice(a,s),start:a,end:s}},generatePoints:function(){var t,e,i,n,r=this.options,o=r.data,a=this.data,s=this.processedXData,l=this.processedYData,u=this.pointClass,c=s.length,h=this.cropStart||0,d=this.hasGroupedData,r=r.keys,f=[];for(a||d||(a=[],a.length=o.length,a=this.data=a),r&&d&&(this.options.keys=!1),n=0;n<c;n++)e=h+n,d?(i=(new u).init(this,[s[n]].concat(k(l[n]))),i.dataGroup=this.groupMap[n]):(i=a[e])||void 0===o[e]||(a[e]=i=(new u).init(this,o[e],s[n])),i&&(i.index=e,f[n]=i);if(this.options.keys=r,a&&(c!==(t=a.length)||d))for(n=0;n<t;n++)n!==h||d||(n+=c),a[n]&&(a[n].destroyElements(),a[n].plotX=void 0);this.data=a,this.points=f},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,a=[],s=0;e=this.xAxis.getExtremes();var l,u,c,h,d=e.min,f=e.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,h=0;h<e;h++)if(u=o[h],c=t[h],l=(m(c,!0)||g(c))&&(!i.positiveValuesOnly||c.length||0<c),u=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[h]||u)>=d&&(o[h]||u)<=f,l&&u)if(l=c.length)for(;l--;)null!==c[l]&&(a[s++]=c[l]);else a[s++]=c;this.dataMin=r(a),this.dataMax=n(a)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,r=this.options,a=r.stacking,s=this.xAxis,l=s.categories,c=this.yAxis,h=this.points,d=h.length,f=!!this.modifyValue,p=r.pointPlacement,g="between"===p||m(p),v=r.threshold,y=r.startFromThreshold?v:0,b=Number.MAX_VALUE;for("between"===p&&(p=.5),m(p)&&(p*=x(r.pointRange||s.pointRange)),r=0;r<d;r++){var w=h[r],k=w.x,C=w.y;e=w.low;var S,T=a&&c.stacks[(this.negStacks&&C<(y?0:v)?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==C&&0>=C&&(w.isNull=!0),w.plotX=t=o(Math.min(Math.max(-1e5,s.translate(k,0,0,0,1,p,"flags"===this.type)),1e5)),a&&this.visible&&!w.isNull&&T&&T[k]&&(n=this.getStackIndicator(n,k,this.index),S=T[k],C=S.points[n.key],e=C[0],C=C[1],e===y&&n.key===T[k].base&&(e=x(v,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),w.total=w.stackTotal=S.total,w.percentage=S.total&&w.y/S.total*100,w.stackY=C,S.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=u(e)?c.translate(e,0,1,0,1):null,f&&(C=this.modifyValue(C,w)),w.plotY=e="number"==typeof C&&1/0!==C?Math.min(Math.max(-1e5,c.translate(C,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=c.len&&0<=t&&t<=s.len,w.clientX=g?o(s.translate(k,0,0,0,1,p)):t,w.negative=w.y<(v||0),w.category=l&&void 0!==l[w.x]?l[w.x]:w.x,w.isNull||(void 0!==i&&(b=Math.min(b,Math.abs(t-i))),i=t),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=b},getValidPoints:function(t,e){var i=this.chart;return p(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,a=o||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,i.xAxis,i.yAxis].join(),l=e[s],u=e[s+"m"];l||(t&&(a.width=0,e[s+"m"]=u=n.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[s]=l=n.clipRect(a),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(o||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,n=this.chart,r=i(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=n[e])&&t.animate({width:n.plotSizeX},r),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),f(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,r,o,a,s,l=this.points,u=this.chart,c=this.options.marker,h=this[this.specialGroup]||this.markerGroup,d=x(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=2*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(e=0;e<l.length;e++)i=l[e],t=i.plotY,n=i.graphic,r=i.marker||{},o=!!i.marker,a=d&&void 0===r.enabled||r.enabled,s=i.isInside,a&&m(t)&&null!==i.y?(t=x(r.symbol,this.symbol),i.hasImage=0===t.indexOf("url"),a=this.markerAttribs(i,i.selected&&"select"),n?n[s?"show":"hide"](!0).animate(a):s&&(0<a.width||i.hasImage)&&(i.graphic=n=u.renderer.symbol(t,a.x,a.y,a.width,a.height,o?r:c).add(h)),n&&n.attr(this.pointAttribs(i,i.selected&&"select")),n&&n.addClass(i.getClassName(),!0)):n&&(i.graphic=n.destroy())},markerAttribs:function(t,e){var i=this.options.marker,n=t.marker||{},r=x(n.radius,i.radius);return e&&(i=i.states[e],e=n.states&&n.states[e],r=x(e&&e.radius,i&&i.radius,r+(i&&i.radiusPlus||0))),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var i=this.options.marker,n=t&&t.options,r=n&&n.marker||{},o=this.color,a=n&&n.color,s=t&&t.color,n=x(r.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,o=a||t||s||o,t=r.fillColor||i.fillColor||o,o=r.lineColor||i.lineColor||o,e&&(i=i.states[e],e=r.states&&r.states[e]||{},n=x(e.lineWidth,i.lineWidth,n+x(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,o=e.lineColor||i.lineColor||o),{stroke:o,"stroke-width":n,fill:t}},destroy:function(){var t,e,i,n,r=this,o=r.chart,a=/AppleWebKit\/533/.test(T.navigator.userAgent),s=r.data||[];for(f(r,"destroy"),w(r),c(r.axisTypes||[],function(t){(n=r[t])&&n.series&&(h(n.series,r),n.isDirty=n.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=s.length;e--;)(i=s[e])&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout),b(r,function(e,i){e instanceof C&&!e.survive&&(t=a&&"group"===i?"hide":"destroy",e[t]())}),o.hoverSeries===r&&(o.hoverSeries=null),h(o.series,r),o.orderSeries(),b(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,i){var n,r,o=this,a=o.options,s=a.step,l=[],h=[];return t=t||o.points,(n=t.reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&n&&(s=4-s),!a.connectNulls||e||i||(t=this.getValidPoints(t)),c(t,function(n,c){var d=n.plotX,f=n.plotY,p=t[c-1];(n.leftCliff||p&&p.rightCliff)&&!i&&(r=!0),n.isNull&&!u(e)&&0<c?r=!a.connectNulls:n.isNull&&!e?r=!0:(0===c||r?c=["M",n.plotX,n.plotY]:o.getPointSpline?c=o.getPointSpline(t,n,c):s?(c=1===s?["L",p.plotX,f]:2===s?["L",(p.plotX+d)/2,p.plotY,"L",(p.plotX+d)/2,f]:["L",d,p.plotY],c.push("L",d,f)):c=["L",d,f],h.push(n.x),s&&h.push(n.x),l.push.apply(l,c),r=!1)}),l.xMap=h,o.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];c(this.zones,function(i,r){n.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),c(n,function(n,r){var o=n[0],a=t[o];a?(a.endX=i.xMap,a.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),a={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?a.dashstyle=n[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),a=t[o].attr(a).shadow(2>r&&e.shadow)),a&&(a.startX=i.xMap,a.isArea=i.isArea)})},applyZones:function(){var t,e,i,n,r,o,a,s,l,u=this,h=this.chart,d=h.renderer,f=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=h.inverted,w=!1;f.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&g.hide(),m&&m.hide(),n=y.getExtremes(),c(f,function(c,f){t=r?o?h.plotWidth:0:o?0:y.toPixels(n.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(x(c.value,n.max),!0)),0),v),w&&(t=e=y.toPixels(n.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:b?l:s,y:0,width:a,height:v},o||(i.x=h.plotHeight-i.x)):(i={x:0,y:b?l:s,width:v,height:a},o&&(i.y=h.plotWidth-i.y)),b&&d.isVML&&(i=y.isXAxis?{x:0,y:r?s:l,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),p[f]?p[f].animate(i):(p[f]=d.clipRect(i),g&&u["zone-graph-"+f].clip(p[f]),m&&u["zone-area-"+f].clip(p[f])),w=c.value>n.max}),this.clips=p)},invertGroups:function(t){function i(){c(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var n,r=this,o=r.chart;r.xAxis&&(n=e(o,"resize",i),e(r,"destroy",n),i(),r.invertGroups=i)},plotGroup:function(t,e,i,n,r){var o=this[t],a=!o;return a&&(this[t]=o=this.chart.renderer.g().attr({zIndex:n||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""),!0),o.attr({visibility:i})[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,r=e.options,o=!!e.animate&&n.renderer.isSVG&&i(r.animation).duration,a=e.visible?"inherit":"hidden",s=r.zIndex,l=e.hasRendered,u=n.seriesGroup,c=n.inverted;t=e.plotGroup("group","series",a,s,u),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,u),o&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(n.clipRect),o&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:x(n&&n.left,t.plotLeft),translateY:x(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,r){var o,a;if(a=i&&i.length)return o=e.kdAxisArray[n%r],i.sort(function(t,e){return t[o]-e[o]}),a=Math.floor(a/2),{point:i[a],left:t(i.slice(0,a),n+1,r),right:t(i.slice(a+1),n+1,r)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,s,l){var c,h,d=e.point,f=n.kdAxisArray[s%l],p=d;return h=u(t[r])&&u(d[r])?Math.pow(t[r]-d[r],2):null,c=u(t[o])&&u(d[o])?Math.pow(t[o]-d[o],2):null,c=(h||0)+(c||0),d.dist=u(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=u(h)?Math.sqrt(h):Number.MAX_VALUE,f=t[f]-d[f],c=0>f?"left":"right",h=0>f?"right":"left",e[c]&&(c=i(t,e[c],s+1,l),p=c[a]<p[a]?c:d),e[h]&&Math.sqrt(f*f)<p[a]&&(t=i(t,e[h],s+1,l),p=t[a]<p[a]?t:p),p}var n=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<n.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(t),function(t){function e(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:c(e.y,o?4:i?14:-6),x:c(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var i=t.Axis,n=t.Chart,r=t.correctFloat,o=t.defined,a=t.destroyObjectProperties,s=t.each,l=t.format,u=t.objectEach,c=t.pick;t=t.Series,e.prototype={destroy:function(){a(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?l(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,r=n.inverted,o=i.reversed,o=this.isNegative&&!o||!this.isNegative&&o,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=Math.abs(a-i);t=n.xAxis[0].translate(this.x)+t;var s=n.plotHeight,r={x:r?o?a:a-i:t,y:r?s-t-e:o?s-a-i:s-a,width:r?i:e,height:r?e:i};(e=this.label)&&(e.align(this.alignOptions,null,r),r=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},n.prototype.getStacks=function(){var t=this;s(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),s(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))})},i.prototype.buildStacks=function(){var t,e,i=this.series,n=c(this.options.reversedStacks,!0),r=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)i[n?e:r-e-1].setStackedPoints();for(e=r;e--;)t=i[n?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)i[e].setPercentStacks()}},i.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(t.plotLeft,t.plotTop),u(i,function(t){u(t,function(t){t.render(n)})})},i.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||u(e,function(e){u(e,function(i,n){i.touched<t.stacksTouched?(i.destroy(),delete e[n]):(i.total=null,i.cum=null)})})},i.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),u(t,function(t){u(t,function(t){t.cum=t.total})}))},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,i,n,a,s,l,u,h=this.processedXData,d=this.processedYData,f=[],p=d.length,g=this.options,m=g.threshold,v=g.startFromThreshold?m:0,y=g.stack,g=g.stacking,b=this.stackKey,x="-"+b,w=this.negStacks,k=this.yAxis,C=k.stacks,S=k.oldStacks;for(k.stacksTouched+=1,s=0;s<p;s++)l=h[s],u=d[s],t=this.getStackIndicator(t,l,this.index),a=t.key,n=(i=w&&u<(v?0:m))?x:b,C[n]||(C[n]={}),C[n][l]||(S[n]&&S[n][l]?(C[n][l]=S[n][l],C[n][l].total=null):C[n][l]=new e(k,k.options.stackLabels,i,l,y)),n=C[n][l],null!==u&&(n.points[a]=n.points[this.index]=[c(n.cum,v)],o(n.cum)||(n.base=a),n.touched=k.stacksTouched,0<t.index&&!1===this.singleStacks&&(n.points[a][0]=n.points[this.index+","+l+",0"][0])),"percent"===g?(i=i?b:x,w&&C[i]&&C[i][l]?(i=C[i][l],n.total=i.total=Math.max(i.total,n.total)+Math.abs(u)||0):n.total=r(n.total+(Math.abs(u)||0))):n.total=r(n.total+(u||0)),n.cum=c(n.cum,v)+(u||0),null!==u&&(n.points[a].push(n.cum),f[s]=n.cum);"percent"===g&&(k.usePercentage=!0),this.stackedYData=f,k.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,o=e.processedXData;s([i,"-"+i],function(i){for(var a,s,l=o.length;l--;)a=o[l],t=e.getStackIndicator(t,a,e.index,i),(a=(s=n[i]&&n[i][a])&&s.points[t.key])&&(s=s.total?100/s.total:0,a[0]=r(a[0]*s),a[1]=r(a[1]*s),e.stackedYData[l]=a[1])})},t.prototype.getStackIndicator=function(t,e,i,n){return!o(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(),t}}(t),function(t){var e=t.addEvent,i=t.animate,n=t.Axis,r=t.createElement,o=t.css,a=t.defined,s=t.each,l=t.erase,u=t.extend,c=t.fireEvent,h=t.inArray,d=t.isNumber,f=t.isObject,p=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,b=t.Series,x=t.seriesTypes,w=t.setAnimation,k=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=v(e,!0),c(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",a=this.options;t=g(t,{index:this[o].length,isX:e}),new n(this,t),a[o]=k(a[o]||{}),a[o].push(t),v(i,!0)&&this.redraw(r)},showLoading:function(t){var n=this,a=n.options,s=n.loadingDiv,l=a.loading,c=function(){s&&o(s,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};s||(n.loadingDiv=s=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,s),e(n,"redraw",c)),s.className="highcharts-loading",n.loadingSpan.innerHTML=t||a.lang.loading,o(s,u(l.style,{zIndex:10})),o(n.loadingSpan,l.labelStyle),n.loadingShown||(o(s,{opacity:0,display:""}),i(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(t,e){var i,n,r=this,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart;l&&(g(!0,r.options.chart,l),"className"in l&&r.setClassName(l.className),("inverted"in l||"polar"in l)&&(r.propFromSeries(),i=!0),"alignTicks"in l&&(i=!0),m(l,function(t,e){-1!==h("chart."+e,r.propsRequireUpdateSeries)&&(n=!0),-1!==h(e,r.propsRequireDirtyBox)&&(r.isDirtyBox=!0)}),"style"in l&&r.renderer.setStyle(l.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){r[e]&&"function"==typeof r[e].update?r[e].update(t,!1):"function"==typeof r[o[e]]&&r[o[e]](t),"chart"!==e&&-1!==h(e,r.propsRequireUpdateSeries)&&(n=!0)}),s("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){t[e]&&s(k(t[e]),function(t,i){(i=a(t.id)&&r.get(t.id)||r[e][i])&&i.coll===e&&i.update(t,!1)})}),i&&s(r.axes,function(t){t.update({},!1)}),n&&s(r.series,function(t){t.update({},!1)}),t.loading&&g(!0,r.options.loading,t.loading),i=l&&l.width,l=l&&l.height,d(i)&&i!==r.chartWidth||d(l)&&l!==r.chartHeight?r.setSize(i,l):v(e,!0)&&r.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(y.prototype,{update:function(t,e,i,n){function r(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy())),o=a.index,s.updateParallelArrays(a,o),c.data[o]=f(c.data[o],!0)||f(t,!0)?a.options:t,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var o,a=this,s=a.series,l=a.graphic,u=s.chart,c=s.options;e=v(e,!0),!1===n?r():a.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(h(this,this.series.data),t,e)}}),u(b.prototype,{addPoint:function(t,e,i,n){var r,o,a,s,l=this.options,u=this.data,c=this.chart,h=this.xAxis,h=h&&h.hasNames&&h.names,d=l.data,f=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,a=f.length,this.requireSorting&&s<f[a-1])for(o=!0;a&&f[a-1]>s;)a--;this.updateParallelArrays(r,"splice",a,0,0),this.updateParallelArrays(r,a),h&&r.name&&(h[s]=r.name),d.splice(a,0,t),o&&(this.data.splice(a,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(n)},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],a=n.points,s=n.chart,l=function(){a&&a.length===r.length&&a.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&s.redraw()};w(i,s),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==i?c(r,"remove",null,n):n()},update:function(t,e){var i,n=this,r=n.chart,o=n.userOptions,a=n.oldType||n.type,l=t.type||o.type||r.options.chart.type,c=x[a].prototype,h=["group","markerGroup","dataLabelsGroup"];if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);(l&&l!==a||void 0!==t.zIndex)&&(h.length=0),s(h,function(t){h[t]=n[t],delete n[t]}),t=g(o,{animation:!1,index:n.index,pointStart:n.xData[0]},{data:n.options.data},t),n.remove(!1,null,!1);for(i in c)n[i]=void 0;u(n,x[l||a].prototype),s(h,function(t){n[t]=h[t]}),n.init(r,t),n.oldType=a,r.linkSeries(),v(e,!0)&&r.redraw(!1)}}),u(n.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(i,u(t,{events:void 0})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(e.axes,this),l(e[i],this),p(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],s(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,i=t.each,n=t.map,r=t.pick,o=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var e,o,a=[],s=[],l=this.xAxis,u=this.yAxis,c=u.stacks[this.stackKey],h={},d=this.points,f=this.index,p=u.series,g=p.length,m=r(u.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(o=0;o<d.length;o++)h[d[o].x]=d[o];t.objectEach(c,function(t,e){null!==t.total&&s.push(e)}),s.sort(function(t,e){return t-e}),e=n(p,function(){return this.visible}),i(s,function(t,n){var r,d,p=0;if(h[t]&&!h[t].isNull)a.push(h[t]),i([-1,1],function(i){var a=1===i?"rightNull":"leftNull",l=0,u=c[s[n+i]];if(u)for(o=f;0<=o&&o<g;)r=u.points[o],r||(o===f?h[t][a]=!0:e[o]&&(d=c[t].points[o])&&(l-=d[1]-d[0])),o+=m;h[t][1===i?"rightCliff":"leftCliff"]=l});else{for(o=f;0<=o&&o<g;){if(r=c[t].points[o]){p=r[1];break}o+=m}p=u.translate(p,0,1,0,1),a.push({isNull:!0,plotX:l.translate(t,0,0,0,1),x:t,plotY:p,yBottom:p})}})}return a},getGraphPath:function(t){var e,i,n,a,s=o.prototype.getGraphPath,l=this.options,u=l.stacking,c=this.yAxis,h=[],d=[],f=this.index,p=c.stacks[this.stackKey],g=l.threshold,m=c.getThreshold(l.threshold),l=l.connectNulls||"percent"===u,v=function(e,i,r){var o=t[e];e=u&&p[o.x].points[f];var a=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var s,l,o=!0;r||a?(s=(a?e[0]:e[1])+r,l=e[0]+r,o=!!a):!u&&t[i]&&t[i].isNull&&(s=l=g),void 0!==s&&(d.push({plotX:n,plotY:null===s?m:c.getThreshold(s),isNull:o,isCliff:!0}),h.push({plotX:n,plotY:null===l?m:c.getThreshold(l),doCurve:!1}))};for(t=t||this.points,u&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,n=r(t[e].rectPlotX,t[e].plotX),a=r(t[e].yBottom,m),(!i||l)&&(l||v(e,e-1,"left"),i&&!u&&l||(d.push(t[e]),h.push({x:e,plotX:n,plotY:a})),l||v(e,e+1,"right"));return e=s.call(this,d,!0,!0),h.reversed=!0,i=s.call(this,h,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),s=s.call(this,d,!1,l),i.xMap=e.xMap,this.areaPath=i,s},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,a=this.options,s=[["area","highcharts-area",this.color,a.fillColor]];i(this.zones,function(e,i){s.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||a.fillColor])}),i(s,function(i){var o=i[0],s=t[o];s?(s.endX=n.xMap,s.animate({d:n})):(s=t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:r(i[3],e(i[2]).setOpacity(r(a.fillOpacity,.75)).get()),zIndex:0}).add(t.group),s.isArea=!0),s.startX=n.xMap,s.shiftUnit=a.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,i,n){var r=i.plotX,o=i.plotY,a=t[n-1];n=t[n+1];var s,l,u,c;if(a&&!a.isNull&&!1!==a.doCurve&&!i.isCliff&&n&&!n.isNull&&!1!==n.doCurve&&!i.isCliff){t=a.plotY,u=n.plotX,n=n.plotY;var h=0;s=(1.5*r+a.plotX)/2.5,l=(1.5*o+t)/2.5,u=(1.5*r+u)/2.5,c=(1.5*o+n)/2.5,u!==s&&(h=(c-l)*(u-r)/(u-s)+o-c),l+=h,c+=h,l>t&&l>o?(l=Math.max(t,o),c=2*o-l):l<t&&l<o&&(l=Math.min(t,o),c=2*o-l),c>n&&c>o?(c=Math.max(n,o),l=2*o-c):c<n&&c<o&&(c=Math.min(n,o),l=2*o-c),i.rightContX=u,i.rightContY=c}return i=["C",e(a.rightContX,a.plotX),e(a.rightContY,a.plotY),e(s,r),e(l,o),r,o],a.rightContX=a.rightContY=null,i}})}(t),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.animObject,i=t.color,n=t.each,r=t.extend,o=t.isNumber,a=t.merge,s=t.pick,l=t.Series,u=t.seriesType,c=t.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,o=e.yAxis,a=r.reversed,l={},u=0;!1===i.grouping?u=1:n(e.chart.series,function(i){var n,r=i.options,a=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==a.len||o.pos!==a.pos||(r.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=u++),n=l[t]):!1!==r.grouping&&(n=u++),i.columnIndex=n)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=c*i.groupPadding,d=(c-2*h)/(u||1),i=Math.min(i.maxPointWidth||r.len,s(i.pointWidth,d*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(d-i)/2+(h+((e.columnIndex||0)+(a?1:0))*d-c/2)*(a?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var r=this.chart,o=this.borderWidth,a=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+a,t=Math.round(t)+a,i-=t),n=Math.round(e+n)+o,a=.5>=Math.abs(e)&&.5<n,e=Math.round(e)+o,n-=e,a&&n&&(--e,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,r=t.borderWidth=s(i.borderWidth,r?0:1),o=t.yAxis,a=t.translatedThreshold=o.getThreshold(i.threshold),u=s(i.minPointLength,5),c=t.getColumnMetrics(),h=c.width,d=t.barW=Math.max(h,1+2*r),f=t.pointXOffset=c.offset;e.inverted&&(a-=.5),i.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),n(t.points,function(i){var n,r=s(i.yBottom,a),l=999+Math.abs(r),l=Math.min(Math.max(-l,i.plotY),o.len+l),c=i.plotX+f,p=d,g=Math.min(l,r),m=Math.max(l,r)-g;Math.abs(m)<u&&u&&(m=u,n=!o.reversed&&!i.negative||o.reversed&&i.negative,g=Math.abs(g-a)>u?r-u:a-(n?u:0)),i.barX=c,i.pointWidth=h,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-c-p/2,m]:[c+p/2,l+o.pos-e.plotTop,m],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[c,a,p,0]:[c,g,p,m])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,r=this.options,o=this.pointAttrToOptions||{};n=o.stroke||"borderColor";var s=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,u=t[n]||r[n]||this.color||l,c=t[s]||r[s]||this[s]||0,o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=a(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&i(l).brighten(t.brightness).get()||l,u=t[n]||u,c=t[s]||c,o=t.dashStyle||o),n={fill:l,stroke:u,"stroke-width":c},r.borderRadius&&(n.r=r.borderRadius),o&&(n.dashstyle=o),n},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,s=i.renderer,l=r.animationLimit||250;n(e.points,function(n){var u=n.graphic;o(n.plotY)&&null!==n.y?(t=n.shapeArgs,u?u[i.pointCount<l?"animate":"attr"](a(t)):n.graphic=u=s[n.shapeType](t).add(n.group||e.group),u.attr(e.pointAttribs(n,n.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(n.getClassName(),!0)):u&&(n.graphic=u.destroy())})},animate:function(t){var i=this,n=this.yAxis,o=i.options,a=this.chart.inverted,s={};c&&(t?(s.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(o.threshold))),a?s.translateX=t-n.len:s.translateY=t,i.group.attr(s)):(s[a?"translateX":"translateY"]=n.pos,i.group.animate(s,r(e(i.options.animation),{step:function(t,e){i.group.attr({scaleY:Math.max(.001,e.pos)})}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(t),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">â</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,i=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,n,r=this.options,o=this.chart,a=2*(r.slicedOffset||0),s=o.plotWidth-2*a,o=o.plotHeight-2*a,l=r.center,l=[e(l[0],"50%"),e(l[1],"50%"),r.size||"100%",r.innerSize||0],u=Math.min(s,o);for(t=0;4>t;++t)n=l[t],r=2>t||2===t&&/%$/.test(n),l[t]=i(n,[s,o,u,l[2]][t])+(r?a:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(t),function(t){var e=t.addEvent,i=t.defined,n=t.each,r=t.extend,o=t.inArray,a=t.noop,s=t.pick,l=t.Point,u=t.Series,c=t.seriesType,h=t.setAnimation;c("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,r=e.startAngleRad;t||(n(i,function(t){var i=t.graphic,n=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:r,end:r}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=n[t],i+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<r;t++)e=n[t],e.percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){u.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,a,l=0,u=this.options,c=u.slicedOffset,h=c+(u.borderWidth||0),d=u.startAngle||0,f=this.startAngleRad=Math.PI/180*(d-90),d=(this.endAngleRad=Math.PI/180*(s(u.endAngle,d+360)-90))-f,p=this.points,g=u.dataLabels.distance,u=u.ignoreHiddenPoint,m=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,r){return n=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(n)*(t[2]/2+r.labelDistance)},o=0;o<m;o++)a=p[o],a.labelDistance=s(a.options.dataLabels&&a.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,a.labelDistance),e=f+l*d,u&&!a.visible||(l+=a.percentage/100),i=f+l*d,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},n=(i+e)/2,n>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(n)*c),translateY:Math.round(Math.sin(n)*c)},i=Math.cos(n)*t[2]/2,r=Math.sin(n)*t[2]/2,a.tooltipPos=[t[0]+.7*i,t[1]+.7*r],a.half=n<-Math.PI/2||n>Math.PI/2?1:0,a.angle=n,e=Math.min(h,a.labelDistance/5),a.labelPos=[t[0]+i+Math.cos(n)*a.labelDistance,t[1]+r+Math.sin(n)*a.labelDistance,t[0]+i+Math.cos(n)*e,t[1]+r+Math.sin(n)*e,t[0]+i,t[1]+r,0>a.labelDistance?"center":a.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,o,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g("shadow").add(a.group)),n(a.points,function(n){if(!n.isNull){e=n.graphic,o=n.shapeArgs,t=n.getTranslate();var u=n.shadowGroup;l&&!u&&(u=n.shadowGroup=s.g("shadow").add(a.shadowGroup)),u&&u.attr(t),i=a.pointAttribs(n,n.selected&&"select"),e?e.setRadialReference(a.center).attr(i).animate(r(o,t)):(n.graphic=e=s[n.shapeType](o).setRadialReference(a.center).attr(t).add(a.group),n.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,u)),e.addClass(n.getClassName())}})},searchPoint:a,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:t.CenteredSeriesMixin.getCenter,getSymbol:a},{init:function(){l.prototype.init.apply(this,arguments);var t,i=this;return i.name=s(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,r=i.series,a=r.chart,l=r.options.ignoreHiddenPoint;e=s(e,l),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,r.options.data[o(i,r.data)]=i.options,n(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&a.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),l&&(r.isDirty=!0),e&&a.redraw())},slice:function(t,e,n){var r=this.series;h(n,r.chart),s(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[o(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,i=t.arrayMax,n=t.defined,r=t.each,o=t.extend,a=t.format,s=t.map,l=t.merge,u=t.noop,c=t.pick,h=t.relativeLength,d=t.Series,f=t.seriesTypes,p=t.stableSort;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var n,o,a=!0,l=t,u=[];for(o=0,n=t.length;n--;)o+=t[n].size;if(o>e){for(p(t,function(t,e){return(e.rank||0)-(t.rank||0)}),o=n=0;o<=e;)o+=t[n].size,n++;u=t.splice(n-1,t.length)}for(p(t,i),t=s(t,function(t){return{size:t.size,targets:[t.target]}});a;){for(n=t.length;n--;)a=t[n],o=(Math.min.apply(0,a.targets)+Math.max.apply(0,a.targets))/2,a.pos=Math.min(Math.max(0,o-a.size/2),e-a.size);for(n=t.length,a=!1;n--;)0<n&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].pos+t[n-1].size>e&&(t[n-1].pos=e-t[n-1].size),t.splice(n,1),a=!0)}n=0,r(t,function(t){var e=0;r(t.targets,function(){l[n].pos=t.pos+e,e+=l[n].size,n++})}),l.push.apply(l,u),p(l,i)},d.prototype.drawDataLabels=function(){var i,o,s,u,h=this,d=h.options,f=d.dataLabels,p=h.points,g=h.hasRendered||0,m=c(f.defer,!!d.animation),v=h.chart.renderer;(f.enabled||h._hasPointLabels)&&(h.dlProcessOptions&&h.dlProcessOptions(f),u=h.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",f.zIndex||6),m&&(u.attr({opacity:+g}),g||e(h,"afterAnimate",function(){h.visible&&u.show(!0),u[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),o=f,r(p,function(e){var r,p,g,m,y=e.dataLabel,b=e.connector,x=!y;i=e.dlOptions||e.options&&e.options.dataLabels,(r=c(i&&i.enabled,o.enabled)&&null!==e.y)&&(f=l(o,i),p=e.getLabelConfig(),s=f.format?a(f.format,p):f.formatter.call(p,f),m=f.style,p=f.rotation,m.color=c(f.color,m.color,h.color,"#000000"),"contrast"===m.color&&(e.contrastColor=v.getContrast(e.color||h.color),m.color=f.inside||0>c(e.labelDistance,f.distance)||d.stacking?e.contrastColor:"#000000"),d.cursor&&(m.cursor=d.cursor),g={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:p,padding:f.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!y||r&&n(s)?r&&n(s)&&(y?g.text=s:(y=e.dataLabel=v[p?"text":"label"](s,0,-9999,f.shape,null,null,f.useHTML,null,"data-label"),y.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(f.className||"")+(f.useHTML?"highcharts-tracker":""))),y.attr(g),y.css(m).shadow(f.shadow),y.added||y.add(u),h.alignDataLabel(e,y,f,null,x)):(e.dataLabel=y=y.destroy(),b&&(e.connector=b.destroy()))}))},d.prototype.alignDataLabel=function(t,e,i,n,r){var a,s=this.chart,l=s.inverted,u=c(t.plotX,-9999),h=c(t.plotY,-9999),d=e.getBBox(),f=i.rotation,p=i.align,g=this.visible&&(t.series.forceDL||s.isInsidePlot(u,Math.round(h),l)||n&&s.isInsidePlot(u,l?n.x+1:n.y+n.height-1,l)),m="justify"===c(i.overflow,"justify");g&&(a=i.style.fontSize,a=s.renderer.fontMetrics(a,e).b,n=o({x:l?s.plotWidth-h:u,y:Math.round(l?s.plotHeight-u:h),width:0,height:0},n),o(i,{width:d.width,height:d.height}),f?(m=!1,u=s.renderer.rotCorr(a,f),u={x:n.x+i.x+n.width/2+u.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](u).attr({align:p}),h=(f+720)%360,h=180<h&&360>h,"left"===p?u.y-=h?d.height:0:"center"===p?(u.x-=d.width/2,u.y-=d.height/2):"right"===p&&(u.x-=d.width,u.y-=h?0:d.height)):(e.align(i,null,n),u=e.alignAttr),m?t.isLabelJustified=this.justifyDataLabel(e,i,u,d,n,r):c(i.crop,!0)&&(g=s.isInsidePlot(u.x,u.y)&&s.isInsidePlot(u.x+d.width,u.y+d.height)),i.shape&&!f)&&e[r?"attr":"animate"]({anchorX:l?s.plotWidth-t.plotY:t.plotX,anchorY:l?s.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,i,n,r,o){var a,s,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;return a=i.x+h,0>a&&("right"===u?e.align="left":e.x=-a,s=!0),a=i.x+n.width-h,a>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-a,s=!0),a=i.y+h,0>a&&("bottom"===c?e.verticalAlign="top":e.y=-a,s=!0),a=i.y+n.height-h,a>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!o,t.align(e,null,r)),s},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,o,a,s,l,u,h,f,p,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,x=c(b.connectorPadding,10),w=c(b.connectorWidth,1),k=y.plotWidth,C=y.plotHeight,S=m.center,T=S[2]/2,M=S[1],A=[[],[]],E=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),d.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(A[t.half].push(t),t.dataLabel._pos=null)}),r(A,function(i,o){var c,d,v,w=i.length,A=[];if(w)for(m.sortByAngle(i,o-.5),0<m.maxLabelDistance&&(c=Math.max(0,M-T-m.maxLabelDistance),d=Math.min(M+T+m.maxLabelDistance,y.plotHeight),r(i,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,M-T-t.labelDistance),t.bottom=Math.min(M+T+t.labelDistance,y.plotHeight),v=t.dataLabel.getBBox().height||21,t.positionsIndex=A.push({target:t.labelPos[1]-t.top+v/2,size:v,rank:t.y})-1)}),t.distribute(A,d+v-c)),g=0;g<w;g++)e=i[g],d=e.positionsIndex,l=e.labelPos,a=e.dataLabel,p=!1===e.visible?"hidden":"inherit",c=l[1],A&&n(A[d])?void 0===A[d].pos?p="hidden":(u=A[d].size,f=e.top+A[d].pos):f=c,delete e.positionIndex,h=b.justify?S[0]+(o?-1:1)*(T+e.labelDistance):m.getX(f<e.top+2||f>e.bottom-2?c:f,o,e),a._attr={visibility:p,align:l[6]},a._pos={x:h+b.x+({left:x,right:-x}[l[6]]||0),y:f+b.y-10},l.x=h,l.y=f,s=a.getBBox().width,c=null,h-s<x?(c=Math.round(s-h+x),E[3]=Math.max(c,E[3])):h+s>k-x&&(c=Math.round(h+s-k+x),E[1]=Math.max(c,E[1])),0>f-u/2?E[0]=Math.max(Math.round(u/2-f),E[0]):f+u/2>C&&(E[2]=Math.max(Math.round(f+u/2-C),E[2])),a.sideOverflow=c}),0===i(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),w&&r(this.points,function(t){var e;o=t.connector,(a=t.dataLabel)&&a._pos&&t.visible&&0<t.labelDistance?(p=a._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),o.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",p)):o&&(t.connector=o.destroy())}))},f.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=u,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n.minSize||80,a=null!==n.size;return a||(null!==r[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(h(n.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,i,n,r){var o=this.chart.inverted,a=t.series,s=t.dlBox||t.shapeArgs,u=c(t.below,t.plotY>c(this.translatedThreshold,a.yAxis.len)),h=c(i.inside,!!this.options.stacking);s&&(n=l(s),0>n.y&&(n.height+=n.y,n.y=0),s=n.y+n.height-a.yAxis.len,0<s&&(n.height-=s),o&&(n={x:a.yAxis.len-n.y-n.height,y:a.xAxis.len-n.x-n.width,width:n.height,height:n.width}),h||(o?(n.x+=u?0:n.width,n.width=0):(n.y+=u?n.height:0,n.height=0))),i.align=c(i.align,!o||h?"center":u?"right":"left"),i.verticalAlign=c(i.verticalAlign,o||h?"middle":u?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,i,n,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(t),function(t){var e=t.Chart,i=t.each,n=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series||[],function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&i(o,function(r){i(t.points,function(t){t[r]&&(t[r].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,a,s,l,u,c,h=t.length;for(n=0;n<h;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<h;n++)for(r=t[n],e=n+1;e<h;++e)o=t[e],r&&o&&r!==o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(a=r.alignAttr,s=o.alignAttr,l=r.parentGroup,u=o.parentGroup,c=2*(r.box?0:r.padding),a=function(t,e,i,n,r,o,a,s){return!(r>t+i||r+a<t||o>e+n||o+s<e)}(a.x+l.translateX,a.y+l.translateY,r.width-c,r.height-c,s.x+u.translateX,s.y+u.translateY,o.width-c,o.height-c))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,i=t.addEvent,n=t.Chart,r=t.createElement,o=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,h=t.hasTouch,d=t.inArray,f=t.isObject,p=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(n){t[n]&&(t[n].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){e.onTrackerMouseOut(t)}),h&&t[n].on("touchstart",i),t.options.cursor&&t[n].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),o=r.length,a=e.chart,s=a.pointer,u=a.renderer,c=a.options.tooltip.snap,d=e.tracker,f=function(){a.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(x?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:p,fill:n?p:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*c),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){s.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),h&&t.on("touchstart",f)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),u(p.prototype,{setItemEvents:function(t,e,i){var n=this,r=n.chart.renderer.boxWrapper,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?n.itemStyle:n.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):c(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),a.legend.itemStyle.cursor="pointer",u(n.prototype,{showResetZoom:function(){var t=this,e=a.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,o)},zoomOut:function(){var t=this;c(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,r=!1;!t||t.resetSelection?l(this.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;n[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&f(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=n[e?"xAxis":"yAxis"][0];var r,o=e.horiz,a=t[o?"chartX":"chartY"],o=o?"mouseDownX":"mouseDownY",s=n[o],l=(e.pointRange||0)/2,u=e.getExtremes(),c=e.toValue(s-a,!0)+l,l=e.toValue(s+e.len-a,!0)-l,h=l<c,s=h?l:c,c=h?c:l,l=Math.min(u.dataMin,e.toValue(e.toPixels(u.min)-e.minPixelPadding)),h=Math.max(u.dataMax,e.toValue(e.toPixels(u.max)+e.minPixelPadding));r=l-s,0<r&&(c+=r,s=l),r=c-h,0<r&&(c=h,s-=r),e.series.length&&s!==u.min&&c!==u.max&&(e.setExtremes(s,c,!1,!1,{trigger:"pan"}),i=!0),n[o]=a}),i&&n.redraw(!1),o(n.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart;t=m(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[d(i,n.data)]=i.options,i.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[d(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,n=g(e.series.options.point,e.options).events;e.events=n,t.objectEach(n,function(t,n){i(e,n,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,n=Math.floor(this.plotX),r=this.plotY,o=this.series,a=o.options.states[t]||{},l=s[o.type].marker&&o.options.marker,c=l&&!1===l.enabled,h=l&&l.states&&l.states[t]||{},d=!1===h.enabled,f=o.stateMarkerGraphic,p=this.marker||{},g=o.chart,v=o.halo,y=l&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===a.enabled||t&&(d||c&&!1===h.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled||(y&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.attr(o.pointAttribs(this,t)),i&&this.graphic.animate(i,m(g.options.chart.animation,h.animation,l.animation)),f&&f.hide()):(t&&h&&(l=p.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(o.stateMarkerGraphic=f=g.renderer.symbol(l,i.x,i.y,i.width,i.height).add(o.markerGroup),f.currentSymbol=l),f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&g.isInsidePlot(n,r,g.inverted)?"show":"hide"](),f.element.point=this)),(n=a.halo)&&n.size?(v||(o.halo=v=g.renderer.path().add((this.graphic||f).parentGroup)),v[e?"animate":"attr"]({d:this.haloPath(n.size)}),v.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)}),v.point=this,v.attr(u({fill:this.color||o.color,"fill-opacity":n.opacity,zIndex:-1},n.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)}),this.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,n=e.graph,r=i.states,o=i.lineWidth,i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),n&&!n.dashstyle))for(o={"stroke-width":o},n.animate(o,m(e.chart.options.chart.animation,r[t]&&r[t].animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,a=r.options.chart.ignoreHiddenSeries,s=n.visible;i=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!s:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(n.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),c(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,i=t.each,n=t.inArray,r=t.isArray,o=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var n=this.options.responsive,r=[],o=this.currentResponsive;n&&n.rules&&i(n.rules,function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,r,e)},this);var a=t.merge.apply(0,t.map(r,function(e){return t.find(n.rules,function(t){return t._id===e}).chartOptions})),r=r.toString()||void 0;r!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:a,undoOptions:this.currentOptions(a)},this.update(a,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=a(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(i.minWidth,0)&&this.chartHeight>=a(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,a,l,u){var c;t.objectEach(e,function(t,h){if(!u&&-1<n(h,["series","xAxis","yAxis"]))for(e[h]=s(e[h]),l[h]=[],c=0;c<e[h].length;c++)a[h][c]&&(l[h][c]={},i(t[c],a[h][c],l[h][c],u+1));else o(t)?(l[h]=r(t)?[]:{},i(t,a[h]||{},l[h],u+1)):l[h]=a[h]||null})}var a={};return i(e,this.options,a,0),a}}(t),t})},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t)}return r(t,null,[{key:"padLeft",value:function(t,e,i){for(var n=""+t;n.length<i;)n=e+n;return n}},{key:"emptyIfNull",value:function(t){return null===t?"":t}},{key:"isNotEmpty",value:function(t){return null!==t&&"string"==typeof t&&t.trim().length>0}},{key:"equalsIgnoreCase",value:function(t,e){return null!==t&&null!==e?t.toLowerCase()===e.toLowerCase():null===t&&null===e}}]),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={route_selected_for_load:"route-selected-for-load-event",model_changed:"route-model-changed-event",add_waypoint:"route-add-waypoint-event"};e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(47),s=n(a),l=i(48),u=n(l),c=i(2),h=n(c),d=i(0),f=n(d),p=[],g=function(){function t(){r(this,t)}return o(t,null,[{key:"getById",value:function(e){s.default.isInteger(e,"id must be an integer");for(var i=t.getAll(),n=0;n<i.length;n++){var r=i[n];if(r.id===e)return r}return null}},{key:"removeById",value:function(e){s.default.isInteger(e,"id must be an integer");for(var i=t.getAll(),n=0;n<i.length;n++){if(i[n].id===e){i.splice(n,1);break}}}},{key:"addCustomSite",value:function(e,i){var n=t.getAll(),r=u.default.buildNewCustom(n.length+25e3,e,i);return n.push(r),r}},{key:"getAll",value:function(){return p}},{key:"load",value:function(){return f.default.getJSON(h.default.SITES).done(function(t){t.forEach(function(t){p.push(u.default.fromJSON(t))})})}}]),t}();e.default=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={};o.BY_OPENED_DATE=function(t,e){var i=r.default.isNullOrUndef(t.dateOpened),n=r.default.isNullOrUndef(e.dateOpened);return i&&n?0:i?-1:n?1:t.dateOpened<e.dateOpened?-1:t.dateOpened>e.dateOpened?1:0},o.BY_OPENED_DATE_DESC=function(t,e){return-1*o.BY_OPENED_DATE(t,e)},o.BY_STATUS_DAYS=function(t,e){var i=t.status.sort,n=e.status.sort;return i===n?t.statusDays-e.statusDays:i-n},e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={};o.eventDetail=function(t){t.preventDefault();var e=(0,r.default)(t.target);return{link:e,actionName:e.attr("href").replace("#","")}},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)","i"),i=e.exec(window.location.search)||[,""],n=i[1].replace(/\+/g,"%20");return decodeURIComponent(n)||null}Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=n(o),s=i(4),l=n(s);i(45);var u={};u.DEFAULT_CENTER={latitude:38,longitude:-96.5},u.DEFAULT_ZOOM=5,u.DEFAULT_ZOOM_MOBILE=7,u.DEFAULT_PAGE="map",u.DEFAULT_CONTROLS="range,status";var c=r("Center"),h=r("Zoom"),d=r("RangeMi"),f=r("RangeKm"),p=r("wayback"),g=r("Controls"),m=r("Page");u.getCenter=function(){var t=c;if(null!==t){var e=t.split(","),i=parseFloat(e[0]),n=parseFloat(e[1]);if(l.default.isNumber(i)&&l.default.isNumber(n))return{latitude:i,longitude:n}}return u.DEFAULT_CENTER},u.isCenterSet=function(){return null!==c},u.isZoomSet=function(){return null!==h},u.isRangeUnitSet=function(){return null!==d||null!==f},u.getZoom=function(){var t=h;return t&&!isNaN(t)?parseInt(t):a.default.browser.mobile?u.DEFAULT_ZOOM_MOBILE:u.DEFAULT_ZOOM},u.getPage=function(){var t=["map","data","charts","changes","about"],e=m,i=null!==e?e.toLowerCase():"";return t.indexOf(i)>=0?i:u.DEFAULT_PAGE},u.getControls=function(){var t=g;return null===t?u.DEFAULT_CONTROLS:t.toLowerCase()},u.getWayBack=function(){return"start"===p},u.getRangeMi=function(){return d},u.getRangeKm=function(){return f},e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=t.open,n=e.open;if(i!==n)return n-i;var r=i+t.construction,o=n+e.construction;if(r!==o)return o-r;var a=r+t.permit,s=o+e.permit;return a!==s?s-a:t.key.localeCompare(e.key)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),a=n(o),s=i(9),l=n(s),u=i(0),c=n(u),h=function(){};h.getCountListImpl=function(t,e,i){var n={},r=[],o=0,a=0,s=0;return t.iterate(function(t){var i=t.address[e];if(!n[i]){var l={key:i,open:0,construction:0,permit:0};n[i]=l,r.push(l)}if(t.isOpen())n[i].open++,o++;else if(t.isConstruction())n[i].construction++,a++;else if(t.isPermit())n[i].permit++,s++;else if(!t.isClosed())throw new Error("unexpected supercharger status"+t)}),r.push({key:"World",open:o,construction:a,permit:s}),r.sort(i),r},h.getCountListByCountry=function(){var t=(new a.default).withPredicate(l.default.NOT_USER_ADDED).withPredicate(l.default.IS_COUNTED);return h.getCountListImpl(t,"country",r)},h.getCountMapByCountry=function(){var t=h.getCountListByCountry(),e={};return c.default.each(t,function(t,i){var n=i.key;e[n]=i}),e},h.getCountListByState=function(t){var e=(new a.default).withPredicate(l.default.NOT_USER_ADDED).withPredicate(l.default.IS_COUNTED).withPredicate(function(e){return t===e.address.country});return h.getCountListImpl(e,"state",r)},h.getCountListByRegion=function(){var t=(new a.default).withPredicate(l.default.NOT_USER_ADDED).withPredicate(l.default.IS_COUNTED);return h.getCountListImpl(t,"region",r)},h.getCountMapByRegion=function(){var t=h.getCountListByRegion(),e={};return c.default.each(t,function(t,i){var n=i.key;e[n]=i}),e},e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(12),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o={CLOSED:{value:"CLOSED",sort:0,displayName:"Temporarily Closed",getIconUrl:function(t){return"/images/dots/gray_dot_16.png"}},PERMIT:{value:"PERMIT",sort:1,displayName:"Permit",getIconUrl:function(t){return"/images/dots/blue_dot_16.png"}},CONSTRUCTION:{value:"CONSTRUCTION",sort:2,displayName:"Construction",getIconUrl:function(t){return"/images/construction-cone.png"}},OPEN:{value:"OPEN",sort:3,displayName:"Open",getIconUrl:function(t){return r.default.isNotEmpty(t.hours)?"/images/dots/red_black_dot_16.png":"/images/dots/red_dot_16.png"}},USER_ADDED:{value:"USER_ADDED",displayName:"Custom",getIconUrl:function(t){return"/images/dots/green_dot_16.png"}}};o.fromString=function(t){var e=t.trim();if("OPEN"===e)return o.OPEN;if("CONSTRUCTION"===e)return o.CONSTRUCTION;if("PERMIT"===e)return o.PERMIT;if("CLOSED"===e)return o.CLOSED;if("USER_ADDED"===e)return o.USER_ADDED;throw new Error("invalid status: "+t)},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(17),u=n(l),c=function(){function t(){r(this,t);var e=u.default.getControls();this.rangeControlVisible=e.indexOf("range")>=0,this.statusControlVisible=e.indexOf("status")>=0,this.renderControlVisible=e.indexOf("render")>=0}return o(t,[{key:"fireChangeEvent",value:function(){s.default.dispatch("control-visible-model-changed-event",this)}},{key:"toggleRangeControlVisible",value:function(){this.setRangeControlVisible(!this.rangeControlVisible)}},{key:"toggleStatusControlVisible",value:function(){this.setStatusControlVisible(!this.statusControlVisible)}},{key:"toggleRenderControlVisible",value:function(){this.setRenderControlVisible(!this.renderControlVisible)}},{key:"setRangeControlVisible",value:function(t){this.rangeControlVisible=t}},{key:"setStatusControlVisible",value:function(t){this.statusControlVisible=t}},{key:"setRenderControlVisible",value:function(t){this.renderControlVisible=t}}]),t}();e.default=new c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={show_location:"map-show-location-event",pan_zoom:"map-pan-zoom-event"};e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={login_check_success:"login-check-success",logout:"logout"};e.default=n},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(1),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(){n(this,t),this.showOpen=!0,this.showConstruction=!0,this.showPermit=!0,this.showClosed=!0}return r(t,[{key:"fireModelChangeEvent",value:function(){a.default.dispatch("status-model-changed-event",this)}},{key:"togglePermit",value:function(){this.setShowPermit(!this.showPermit)}},{key:"toggleConstruction",value:function(){this.setShowConstruction(!this.showConstruction)}},{key:"toggleOpen",value:function(){this.setShowOpen(!this.showOpen)}},{key:"setShowPermit",value:function(t){this.showPermit=t}},{key:"setShowConstruction",value:function(t){this.showConstruction=t}},{key:"setShowOpen",value:function(t){this.showOpen=t}},{key:"setShowClosed",value:function(t){this.showClosed=t}},{key:"setAllOff",value:function(){this.setShowPermit(!1),this.setShowConstruction(!1),this.setShowOpen(!1),this.setShowClosed(!1)}}]),t}();e.default=new s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(3),u=n(l),c=i(0),h=n(c),d=i(13),f=n(d),p=function(){function t(){r(this,t),this.waypointList=[],this.routeId=null,this.routeName=null}return o(t,[{key:"getWaypoints",value:function(){return this.waypointList}},{key:"updateRoute",value:function(e,i,n){this.routeId=e,this.routeName=i,this.waypointList=n.slice(),t.fireChangeEvent()}},{key:"addWaypoint",value:function(e){this.waypointList.push(e),t.fireChangeEvent()}},{key:"clearWaypoints",value:function(){this.waypointList=[],this.routeId=null,this.routeName=null,t.fireChangeEvent(),u.default.sendEvent("route","clear-waypoints")}},{key:"removeWaypoint",value:function(e){this.waypointList.splice(e,1),this.isEmpty()&&(this.routeId=null,this.routeName=null),t.fireChangeEvent(),u.default.sendEvent("route","remove-waypoint-from-route")}},{key:"moveWaypoint",value:function(e,i){var n=this.waypointList[e];this.waypointList.splice(e,1),this.waypointList.splice(i,0,n),t.fireChangeEvent(),u.default.sendEvent("route","move-waypoint")}},{key:"size",value:function(){return this.waypointList.length}},{key:"isEmpty",value:function(){return 0===this.size()}},{key:"isFull",value:function(){return 25===this.size()}},{key:"getFirstLatLng",value:function(){return this.waypointList[0]}},{key:"getLastLatLng",value:function(){return this.waypointList[this.size()-1]}},{key:"getBetweenLatLngList",value:function(){var t=[],e=this.waypointList.length-1;return h.default.each(this.waypointList,function(i,n){0!==i&&i!==e&&t.push({location:n.latLng,stopover:!0})}),t}}],[{key:"fireChangeEvent",value:function(){s.default.dispatch(f.default.model_changed)}}]),t}();e.default=new p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.STATUS_PERMIT={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#003399"],[1,"#3366AA"]]},n.STATUS_OPEN={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#460000"],[1,"#970202"]]},n.STATUS_CONSTRUCTION={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#ffa500"],[1,"#df863c"]]},e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(3),u=n(l),c=i(17),h=n(c),d=i(5),f=n(d),p=i(6),g=(n(p),i(46)),m=n(g),v=i(50),y=n(v),b=i(51),x=n(b),w=i(52),k=n(w),C=i(54),S=n(C),T=i(55),M=n(T),A=i(56),E=n(A),O=i(57),P=n(O),L=i(58),D=n(L),N=i(59),_=n(N),I=i(60),R=n(I),F=i(61),B=n(F),j=i(66),U=n(j),z=i(68),H=n(z),W=i(69),$=n(W),V=i(10),G=n(V),Y=i(0),X=n(Y);i(72);var q=function(){function t(){r(this,t)}return o(t,[{key:"onPageShow",value:function(){t.initStarted||(this.initialize(),t.initStarted=!0),(0,X.default)("#navbar-map-dropdown").show(),(0,X.default)("#navbar-map-search").show(),(0,X.default)("#total-count-table").show(),-1!==navigator.userAgent.indexOf("AppleWebKit/534.34")&&((0,X.default)("#page-control").remove(),(0,X.default)("#routing-panel").remove(),(0,X.default)("#routing-panel-toggle-button").remove(),(0,X.default)("#map-canvas").css("margin","0"))}},{key:"onPageHide",value:function(){(0,X.default)("#navbar-map-dropdown").hide(),(0,X.default)("#navbar-map-search").hide(),(0,X.default)("#total-count-table").hide()}},{key:"initialize",value:function(){if(new U.default,new y.default,new x.default,new H.default,new $.default,new m.default,h.default.isCenterSet())this.initializeAtDefault(),u.default.sendEvent("map","geolocation","user-provided-center");else if(f.default.isLocationSet())console.log("initializing map with lat/lng from userConfig: "+f.default.latitude+","+f.default.longitude),this.initializeAt(f.default.latitude,f.default.longitude);else if(navigator.geolocation){var t=this;X.default.doTimeout("show-map-anyway",6e3,function(){t.initializeAtDefault(),u.default.sendEvent("map","geolocation","timeout")});var e=X.default.proxy(this.geoLocationSuccess,this),i=X.default.proxy(this.geoLocationError,this);navigator.geolocation.getCurrentPosition(e,i)}else this.initializeAtDefault(),u.default.sendEvent("map","geolocation","not-available")}},{key:"geoLocationSuccess",value:function(t){var e=t.coords.latitude,i=t.coords.longitude;this.initializeAt(e,i)}},{key:"geoLocationError",value:function(t){this.initializeAtDefault(),u.default.sendEvent("map","geolocation","error_"+t.code)}},{key:"initializeAtDefault",value:function(){var t=h.default.getCenter();this.initializeAt(t.latitude,t.longitude)}},{key:"initializeAt",value:function(e,i){if(X.default.doTimeout("show-map-anyway"),!t.initViewStarted){t.initViewStarted=!0;var n=h.default.getZoom();!h.default.isZoomSet()&&f.default.isZoomSet()&&(n=f.default.zoom),this.mapView=new B.default(e,i,n),h.default.isRangeUnitSet()||G.default.setDisplayUnit(f.default.getUnit()),new D.default(this.mapView.googleMap),new k.default(this.mapView.googleMap),new S.default(this.mapView),new M.default,new E.default,new P.default(this.mapView.googleMap),new _.default(this.mapView.googleMap),new R.default(this.mapView),h.default.getWayBack()&&s.default.dispatch("way-back-trigger-event"),t.initComplete=!0}}}]),t}();e.default=q},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(12),o=n(r),a=i(4),s=n(a),l={};l.fromString=function(t){var e=t.split("-");if(3===e.length)return new Date(e[0],e[1]-1,e[2]);throw new Error("invalid date: "+t)},l.toString=function(t){return s.default.isNullOrUndef(t)?"":t.getFullYear()+"-"+o.default.padLeft(t.getMonth()+1,"0",2)+"-"+o.default.padLeft(t.getDate(),"0",2)},e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){var t=this.sliderDiv.val();this.setLabelText(t),this.notifyListeners(t),s.default.sendEvent("map","adjust-range","slider")}function o(){var t=this.label.val();t<this.getMin()?(t=this.getMin(),this.setLabelText(t)):t>this.getMax()&&(t=this.getMax(),this.setLabelText(t)),this.notifyListeners(t),s.default.sendEvent("map","adjust-range","text")}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),s=n(a),l=i(0),u=n(l),c=function(t,e,i,n,a,s){this.label=(0,u.default)(e),this.sliderDiv=(0,u.default)(t),this.setMin(i),this.setMax(n),this.setStep(a),this.setValue(s),this.sliderDiv.change(u.default.proxy(r,this)),this.label.change(u.default.proxy(o,this))};c.prototype.on=function(t,e){this.sliderDiv.on(t,e)},c.prototype.trigger=function(t,e){this.sliderDiv.trigger(t,e)},c.prototype.setMin=function(t){this.sliderDiv.attr("min",t)},c.prototype.getMin=function(){return this.sliderDiv.attr("min")},c.prototype.setMax=function(t){this.sliderDiv.attr("max",t)},c.prototype.getMax=function(){return this.sliderDiv.attr("max")},c.prototype.setStep=function(t){this.sliderDiv.attr("step",t)},c.prototype.setValue=function(t){this.sliderDiv.val(t),this.setLabelText(t)},c.prototype.setLabelText=function(t){this.label.val(t)},c.prototype.notifyListeners=function(t){var e=this;u.default.doTimeout("rangeTimerId",200,function(){e.trigger("range-change-event",t)})},e.default=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e,i){n(this,t),this.latLng=e,this.displayName=i};e.default=r},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(1),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(){n(this,t),this.fillOpacity=.15,this.fillColor="#86c4ec",this.borderOpacity=.3,this.borderColor="#181fe7"}return r(t,[{key:"fireRenderModelChangeEvent",value:function(){a.default.dispatch("render-model-changed-event")}}]),t}();e.default=new s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=n(r),a=i(2),s=n(a),l=i(12),u=n(l),c=function(t,e,i,n,r){this.handleChangeFunction=i,this.tableBody=e,this.regionSelect=t.find(".region-select"),this.countrySelect=t.find(".country-select"),this.countrySelect.change(o.default.proxy(this.handleCountryChange,this)),this.regionSelect.change(o.default.proxy(this.handleRegionChange,this)),this.regionMap={},this.allCountryList=[],this.populateSelectOptions(n,r)};c.prototype.populateSelectOptions=function(t,e){var i=this;return o.default.getJSON(s.default.COUNTRY).done(o.default.proxy(this.countriesServiceCallback,this)).done(function(){null!==t&&i.setRegion(t),null!==e&&i.setCountry(e)}).done(function(){i.tableBody.parents("table").show()})},c.prototype.handleRegionChange=function(){this.countrySelect.val("");var t=this.regionSelect.val();if(u.default.isNotEmpty(t)){var e=this.regionMap[t];this.populateCountrySelect(e)}else this.populateCountrySelect(this.allCountryList);this.handleChangeFunction("region",this.regionSelect.val()).done(o.default.proxy(this.doTableFiltering,this))},c.prototype.handleCountryChange=function(){this.handleChangeFunction("country",this.countrySelect.val()).done(o.default.proxy(this.doTableFiltering,this))},c.prototype.doTableFiltering=function(){var t=this.getCountry(),e=this.getRegion();this.tableBody.find("tr").show().filter(function(){return u.default.isNotEmpty(t)&&(0,o.default)(this).data("country")!==t||u.default.isNotEmpty(e)&&(0,o.default)(this).data("region")!==e}).hide()},c.prototype.countriesServiceCallback=function(t){this.allCountryList=t,this.populateCountrySelect(t);var e=this.regionMap;o.default.each(t,function(t,i){var n=i.region,r=e[n];r||(r=[],e[n]=r),r.push(i)}),this.populateRegionSelect()},c.prototype.populateCountrySelect=function(t){this.countrySelect.html(""),this.countrySelect.append("<option value=''>-- Country --</option>");var e=this.countrySelect;o.default.each(t,function(t,i){e.append("<option value='"+i.name+"'>"+i.name+"</option>")})},c.prototype.populateRegionSelect=function(){var t=[];o.default.each(this.regionMap,function(e,i){t.push(e)}),t.sort();var e=this.regionSelect;this.regionSelect.append("<option value=''>-- Region --</option>"),o.default.each(t,function(t,i){e.append("<option value='"+i+"'>"+i+"</option>")})},c.prototype.getCountry=function(){return this.countrySelect.val()},c.prototype.getRegion=function(){return this.regionSelect.val()},c.prototype.setCountry=function(t){this.countrySelect.val(t).change()},c.prototype.setRegion=function(t){this.regionSelect.val(t).change()},e.default=c},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){n(this,t)}return r(t,null,[{key:"isTextSelected",value:function(){return!!window.getSelection&&window.getSelection().toString().length>0}}]),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.buildVerticalYearPlotLines=function(){for(var t=[],e=(new Date).getFullYear(),i=2013;i<=e;i++)t.push({value:Date.UTC(i,0,1),color:"black",width:1,label:{text:i,align:"left",style:{color:"gray",fontSize:"1.7em"}}});return t},e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l),c=i(22),h=n(c),d=i(1),f=n(d),p=function(){function t(){r(this,t)}return o(t,[{key:"loginCheck",value:function(){s.default.getJSON(u.default.LOGIN_CHECK).done(function(t){"SUCCESS"===t.result&&f.default.dispatch(h.default.login_check_success,t)})}}]),t}();e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={save_pressed:"profile-save-pressed"};e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i(0),o=n(r),a=i(37),s=n(a),l=i(108),u=n(l),c=i(14),h=n(c),d=i(5),f=n(d),p=i(34),g=n(p);i(110),i(111),i(112),i(113),i(114),i(115),i(116),i(117),i(118),window.supercharge.start=function(){var t=o.default.Deferred();(0,o.default)(document).ready(function(){t.resolve()}),o.default.when(f.default.load(),h.default.load(),t).done(function(){(new s.default).setInitialPage(),(new g.default).loginCheck(),(new u.default).doCheck()})}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(1),u=n(l),c=i(16),h=n(c),d=i(38),f=n(d),p=i(39),g=n(p),m=i(26),v=n(m),y=i(73),b=n(y),x=i(77),w=n(x),k=i(85),C=n(k),S=i(87),T=n(S),M=i(103),A=n(M),E=i(3),O=n(E),P=i(17),L=n(P),D=i(107),N=n(D),_=function(){function t(){r(this,t),this.navBarDropdown=new f.default,this.currentPage=L.default.DEFAULT_PAGE,this.mapPage=new v.default,this.dataPage=new b.default,this.chartsPage=new w.default,this.changesPage=new C.default,this.aboutPage=new T.default,this.profilePage=new A.default,new g.default,new N.default,this.initListeners(),this.navbarToggle=(0,s.default)(".navbar-toggle"),this.navbarCollapse=(0,s.default)(".navbar-collapse")}return o(t,[{key:"setInitialPage",value:function(){this.changePage(L.default.getPage())}},{key:"initListeners",value:function(){(0,s.default)("#navbar-menu-item-list").find("a.page").click(s.default.proxy(this.handlePageChangeClick,this)),(0,s.default)("#navbar-dropdown-menu-item-list").find("a").click(s.default.proxy(this.navBarDropdown.handleAction,this.navBarDropdown)),u.default.addListener("nav-change-page-event",this.handlePageChangeEvent,this);var t=s.default.proxy(this.autoCloseCollapsedNavBar,this);(0,s.default)("body").click(t),u.default.addListener("places-changed-event",t)}},{key:"handlePageChangeEvent",value:function(t,e){this.changePage(e)}},{key:"handlePageChangeClick",value:function(t){var e=h.default.eventDetail(t);this.changePage(e.actionName)}},{key:"changePage",value:function(t){this.currentPage!==t&&O.default.sendEvent("navigation","change-tab",t),this.hideCurrentPage(),this.currentPage=t,this.showCurrentPage();var e=this;setTimeout(function(){"map"===e.currentPage?e.mapPage.onPageShow():e.mapPage.onPageHide(),"data"===e.currentPage&&e.dataPage.onPageShow(),"charts"===e.currentPage&&e.chartsPage.onPageShow(),"changes"===e.currentPage&&e.changesPage.onPageShow(),"about"===e.currentPage&&e.aboutPage.onPageShow(),"profile"===e.currentPage&&e.profilePage.onPageShow()},1)}},{key:"hideCurrentPage",value:function(){(0,s.default)("#page-"+this.currentPage).hide(),(0,s.default)("#page-link-"+this.currentPage).closest("li").removeClass("active")}},{key:"showCurrentPage",value:function(){(0,s.default)("#page-"+this.currentPage).show(),(0,s.default)("#page-link-"+this.currentPage).closest("li").addClass("active")}},{key:"autoCloseCollapsedNavBar",value:function(t){if(this.navbarToggle.is(":visible")&&this.navbarCollapse.is(":visible")){var e=(0,s.default)(t.target);e.is(".dropdown-toggle")||e.is(".form-control")&&0!==e.closest(".navbar").length||this.navbarCollapse.collapse("toggle")}}}]),t}();e.default=_},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(1),u=n(l),c=i(3),h=n(c),d=i(16),f=n(d),p=function(){function t(){r(this,t),this.rangeControlMenuItem=(0,s.default)("#range-menu-item").find(".glyphicon"),this.statusControlMenuItem=(0,s.default)("#status-menu-item").find(".glyphicon"),this.renderControlMenuItem=(0,s.default)("#rendering-menu-item").find(".glyphicon"),u.default.addListener("control-visible-model-changed-event",this.handleControlVisibilityChange,this)}return o(t,[{key:"handleAction",value:function(t){var e=f.default.eventDetail(t);"range-menu-item"===e.actionName?(u.default.dispatch("toggle-range-control-event"),h.default.sendEvent("control","toggle-range-control")):"status-menu-item"===e.actionName?(u.default.dispatch("toggle-status-control-event"),h.default.sendEvent("control","toggle-status-control")):"rendering-menu-item"===e.actionName?(u.default.dispatch("toggle-render-control-event"),h.default.sendEvent("control","toggle-render-control")):"range-circles-all-off"===e.actionName?(u.default.dispatch("circles-all-off-event"),h.default.sendEvent("map","turn-off-all-circles")):"range-circles-all-on"===e.actionName?(u.default.dispatch("circles-all-on-event"),h.default.sendEvent("map","turn-on-all-circles")):"create-link-menu-item"===e.actionName?(u.default.dispatch("create-link-event"),h.default.sendEvent("map","create-link")):"way-back-menu-item"===e.actionName&&(u.default.dispatch("way-back-trigger-event"),h.default.sendEvent("map","way-back"))}},{key:"handleControlVisibilityChange",value:function(e,i){t.checkboxUpdate(this.rangeControlMenuItem,i.rangeControlVisible),t.checkboxUpdate(this.statusControlMenuItem,i.statusControlVisible),t.checkboxUpdate(this.renderControlMenuItem,i.renderControlVisible)}}],[{key:"checkboxUpdate",value:function(t,e){e&&!t.hasClass("glyphicon-check")&&(t.addClass("glyphicon-check"),t.removeClass("glyphicon-unchecked")),e||t.hasClass("glyphicon-unchecked")||(t.addClass("glyphicon-unchecked"),t.removeClass("glyphicon-check"))}}]),t}();e.default=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l),c=i(1),h=n(c),d=i(22),f=n(d),p=i(40),g=n(p),m=i(44),v=n(m),y=function(){function t(){r(this,t),new g.default,new v.default,this.loginLink=(0,s.default)("#login-link"),(0,s.default)("#saved-routes-link").click(function(e){t.handleSavedRoutesClick(e)}),(0,s.default)("#logout-link").click(function(e){t.handleLogoutClick()}),h.default.addListener(f.default.login_check_success,this.updateViewToLoggedIn,this)}return o(t,[{key:"updateViewToLoggedIn",value:function(t,e){this.loginLink.hide(),(0,s.default)("#username-link").html(" "+e.username).prepend("<span class='glyphicon glyphicon-user' aria-hidden='true'/>").append("<span class='caret'/>").show(),(0,s.default)("#save-route-trigger").show(),(0,s.default)("#login-warning").hide()}}],[{key:"handleSavedRoutesClick",value:function(t){t.preventDefault(),(0,s.default)("#load-route-dialog").modal("show")}},{key:"handleLogoutClick",value:function(t){s.default.get(u.default.LOGOUT).done(function(){document.location.href="/"})}}]),t}();e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l);i(41),i(42);var c=i(5),h=n(c),d=function(){function t(){r(this,t),this.addListeners()}return o(t,[{key:"addListeners",value:function(){(0,s.default)("#register-link").click(function(){(0,s.default)("#login-form").hide(),(0,s.default)("#register-form").show()}),(0,s.default)("#forgot-password-link").click(function(){(0,s.default)("#login-form").hide(),(0,s.default)("#reset-form").show()}),(0,s.default)("#login-dialog").on("hidden.bs.modal",function(){(0,s.default)("#login-dialog").find("input[type=text], input[type=password], input[type=email], textarea").val(""),(0,s.default)("#login-form").show(),(0,s.default)("#register-form").hide(),(0,s.default)("#register-confirm").hide(),(0,s.default)("#reset-password").hide(),(0,s.default)("#reset-form").hide(),(0,s.default)("#reset-password-confirm").hide(),e.resetForm(),i.resetForm(),n.resetForm(),(0,s.default)("#login-error").hide(),(0,s.default)("#register-error").hide(),(0,s.default)("#reset-error").hide()});var e=(0,s.default)("#login-form").find("form").validate({submitHandler:t.handleLoginSubmit}),i=(0,s.default)("#register-form").find("form").validate({submitHandler:t.handleRegisterSubmit}),n=(0,s.default)("#reset-form").find("form").validate({submitHandler:t.handleResetPasswordSubmit,rules:{username:{require_from_group:[1,".user-id-group"]},email:{require_from_group:[1,".user-id-group"]}}})}}],[{key:"handleLoginSubmit",value:function(){function t(t){"SUCCESS"===t.result?document.location.href="/":(0,s.default)("#login-error").show().find("p").html(t.messages[0])}var e=(0,s.default)("#login-form"),i=e.find("input[name='username']").val(),n=e.find("input[name='password']").val();s.default.ajax({type:"POST",url:u.default.LOGIN,data:{username:i,password:n},dataType:"json"}).done(t).fail(function(e,i,n){t(e.responseJSON)})}},{key:"handleRegisterSubmit",value:function(){var t=(0,s.default)("#register-form"),e=t.find("input[name='username']").val(),i=t.find("input[name='password']").val(),n=t.find("input[name='email']").val(),r={username:e,password:i,email:n,unit:h.default.getUnit().getCode()};s.default.ajax(u.default.USER_CREATE,{data:JSON.stringify(r),contentType:"application/json",type:"POST"}).done(function(e){t.hide(),(0,s.default)("#register-confirm").show(),setTimeout(function(){document.location.href="/"},3e3)}).fail(function(t,e,i){var n=(0,s.default)("#register-error");n.html(""),t.responseJSON.messages.forEach(function(t){return n.show().append(t+" <br/>")})})}},{key:"handleResetPasswordSubmit",value:function(){var t=(0,s.default)("#reset-form"),e=t.find("input[name='username']").val(),i=t.find("input[name='email']").val();s.default.getJSON(u.default.PASSWORD_RESET+"?username="+e+"&email="+i).done(function(t){(0,s.default)("#reset-form").hide(),(0,s.default)("#reset-password-confirm").show(),setTimeout(function(){(0,s.default)("#login-dialog").modal("toggle")},3e3)}).fail(function(t,e,i){var n=(0,s.default)("#reset-error");n.html(""),t.responseJSON.messages.forEach(function(t){return n.show().append(t+" <br/>")})})}}]),t}();e.default=d},function(t,e,i){var n,r,o;/*!
 * jQuery Validation Plugin v1.16.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2016 JÃ¶rn Zaefferer
 * Released under the MIT license
 */
!function(a){r=[i(0)],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,r;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==r&&r)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){(e=i.element(this)&&e)||(n=n.concat(i.errorList))}),i.errorList=n),e},rules:function(e,i){var n,r,o,a,s,l,u=this[0];if(null!=u&&null!=u.form){if(e)switch(n=t.data(u.form,"validator").settings,r=n.rules,o=t.validator.staticRules(u),e){case"add":t.extend(o,t.validator.normalizeRule(i)),delete o.messages,r[u.name]=o,i.messages&&(n.messages[u.name]=t.extend(n.messages[u.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=o[i],delete o[i],"required"===i&&t(u).removeAttr("aria-required")}),l):(delete r[u.name],o)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),a.required&&(s=a.required,delete a.required,a=t.extend({required:s},a),t(u).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=t.extend(a,{remote:s})),a}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]);var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),r=i.settings;r[n]&&!t(this).is(r.ignore)&&r[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,r=this.clean(e),o=this.validationTargetFor(r),a=this,s=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=t(o),n=this.groups[o.name],n&&t.each(this.groups,function(t,e){e===n&&t!==o.name&&(r=a.validationTargetFor(a.clean(a.findByName(t))))&&r.name in a.invalid&&(a.currentElements.push(r),s=a.check(r)&&s)}),i=!1!==this.check(o),s=s&&i,this.invalid[o.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),s},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(n in i||!e.objectLength(t(this).rules()))&&(i[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,r=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&void 0!==e.validity?e.validity.badInput?"NaN":r.val():(i=e.hasAttribute("contenteditable")?r.text():r.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"))>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,r,o=t(e).rules(),a=t.map(o,function(t,e){return e}).length,s=!1,l=this.elementValue(e);if("function"==typeof o.normalizer){if("string"!=typeof(l=o.normalizer.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(n in o){r={method:n,parameters:o[n]};try{if("dependency-mismatch"===(i=t.validator.methods[n].call(this,l,e,r.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!s)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):r.test(n)&&(n=t.validator.format(n.replace(r,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,r,o,a,s=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=s,this.settings.wrapper&&(n=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,t(e)):n.insertAfter(e),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=s.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(u+=" "+o):u=o,t(e).attr("aria-describedby",u),(r=this.groups[e.name])&&(a=this,t.each(a.groups,function(e,i){i===r&&t("[name='"+a.escapeCssMeta(e)+"']",a.currentForm).attr("aria-describedby",s.attr("id"))})))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(r=r+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,r={},o=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=o.attr(i),this.normalizeAttributeRule(r,a,i,n);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var i,n,r={},o=t(e),a=e.getAttribute("type");for(i in t.validator.methods)n=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(r,a,i,n);return r},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,r){if(!1===r)return void delete e[n];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,i.form).length;break;case"function":o=r.depends.call(i,i)}o?e[n]=void 0===r.param||r.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}),t.each(e,function(n,r){e[n]=t.isFunction(r)&&"normalizer"!==n?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,n){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r>=n},maxlength:function(e,i,n){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r<=n},rangelength:function(e,i,n){var r=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||r>=n[0]&&r<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var r,o=t(i).attr("type"),a="Step attribute on input type "+o+" is not supported.",s=["text","number","range"],l=new RegExp("\\b"+o+"\\b"),u=o&&!l.test(s.join()),c=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},h=function(t){return Math.round(t*Math.pow(10,r))},d=!0;if(u)throw new Error(a);return r=c(n),(c(e)>r||h(e)%h(n)!=0)&&(d=!1),this.optional(i)||d},equalTo:function(e,i,n){var r=t(n);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,n,r){if(this.optional(i))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,a,s,l=this.previousValue(i,r);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][r],this.settings.messages[i.name][r]=l.message,n="string"==typeof n&&{url:n}||n,s=t.param(t.extend({data:e},n.data)),l.old===s?l.valid:(l.old=s,o=this,this.startRequest(i),a={},a[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:a,context:o.currentForm,success:function(t){var n,a,s,u=!0===t||"true"===t;o.settings.messages[i.name][r]=l.originalMessage,u?(s=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=s,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(n={},a=t||o.defaultMessage(i,{method:r,parameters:e}),n[i.name]=l.message=a,o.invalid[i.name]=!0,o.showErrors(n)),l.valid=u,o.stopRequest(i,u)}},n)),"pending")}}});var e,i={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var r=t.port;"abort"===t.mode&&(i[r]&&i[r].abort(),i[r]=n)}):(e=t.ajax,t.ajax=function(n){var r=("mode"in n?n:t.ajaxSettings).mode,o=("port"in n?n:t.ajaxSettings).port;return"abort"===r?(i[o]&&i[o].abort(),i[o]=e.apply(this,arguments),i[o]):e.apply(this,arguments)}),t})},function(t,e,i){"use strict";var n,r,o;"function"==typeof Symbol&&Symbol.iterator;/*!
 * jQuery Validation Plugin v1.16.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2016 JÃ¶rn Zaefferer
 * Released under the MIT license
 */
!function(a){r=[i(0)],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(function(t){return function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g,"")}t.validator.addMethod("maxWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length<=n},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length>=n},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,i,n){var r=e(t),o=/\b\w+\b/g;return this.optional(i)||r.match(o).length>=n[0]&&r.match(o).length<=n[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("accept",function(e,i,n){var r,o,a,s="string"==typeof n?n.replace(/\s/g,""):"image/*",l=this.optional(i);if(l)return l;if("file"===t(i).attr("type")&&(s=s.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(a=new RegExp(".?("+s+")$","i"),r=0;r<i.files.length;r++)if(o=i.files[r],!o.type.match(a))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var i,n,r,o=t.replace(/ /g,""),a=0,s=o.length;for(i=0;i<s;i++)n=s-i,r=o.substring(i,i+1),a+=n*r;return a%11==0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,i){return this.optional(i)||t.validator.methods.bankaccountNL.call(this,e,i)||t.validator.methods.giroaccountNL.call(this,e,i)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t){var e,i,n,r,o=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),a=t.substring(0,1),s=t.substring(1,8),l=t.substring(8,9),u=0,c=0,h=0;if(9!==t.length||!o.test(t))return!1;for(e=0;e<s.length;e++)i=parseInt(s[e],10),!function(t){return t%2==0}(e)?c+=i:(i*=2,h+=i<10?i:i-9);return u=c+h,n=(10-u.toString().substr(-1)).toString(),n=parseInt(n,10)>9?"0":n,r="JABCDEFGHI".substr(n,1).toString(),a.match(/[ABEH]/)?l===n:a.match(/[KPQS]/)?l===r:l===n||l===r},"Please specify a valid CIF number."),t.validator.addMethod("cpfBR",function(t){if(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,""),11!==t.length)return!1;var e,i,n,r,o=0;if(e=parseInt(t.substring(9,10),10),i=parseInt(t.substring(10,11),10),n=function(t,e){var i=10*t%11;return 10!==i&&11!==i||(i=0),i===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(r=1;r<=9;r++)o+=parseInt(t.substring(r-1,r),10)*(11-r);if(n(o,e)){for(o=0,r=1;r<=10;r++)o+=parseInt(t.substring(r-1,r),10)*(12-r);return n(o,i)}return!1},"Please specify a valid CPF number"),t.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,r=0,o=0,a=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),o=parseInt(n,10),a&&(o*=2)>9&&(o-=9),r+=o,a=!a;return r%10==0},"Please enter a valid credit card number."),t.validator.addMethod("creditcardtypes",function(t,e,i){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&/^(5[12345])/.test(t)?16===t.length:2&n&&/^(4)/.test(t)?16===t.length:4&n&&/^(3[47])/.test(t)?15===t.length:8&n&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&n&&/^(2(014|149))/.test(t)?15===t.length:32&n&&/^(6011)/.test(t)?16===t.length:64&n&&/^(3)/.test(t)?16===t.length:64&n&&/^(2131|1800)/.test(t)?15===t.length:!!(128&n)},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,i){var n,r="string"==typeof i,o=r?i:i[0],a=!!r||i[1];return o=o.replace(/,/g,""),o=a?o+"]":o+"]?",n="^["+o+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(e)||n.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},t.validator.messages.date),t.validator.addMethod("dateITA",function(t,e){var i,n,r,o,a,s=!1,l=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return l.test(t)?(i=t.split("/"),n=parseInt(i[0],10),r=parseInt(i[1],10),o=parseInt(i[2],10),a=new Date(Date.UTC(o,r-1,n,12,0,0,0)),s=a.getUTCFullYear()===o&&a.getUTCMonth()===r-1&&a.getUTCDate()===n):s=!1,this.optional(e)||s},t.validator.messages.date),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},t.validator.messages.date),t.validator.addMethod("extension",function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+i+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var i,n,r,o,a,s,l,u,c,h=t.replace(/ /g,"").toUpperCase(),d="",f=!0,p="",g="";if(h.length<5)return!1;if(i=h.substring(0,2),s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},void 0!==(a=s[i])&&(l=new RegExp("^[A-Z]{2}\\d{2}"+a+"$",""),!l.test(h)))return!1;for(n=h.substring(4,h.length)+h.substring(0,4),u=0;u<n.length;u++)r=n.charAt(u),"0"!==r&&(f=!1),f||(d+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(r));for(c=0;c<d.length;c++)o=d.charAt(c),g=""+p+o,p=g%97;return 1===p},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("nieES",function(t){var e,i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),n="TRWAGMYFPDXBNJZSQVHLCKET",r=t.substr(t.length-1).toUpperCase();return t=t.toString().toUpperCase(),!(t.length>10||t.length<9||!i.test(t))&&(t=t.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2"),e=9===t.length?t.substr(0,8):t.substr(0,9),n.charAt(parseInt(e,10)%23)===r)},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t){return t=t.toUpperCase(),!!t.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),t.validator.addMethod("notEqualTo",function(e,i,n){return this.optional(i)||!t.validator.methods.equalTo.call(this,e,i,n)},"Please enter a different value, values must not be the same."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,i){return!!this.optional(e)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),t.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP vÃ¡lido."),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,i,n){var r=t(n[1],i.form),o=r.eq(0),a=o.data("valid_req_grp")?o.data("valid_req_grp"):t.extend({},this),s=r.filter(function(){return a.elementValue(this)}).length>=n[0];return o.data("valid_req_grp",a),t(i).data("being_validated")||(r.data("being_validated",!0),r.each(function(){a.element(this)}),r.data("being_validated",!1)),s},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,i,n){var r=t(n[1],i.form),o=r.eq(0),a=o.data("valid_skip")?o.data("valid_skip"):t.extend({},this),s=r.filter(function(){return a.elementValue(this)}).length,l=0===s||s>=n[0];return o.data("valid_skip",a),t(i).data("being_validated")||(r.data("being_validated",!0),r.each(function(){a.element(this)}),r.data("being_validated",!1)),l},t.validator.format("Please either skip these fields or fill at least {0} of them.")),t.validator.addMethod("stateUS",function(t,e,i){var n,r=void 0===i,o=!r&&void 0!==i.caseSensitive&&i.caseSensitive,a=!r&&void 0!==i.includeTerritories&&i.includeTerritories,s=!r&&void 0!==i.includeMilitary&&i.includeMilitary;return n=a||s?a&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":a?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=o?new RegExp(n):new RegExp(n,"i"),this.optional(e)||n.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,i,n){return t(e).text().length>=n},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,i,n,r,o,a,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],u=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(e=0;e<17;e++){if(r=u[e],n=t.slice(e,e+1),8===e&&(a=n),isNaN(n)){for(i=0;i<s.length;i++)if(n.toUpperCase()===s[i]){n=l[i],n*=r,isNaN(a)&&8===i&&(a=s[i]);break}}else n*=r;c+=n}return o=c%11,10===o&&(o="X"),o===a},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),t})},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i,r){n(this,t),this.name=e,this.code=i,this.meters=r}return r(t,[{key:"getName",value:function(){return this.name}},{key:"getCode",value:function(){return this.code}},{key:"isMiles",value:function(){return"mi"===this.code}},{key:"isKilometers",value:function(){return"km"===this.code}},{key:"isMeters",value:function(){return"m"===this.code}},{key:"isMetric",value:function(){return this.isKilometers()||this.isMeters()}}]),t}();e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(2),u=n(l),c=i(0),h=n(c),d=i(13),f=n(d),p=function(){function t(){r(this,t),this.userRouteList=[],this.dialog=(0,h.default)("#load-route-dialog"),this.errorMessage=(0,h.default)("#load-route-error"),this.addListeners()}return o(t,[{key:"addListeners",value:function(){this.dialog.on("shown.bs.modal",h.default.proxy(this.onDialogOpen,this)),this.dialog.on("hidden.bs.modal",h.default.proxy(this.onDialogClose,this))}},{key:"onDialogOpen",value:function(){this.dialog.find((0,h.default)(".btn-primary")).on("click",h.default.proxy(this.handleLoadButton,this)),h.default.getJSON(u.default.USER_ROUTE).done(h.default.proxy(this.handleLoadRoutesResponse,this)).fail(h.default.proxy(this.handleLoadRoutesFailure,this))}},{key:"onDialogClose",value:function(){this.dialog.find("span").empty(),(0,h.default)("#load-route-error").hide().find("p").html("")}},{key:"handleLoadRoutesFailure",value:function(){this.errorMessage.show().find("p").html("Error occurred while loading user routes.")}},{key:"handleLoadRoutesResponse",value:function(t){var e=this;this.userRouteList=t,0===t.length?this.showNoRouteMessage():t.forEach(function(t){e.dialog.find("span").append("<div class='route-option' id='user_route_option_"+t.id+"'></div>");var i=e.dialog.find(".route-option:last");i.append("<input id='user_route_"+t.id+"' type='radio' name='route-name-select' value = '"+t.id+"'/>"),i.append("<label for='user_route_"+t.id+"'>&nbsp; "+t.name+" -- "+t.waypoints.length+" waypoints &nbsp;</label>"),i.append("<span class='glyphicon glyphicon-trash remove-route-trigger' data-toggle='tooltip' data-placement='right' title='delete'></span><br/>");var n=(0,h.default)(".remove-route-trigger:last");n.tooltip(),n.on("click",h.default.proxy(e.handleDeleteRoute,e,t))})}},{key:"handleDeleteRoute",value:function(t){var e=this;h.default.ajax({type:"GET",url:u.default.USER_ROUTE+"/delete/"+t.id,success:function(){(0,h.default)("div#user_route_option_"+t.id).remove(),0===e.dialog.find(".route-option").length&&e.showNoRouteMessage()},error:function(){e.errorMessage.show().find("p").html("Error occurred while deleting the route "+t.name)}})}},{key:"showNoRouteMessage",value:function(){this.dialog.find("span").html("No routes saved.")}},{key:"handleLoadButton",value:function(t){var e=this,i=parseInt(this.dialog.find("input[name='route-name-select']:checked").val());this.userRouteList.forEach(function(t){i===t.id&&(s.default.dispatch(f.default.route_selected_for_load,t),e.dialog.modal("hide"))})}}]),t}();e.default=p},function(t,e,i){var n,r;/*!
 * jQuery Browser Plugin 0.1.0
 * https://github.com/gabceb/jquery-browser-plugin
 *
 * Original jquery-browser code Copyright 2005, 2015 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2015 Gabriel Cebrian
 * https://github.com/gabceb
 *
 * Released under the MIT license
 *
 * Date: 05-07-2015
 */
!function(o){n=[i(0)],void 0!==(r=function(t){return o(t)}.apply(e,n))&&(t.exports=r)}(function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],n={},r={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",versionNumber:e[4]||e[2]||"0",platform:i[0]||""};if(r.browser&&(n[r.browser]=!0,n.version=r.version,n.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(n[r.platform]=!0),(n.android||n.bb||n.blackberry||n.ipad||n.iphone||n.ipod||n.kindle||n.playbook||n.silk||n["windows phone"])&&(n.mobile=!0),(n.cros||n.mac||n.linux||n.win)&&(n.desktop=!0),(n.chrome||n.opr||n.safari)&&(n.webkit=!0),n.rv||n.iemobile){r.browser="msie",n.msie=!0}if(n.edge){delete n.edge;r.browser="msedge",n.msedge=!0}if(n.safari&&n.blackberry){r.browser="blackberry",n.blackberry=!0}if(n.safari&&n.playbook){r.browser="playbook",n.playbook=!0}if(n.bb){var o="blackberry";r.browser=o,n[o]=!0}if(n.opr){r.browser="opera",n.opera=!0}if(n.safari&&n.android){r.browser="android",n.android=!0}if(n.safari&&n.kindle){r.browser="kindle",n.kindle=!0}if(n.safari&&n.silk){r.browser="silk",n.silk=!0}return n.name=r.browser,n.platform=r.platform,n}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(18),u=n(l),c=i(8),h=n(c),d=i(0),f=n(d),p=function(){function t(){r(this,t),this.table=(0,f.default)("#total-count-table"),this.countMapCountry=u.default.getCountMapByCountry(),this.countMapRegion=u.default.getCountMapByRegion(),this.updateView(0,this.countMapCountry[h.default.COUNTRY_WORLD]),s.default.addListener("map-viewport-change-event",this.mapViewPortChanged,this),t.USA=new google.maps.LatLngBounds(new google.maps.LatLng(24.44715,-125.15625),new google.maps.LatLng(49,-65.961914)),t.CANADA=new google.maps.LatLngBounds(new google.maps.LatLng(49,-140.976562),new google.maps.LatLng(70.318738,-57.744141)),t.EUROPE=new google.maps.LatLngBounds(new google.maps.LatLng(35.38905,-14.501953),new google.maps.LatLng(70.902268,37.265625)),t.ASIA=new google.maps.LatLngBounds(new google.maps.LatLng(-43.580391,50.097656),new google.maps.LatLng(70.728979,175.429688)),t.AUSTRALIA=new google.maps.LatLngBounds(new google.maps.LatLng(-40.111689,109.951172),new google.maps.LatLng(-11.092166,156.796875)),t.CHINA=new google.maps.LatLngBounds(new google.maps.LatLng(21.616579,100.371094),new google.maps.LatLng(42.130821,124.233398)),t.JAPAN=new google.maps.LatLngBounds(new google.maps.LatLng(30.600094,129.089355),new google.maps.LatLng(42.130821,147.436523))}return o(t,[{key:"mapViewPortChanged",value:function(e,i){var n=i.getCenter();t.USA.contains(n)?this.updateView(1,this.countMapCountry[h.default.COUNTRY_USA]):t.CANADA.contains(n)?this.updateView(1,this.countMapCountry[h.default.COUNTRY_CANADA]):t.EUROPE.contains(n)?this.updateView(1,this.countMapRegion[h.default.REGION_EUROPE]):t.CHINA.contains(n)?this.updateView(1,this.countMapCountry[h.default.COUNTRY_CHINA]):t.JAPAN.contains(n)?this.updateView(1,this.countMapCountry[h.default.COUNTRY_JAPAN]):t.AUSTRALIA.contains(n)?this.updateView(1,this.countMapCountry[h.default.COUNTRY_AUSTRAILIA]):t.ASIA.contains(n)&&this.updateView(1,this.countMapRegion[h.default.REGION_ASIA_PACIFIC])}},{key:"updateView",value:function(t,e){var i=this.table.find("tr").eq(t),n=i.find("td[rowspan!=2]");n.eq(0).text(e.open),n.eq(1).text(e.construction),n.eq(2).text(e.permit),n.eq(3).text(e.key)}}]),t}();e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.isInteger=function(t,e){if("number"!=typeof t||Math.floor(t)!==t)throw new Error(e)},n.isFalse=function(t,e){if(t)throw new Error(e)},n.isTrue=function(t,e){if(!t)throw new Error(e)},e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(8),s=n(a),l=i(4),u=n(l),c=i(27),h=n(c),d=i(6),f=n(d),p=i(49),g=n(p),m=i(19),v=n(m),y=function(){function t(){r(this,t),this.circleOn=!1}return o(t,[{key:"isPermit",value:function(){return this.status===v.default.PERMIT}},{key:"isConstruction",value:function(){return this.status===v.default.CONSTRUCTION}},{key:"isOpen",value:function(){return this.status===v.default.OPEN}},{key:"isClosed",value:function(){return this.status===v.default.CLOSED}},{key:"isUserAdded",value:function(){return this.status===v.default.USER_ADDED}},{key:"hasOpenDate",value:function(){return u.default.isNotNullOrUndef(this.dateOpened)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"formatStalls",value:function(){return u.default.isNullOrUndef(this.numStalls)?"":this.numStalls}},{key:"formatLocation",value:function(){return u.default.isNullOrUndef(this.location)?"":this.location.toUrlValue().replace(",",", ")}},{key:"formatDateOpened",value:function(){return u.default.isNullOrUndef(this.dateOpened)?"":h.default.toString(this.dateOpened)}},{key:"formatElevation",value:function(t){return u.default.isNullOrUndef(this.elevation)?"":this.formatElevationNoUnits(t)+" "+t.code}},{key:"formatElevationNoUnits",value:function(t){return u.default.isNullOrUndef(this.elevation)?"":new g.default(f.default.M,t).convert(this.elevation).toLocaleString()}},{key:"formatHours",value:function(){return u.default.isNullOrUndef(this.hours)?"24/7":this.hours}}]),t}();e.default=y,y.fromJSON=function(t){var e=new y;return e.id=t.id,e.locationId=t.locationId,e.displayName=t.name,e.status=v.default.fromString(t.status),e.statusDays=t.statusDays,e.address=s.default.fromJSON(t.address),e.location=new google.maps.LatLng(t.gps.latitude,t.gps.longitude),e.elevation=t.elevationMeters,e.urlDiscuss=t.urlDiscuss,e.count=t.counted,e.dateOpened=u.default.isNullOrUndef(t.dateOpened)?null:h.default.fromString(t.dateOpened),e.hours=t.hours,e.numStalls=t.stallCount,e},y.buildNewCustom=function(t,e,i){var n=new y;return n.id=t,n.displayName=e,n.address=new s.default("","","","",""),n.location=i,n.count=!1,n.status=v.default.USER_ADDED,n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.sourceUnit=t,this.targetUnit=e};n.prototype.convert=function(t){var e=t*this.sourceUnit.meters;return Math.round(e/this.targetUnit.meters)},e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=t.find(".glyphicon");i.toggleClass("glyphicon-unchecked",!e),i.toggleClass("glyphicon-check",e)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(19),l=n(s),u=i(20),c=n(u),h=i(0),d=n(h),f=function(){this.statusPermitCheckbox=(0,d.default)("#status-permit-check"),this.statusOpenCheckbox=(0,d.default)("#status-open-check"),this.statusConstructionCheckbox=(0,d.default)("#status-construction-check"),this.statusOpenCheckbox.click(d.default.proxy(this.openClicked,this)),this.statusConstructionCheckbox.click(d.default.proxy(this.constructionClicked,this)),this.statusPermitCheckbox.click(d.default.proxy(this.permitClicked,this)),this.handleVisibilityModelChange(),a.default.addListener("status-model-changed-event",this.handleStatusModelChange,this),a.default.addListener("control-visible-model-changed-event",this.handleVisibilityModelChange,this)};f.prototype.openClicked=function(t){a.default.dispatch("status-selection-change-event",l.default.OPEN)},f.prototype.constructionClicked=function(t){a.default.dispatch("status-selection-change-event",l.default.CONSTRUCTION)},f.prototype.permitClicked=function(t){a.default.dispatch("status-selection-change-event",l.default.PERMIT)},f.prototype.handleStatusModelChange=function(t,e){r(this.statusOpenCheckbox,e.showOpen),r(this.statusConstructionCheckbox,e.showConstruction),r(this.statusPermitCheckbox,e.showPermit)},f.prototype.handleVisibilityModelChange=function(){(0,d.default)("#control-row-status").toggle(c.default.statusControlVisible)},e.default=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=n(r),a=i(3),s=n(a),l=i(6),u=n(l),c=i(28),h=n(c),d=i(20),f=n(d),p=i(0),g=n(p),m=i(10),v=n(m),y=function(){this.miUnitLabel=(0,g.default)("#range-unit-mi-label"),this.kmUnitLabel=(0,g.default)("#range-unit-km-label"),this.initRangeSlider(),this.initRangeUnit(),this.updateRangeUnit(),this.handleVisibilityModelChange(),o.default.addListener("range-model-range-changed-event",this.handleRangeChange,this),o.default.addListener("range-model-unit-changed-event",this.handleRangeUnitChange,this),o.default.addListener("control-visible-model-changed-event",this.handleVisibilityModelChange,this)};y.prototype.initRangeSlider=function(){this.rangeSlider=new h.default("#range-slider","#range-number-text",v.default.getMin(),v.default.getMax(),5,v.default.getCurrent()),this.rangeSlider.on("range-change-event",function(t,e){v.default.setCurrent(e)})},y.prototype.initRangeUnit=function(){var t=this;this.miUnitLabel.click(function(){v.default.setDisplayUnit(u.default.MI),t.updateRangeSlider(),s.default.sendEvent("map","change-range-unit","mi")}),this.kmUnitLabel.click(function(){v.default.setDisplayUnit(u.default.KM),t.updateRangeSlider(),s.default.sendEvent("map","change-range-unit","km")})},y.prototype.updateRangeUnit=function(){v.default.getDisplayUnit().isMiles()?(this.miUnitLabel.addClass("active"),this.kmUnitLabel.removeClass("active")):(this.miUnitLabel.removeClass("active"),this.kmUnitLabel.addClass("active"))},y.prototype.updateRangeSlider=function(){this.rangeSlider.setMin(v.default.getMin()),this.rangeSlider.setMax(v.default.getMax()),this.rangeSlider.setValue(v.default.getCurrent())},y.prototype.handleRangeChange=function(){this.rangeSlider.setValue(v.default.getCurrent())},y.prototype.handleRangeUnitChange=function(){this.updateRangeSlider(),this.updateRangeUnit()},y.prototype.handleVisibilityModelChange=function(){(0,g.default)("#control-row-range").toggle(f.default.rangeControlVisible)},e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(53),u=n(l),c=i(4),h=n(c),d=i(2),f=n(d),p=i(7),g=n(p),m=i(15),v=n(m),y=i(9),b=n(y),x=i(0),w=n(x),k=i(23),C=n(k),S=["January","February","March","April","May","June","July","August","September","October","November","December"],T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M=function(){function t(e){r(this,t),this.googleMap=e,this.lastInfoWindow=null,this.index=-1,this.wayBackContainer=(0,w.default)("#way-back-container"),this.delay=7,(0,w.default)("#way-back-close-trigger").click(w.default.proxy(this.stop,this)),(0,w.default)("#way-back-fast").click(w.default.proxy(this.faster,this)),(0,w.default)("#way-back-slow").click(w.default.proxy(this.slower,this)),(0,w.default)("#way-back-mute").click(w.default.proxy(this.toggleSound,this)),s.default.addListener("way-back-start-event",this.start,this)}return o(t,[{key:"faster",value:function(t){this.delay>1&&(this.delay-=1),(0,w.default)("#way-back-delay").text("delay:"+this.delay)}},{key:"slower",value:function(t){this.delay<10&&(this.delay+=1),(0,w.default)("#way-back-delay").text("delay:"+this.delay)}},{key:"stop",value:function(t){h.default.isNotNullOrUndef(t)&&t.preventDefault(),this.index=99999,this.wayBackContainer.hide(),h.default.isNotNullOrUndef(this.lastInfoWindow)&&(this.lastInfoWindow.close(),this.lastInfoWindow=null),h.default.isNotNullOrUndef(this.sound)&&(this.sound.pause(),this.sound=null)}},{key:"start",value:function(){this.googleMap.setZoom(3),C.default.setAllOff(),C.default.fireModelChangeEvent(),s.default.dispatch("hide-all-control-event"),this.wayBackContainer.show(),this.wayBackContainer.css("opacity","1.0"),this.index=-1,this.dateDiv=(0,w.default)("#way-back-date"),this.updateSoundButtonText(),this.superchargers=(new g.default).withSort(v.default.BY_OPENED_DATE).withPredicate(b.default.IS_OPEN_AND_COUNTED).toArray(),w.default.each(this.superchargers,function(t,e){e.marker.setVisible(!1)}),this.doNext()}},{key:"showNextDate",value:function(){var t=this.superchargers[this.index],e=t.dateOpened;this.dateDiv.html(e.getFullYear()+"&nbsp;"+S[e.getMonth()])}},{key:"showNextMarker",value:function(){this.superchargers[this.index].marker.setVisible(!0)}},{key:"showNextInfoWindow",value:function(){var t=this.superchargers[this.index];null!==this.lastInfoWindow&&(this.lastInfoWindow.unbindAll(),this.lastInfoWindow.close());var e=t.dateOpened,i=T[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear(),n=new google.maps.InfoWindow({content:"<div class='way-back-info'><div class='title'>"+t.displayName+"</div><div class='date'>"+i+"</div><div>"});n.open(this.googleMap,t.marker),this.lastInfoWindow=n,google.maps.event.addListener(n,"domready",function(){(0,w.default)(".gm-style-iw").next("div").remove()})}},{key:"doNext",value:function(){if(++this.index<this.superchargers.length){this.showNextDate(),this.showNextInfoWindow(),this.showNextMarker();var t=250*this.delay;0===this.index&&(t=3e3),setTimeout(w.default.proxy(this.doNext,this),t)}else this.fadeOut()}},{key:"toggleSound",value:function(){if(h.default.isNullOrUndef(this.sound)){var t=f.default.STATIC_CONTENT+"/wayback/"+u.default.getRandomInt(1,6)+".mp3";this.sound=new Audio(t),this.sound.loop=!0,this.sound.play()}else this.sound.muted=!this.sound.muted;this.updateSoundButtonText()}},{key:"updateSoundButtonText",value:function(){h.default.isNullOrUndef(this.sound)||this.sound.muted?(0,w.default)("#mute-button-label").text(" Sound On"):(0,w.default)("#mute-button-label").text(" Sound Off")}},{key:"fadeOut",value:function(){if(!h.default.isNullOrUndef(this.sound)){var t=this,e=this.sound;this.wayBackContainer.animate({opacity:0},{duration:9e3,step:function(t,i){e.volume=t},complete:function(){t.stop()}})}}}]),t}();e.default=M},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=n(r),a=i(10),s=n(a),l=function(t){this.mapView=t,o.default.addListener("circles-all-on-event",this.circlesAllOn,this),o.default.addListener("circles-all-off-event",this.circlesAllOff,this)};l.prototype.circlesAllOn=function(){0===s.default.getCurrent()&&s.default.setCurrent(50),this.mapView.setAllRangeCircleVisibility(!0)},l.prototype.circlesAllOff=function(){this.mapView.setAllRangeCircleVisibility(!1)},e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=n(r),a=i(20),s=n(a),l=function(){o.default.addListener("toggle-range-control-event",this.rangeToggle,this),o.default.addListener("toggle-status-control-event",this.statusToggle,this),o.default.addListener("toggle-render-control-event",this.renderToggle,this),o.default.addListener("hide-all-control-event",this.hideAll,this)};l.prototype.rangeToggle=function(){s.default.toggleRangeControlVisible(),s.default.fireChangeEvent()},l.prototype.statusToggle=function(){s.default.toggleStatusControlVisible(),s.default.fireChangeEvent()},l.prototype.renderToggle=function(){s.default.toggleRenderControlVisible(),s.default.fireChangeEvent()},l.prototype.hideAll=function(){s.default.setRangeControlVisible(!1),s.default.setStatusControlVisible(!1),s.default.setRenderControlVisible(!1),s.default.fireChangeEvent()},e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=n(r),a=i(3),s=n(a),l=i(19),u=n(l),c=i(23),h=n(c),d=function(){o.default.addListener("status-selection-change-event",this.statusSelectionChange,this)};d.prototype.statusSelectionChange=function(t,e){e===u.default.PERMIT&&h.default.togglePermit(),e===u.default.CONSTRUCTION&&h.default.toggleConstruction(),e===u.default.OPEN&&h.default.toggleOpen(),h.default.fireModelChangeEvent(),s.default.sendEvent("map","change-status-selection")},e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(21),u=n(l),c=function(){function t(e){r(this,t),this.googleMap=e,s.default.addListener(u.default.pan_zoom,this.zoomToLocation,this)}return o(t,[{key:"zoomToLocation",value:function(t,e){this.googleMap.panTo(e.latLng),this.googleMap.setZoom(e.zoom)}}]),t}();e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(24),u=n(l),c=i(29),h=n(c),d=i(0),f=n(d),p=i(13),g=n(p),m=i(5),v=n(m),y=function(){function t(e){r(this,t),this.googleMap=e,this.directionsService=new google.maps.DirectionsService,this.directionsPanel=(0,f.default)("#route-directions-panel"),this.directionsRenderer=new google.maps.DirectionsRenderer({map:e,panel:this.directionsPanel.get(0),preserveViewport:!0,draggable:!0}),s.default.addListener(g.default.model_changed,this.handleModelChange,this),s.default.addListener(g.default.add_waypoint,this.handleAddWaypointEvent,this),s.default.addListener(g.default.route_selected_for_load,this.handleRouteSelectedForLoad,this)}return o(t,[{key:"handleAddWaypointEvent",value:function(t,e){u.default.isFull()||u.default.addWaypoint(e)}},{key:"handleRouteSelectedForLoad",value:function(t,e){var i=[];e.waypoints.forEach(function(t){i.push(new h.default(new google.maps.LatLng(t.lat,t.lng),t.name))}),u.default.updateRoute(e.id,e.name,i)}},{key:"handleModelChange",value:function(){if(u.default.isEmpty())this.directionsRenderer.setMap(null);else{this.directionsRenderer.setMap(this.googleMap);var t=v.default.getUnit().isMetric()?google.maps.UnitSystem.METRIC:google.maps.UnitSystem.IMPERIAL,e={origin:u.default.getFirstLatLng().latLng,destination:u.default.getLastLatLng().latLng,waypoints:u.default.getBetweenLatLngList(),travelMode:google.maps.TravelMode.DRIVING,unitSystem:t};this.directionsService.route(e,f.default.proxy(this.handleRouteResponse,this))}}},{key:"handleRouteResponse",value:function(t,e){if(e===google.maps.DirectionsStatus.OK){this.hideDirectionPanel(),this.directionsRenderer.setDirections(t);var i=this;setTimeout(function(){i.addDetailedStepsLink(),(0,f.default)(".adp-directions").hide(),i.showDirectionPanel()},300)}}},{key:"addDetailedStepsLink",value:function(){this.directionsPanel.find(".adp-summary").toArray().forEach(function(t){var e=(0,f.default)(t).find("span:last");if(0===e.find("a").length){var i=(0,f.default)("<a class='pull-right' href='#'>Detailed Steps</a>");e.append(i)}e.show()}),(0,f.default)(".adp-summary a").on("click",function(t){(0,f.default)(t.target).parents(".adp-summary").next().find(".adp-directions").toggle()})}},{key:"showDirectionPanel",value:function(){this.directionsPanel.show()}},{key:"hideDirectionPanel",value:function(){this.directionsPanel.hide()}}]),t}();e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){var t=(0,c.default)("#link-dialog"),e=(0,c.default)("#create-link-input");(0,c.default)("#go-to-button").on("click",function(){window.location.href=e.val()}),t.on("shown.bs.modal",function(t){e.focus().select()}),t.on("hidden.bs.modal",function(t){e.val("")}),t.modal()}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(10),l=n(s),u=i(0),c=n(u),h=function(t){this.googleMap=t,a.default.addListener("create-link-event",this.createLink,this)};h.prototype.getCenter=function(){var t=this.googleMap.getCenter();return new google.maps.LatLng(t.lat(),this.googleMap.getCenter().lng(),!1)},h.prototype.createLink=function(t){var e=this.googleMap.getZoom(),i=this.getCenter(),n=window.location.href.split("?")[0];n+="?Center="+i.toUrlValue()+"&Zoom="+e,0!==l.default.getRangeMeters()&&(l.default.displayUnit.isKilometers()?n+="&RangeKm="+l.default.getCurrent():l.default.displayUnit.isMiles()&&(n+="&RangeMi="+l.default.getCurrent())),(0,c.default)("#create-link-input").val(n),(0,c.default)("#go-to-button").attr("disabled",!1),r()},e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=n(r),a=i(1),s=n(a),l=i(3),u=n(l),c=i(14),h=n(c),d=i(5),f=n(d),p=!1,g=function(t){this.mapView=t,s.default.addListener("context-menu-add-marker-event",o.default.proxy(this.showDialog,this))};g.prototype.init=function(){this.initDom(),this.initListeners(),p=!0},g.prototype.initDom=function(){this.markerDialog=(0,o.default)("#new-marker-dialog"),this.markerNameInput=(0,o.default)("#new-marker-name-input"),this.markerAddButton=this.markerDialog.find(".btn-primary")},g.prototype.initListeners=function(){var t=this.markerAddButton,e=this.markerNameInput;this.markerNameInput.on("keypress",function(e){13===e.keyCode&&t.click()}),this.markerDialog.on("shown.bs.modal",function(t){e.focus()}),this.markerDialog.on("hidden.bs.modal",function(i){e.val(""),t.unbind()})},g.prototype.handleAddClicked=function(){this.markerDialog.modal("hide");var t=this.markerNameInput.val(),e=h.default.addCustomSite(t,this.currentLatLng);this.mapView.markerFactory.createMarker(e),new google.maps.event.trigger(e.marker,"click"),u.default.sendEvent("route","add-custom-marker"),f.default.addCustomMarker({name:t,lat:this.currentLatLng.lat(),lng:this.currentLatLng.lng()})},g.prototype.showDialog=function(t,e){p||this.init(),this.markerAddButton.on("click",o.default.proxy(this.handleAddClicked,this)),this.currentLatLng=e,this.markerDialog.modal("show")},e.default=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(3),u=n(l),c=i(4),h=n(c),d=i(5),f=n(d),p=i(7),g=n(p),m=i(9),v=n(m),y=i(14),b=n(y),x=i(62),w=n(x),k=i(63),C=n(k),S=i(29),T=n(S),M=i(0),A=n(M),E=i(16),O=n(E),P=i(13),L=n(P),D=function(){function t(e,i,n){r(this,t),this.viewDiv=(0,A.default)("#map-canvas"),this.searchMarker=null,this.initMap(e,i,n),this.addCustomMarkers(),(0,A.default)(document).on("click",".circle-toggle-trigger",A.default.proxy(this.handleCircleToggle,this)),(0,A.default)(document).on("click",".marker-toggle-trigger",A.default.proxy(this.handleMarkerRemove,this)),(0,A.default)(document).on("click",".marker-toggle-all-trigger",A.default.proxy(this.handleMarkerRemoveAll,this)),(0,A.default)(document).on("click",".add-to-route-trigger",A.default.proxy(this.handleAddToRoute,this)),(0,A.default)(document).on("click",".zoom-to-site-trigger",A.default.proxy(this.zoomToMarker,this)),new w.default(this.googleMap),s.default.addListener("context-menu-add-to-route-event",A.default.proxy(this.handleAddToRouteContextMenu,this)),s.default.addListener("status-model-changed-event",this.handleStatusModelChange,this),s.default.addListener("range-model-range-changed-event",this.redrawCircles,this),s.default.addListener("render-model-changed-event",this.redrawCircles,this),s.default.addListener("way-back-trigger-event",this.setupForWayBack,this),s.default.addListener("places-changed-event",this.handlePlacesChange,this),google.maps.event.addListener(this.googleMap,"idle",A.default.proxy(this.handleViewportChange,this))}return o(t,[{key:"getCenter",value:function(){var t=this.googleMap.getCenter();return new google.maps.LatLng(t.lat(),this.googleMap.getCenter().lng(),!1)}},{key:"initMap",value:function(t,e,i){var n={center:new google.maps.LatLng(t,e),zoom:i,scaleControl:!0,mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.TERRAIN],style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR},mapTypeId:google.maps.MapTypeId.ROADMAP};this.googleMap=new google.maps.Map(this.viewDiv.get(0),n),this.markerFactory=new C.default(this.googleMap)}},{key:"addCustomMarkers",value:function(){for(var t=f.default.customMarkers,e=0;e<t.length;e++){var i=t[e];b.default.addCustomSite(i.name,new google.maps.LatLng(i.lat,i.lng))}}},{key:"handleViewportChange",value:function(t){var e=this.googleMap.getBounds(),i=e.getNorthEast(),n=e.getSouthWest(),r=new google.maps.LatLng(i.lat()+4,i.lng()+8),o=new google.maps.LatLng(n.lat()-4,n.lng()-8),a=new google.maps.LatLngBounds(o,r),l=this.markerFactory;(new g.default).withPredicate(v.default.HAS_NO_MARKER).withPredicate(v.default.buildInViewPredicate(a)).iterate(function(t){l.createMarker(t)}),s.default.dispatch("map-viewport-change-event",e);var u=this.getCenter();f.default.setLatLngZoom(u.lat(),u.lng(),this.googleMap.getZoom())}},{key:"handleStatusModelChange",value:function(t){(new g.default).withPredicate(v.default.HAS_MARKER).withPredicate(v.default.NOT_USER_ADDED).iterate(function(t){var e=C.default.shouldBeVisible(t);t.marker.setVisible(e),t.circle.setVisible(e&&t.circleOn),h.default.isNotNullOrUndef(t.marker.infoWindow)&&(t.marker.infoWindow.close(),t.marker.infoWindow=null)})}},{key:"setAllRangeCircleVisibility",value:function(t){(new g.default).iterate(function(e){e.circleOn=t,e.marker&&e.marker.visible&&e.circle.setVisible(t)})}},{key:"redrawCircles",value:function(){var t=this.markerFactory.buildRangeCircleOptions();(new g.default).withPredicate(v.default.HAS_MARKER).iterate(function(e){t.center=e.location,e.circle.setOptions(t)})}},{key:"setupForWayBack",value:function(){var t=this.markerFactory;(new g.default).withPredicate(v.default.HAS_NO_MARKER).iterate(function(e){t.createMarker(e)}),s.default.dispatch("way-back-start-event")}},{key:"handleCircleToggle",value:function(t){var e=O.default.eventDetail(t),i=parseInt(e.actionName),n=b.default.getById(i);n.circle.getVisible()?(e.link.text("circle on"),n.circle.setVisible(!1),n.circleOn=!1,u.default.sendEvent("map","turn-off-single-circle")):(e.link.text("circle off"),n.circle.setVisible(!0),n.circleOn=!0,u.default.sendEvent("map","turn-on-single-circle"))}},{key:"handleMarkerRemove",value:function(t){t.preventDefault();var e=parseInt((0,A.default)(t.target).attr("href")),i=b.default.getById(e);this.removeCustomMarker(i),u.default.sendEvent("route","remove-custom-marker")}},{key:"handleMarkerRemoveAll",value:function(t){t.preventDefault();var e=[];(new g.default).withPredicate(v.default.USER_ADDED).iterate(function(t){e.push(t)});for(var i=0;i<e.length;i++)this.removeCustomMarker(e[i]);u.default.sendEvent("route","remove-custom-marker")}},{key:"removeCustomMarker",value:function(t){t.marker&&(t.circle.setMap(null),t.marker.setMap(null)),b.default.removeById(t.id),f.default.removeCustomMarker(t.displayName,t.location.lat(),t.location.lng()),f.default.removeCustomMarker(t.displayName,t.location.lat(),t.location.lng())}},{key:"handleAddToRoute",value:function(t){var e=O.default.eventDetail(t),i=parseInt(e.actionName),n=b.default.getById(i);s.default.dispatch(L.default.add_waypoint,new T.default(n.location,n.displayName)),u.default.sendEvent("route","add-marker-to-route","pop up")}},{key:"zoomToMarker",value:function(t){var e=O.default.eventDetail(t),i=parseInt(e.actionName),n=b.default.getById(i);this.googleMap.setZoom(15),this.googleMap.panTo(n.location)}},{key:"handleAddToRouteContextMenu",value:function(t,e){s.default.dispatch(L.default.add_waypoint,new T.default(e,"Custom Location")),u.default.sendEvent("route","add-marker-to-route","context menu")}},{key:"handlePlacesChange",value:function(t,e){if(0!==e.length){this.searchMarker&&this.searchMarker.setMap(null);var i=new google.maps.LatLngBounds,n=this,r=this.googleMap;e.forEach(function(t){t.geometry&&(n.searchMarker=new google.maps.Marker({map:r,position:t.geometry.location}),t.geometry.viewport?i.union(t.geometry.viewport):i.extend(t.geometry.location))}),this.googleMap.fitBounds(i)}}}]),t}();e.default=D},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(1),u=n(l),c=function(){function t(e){r(this,t),this.mapCanvas=(0,s.default)("#map-canvas"),this.googleMap=e,this.contextMenuDiv=t.createMenu(this.googleMap.getDiv()),this.showStartTime=0;var i=this;this.contextMenuDiv.on("click",function(t){t.preventDefault(),t.stopPropagation();var e=(0,s.default)(t.target).attr("class");i.hide(),u.default.dispatch(e+"-event",i.currentLatLng)}),google.maps.event.addListener(this.googleMap,"rightclick",s.default.proxy(this.show,this)),google.maps.event.addListener(this.googleMap,"click",s.default.proxy(this.hideConditionally,this)),google.maps.event.addListener(this.googleMap,"mousedown",s.default.proxy(this.mousedown,this)),google.maps.event.addListener(this.googleMap,"mouseup",s.default.proxy(this.mouseup,this))}return o(t,[{key:"mousedown",value:function(t){var e=this;return(0,s.default)(this).doTimeout("detect-long-click",3e3,function(){e.show(t)}),!0}},{key:"mouseup",value:function(t){(0,s.default)(this).doTimeout("detect-long-click")}},{key:"hide",value:function(){this.contextMenuDiv.hide(),this.showStartTime=0}},{key:"hideConditionally",value:function(){(new Date).getTime()-this.showStartTime>900&&this.hide()}},{key:"show",value:function(t){this.currentLatLng=t.latLng;var e=this.mapCanvas.width(),i=this.mapCanvas.height(),n=this.contextMenuDiv.width(),r=this.contextMenuDiv.height(),o=this.getCanvasXY(this.currentLatLng),a=o.x,s=o.y;e-a<n&&(a-=n),i-s<r&&(s-=r),this.contextMenuDiv.css("left",a+5),this.contextMenuDiv.css("top",s+5),this.contextMenuDiv.show(),this.showStartTime=(new Date).getTime()}},{key:"getCanvasXY",value:function(t){var e=Math.pow(2,this.googleMap.getZoom()),i=new google.maps.LatLng(this.googleMap.getBounds().getNorthEast().lat(),this.googleMap.getBounds().getSouthWest().lng()),n=this.googleMap.getProjection().fromLatLngToPoint(i),r=this.googleMap.getProjection().fromLatLngToPoint(t);return new google.maps.Point(Math.floor((r.x-n.x)*e),Math.floor((r.y-n.y)*e))}}],[{key:"createMenu",value:function(t){var e=(0,s.default)("<ul class='dropdown-menu' id='navbar-dropdown-menu-item-list'><li><a href='' class='context-menu-add-marker'>Add custom marker...</a></li><li><a href='' class='context-menu-add-to-route'>Add to route...</a></li> </ul>");return e.hide(),(0,s.default)(t).append(e),e}}]),t}();e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(30),u=n(l),c=i(10),h=n(c),d=i(23),f=n(d),p=i(64),g=n(p),m=function(){function t(e){r(this,t),this.googleMap=e,this.openWindows=[]}return o(t,[{key:"createMarker",value:function(e){var i={position:e.location,map:this.googleMap,title:e.displayName,icon:{url:e.status.getIconUrl(e),anchor:e.isConstruction()?null:{x:8,y:8}}},n=new google.maps.Marker(i);google.maps.event.addListener(n,"click",s.default.proxy(this.handleMarkerClick,this,n,e));var r=this.buildRangeCircleOptions();r.center=e.location,e.circle=new google.maps.Circle(r),e.circle.setVisible(e.circleOn),e.marker=n,t.shouldBeVisible(e)||(e.circle.setVisible(!1),e.marker.setVisible(!1))}},{key:"buildRangeCircleOptions",value:function(){return{strokeColor:u.default.borderColor,strokeOpacity:u.default.borderOpacity,strokeWeight:1,fillColor:u.default.fillColor,fillOpacity:u.default.fillOpacity,map:this.googleMap,radius:h.default.getRangeMeters(),clickable:!1}}},{key:"handleMarkerClick",value:function(t,e){for(var i=this.openWindows.length-1;i>=0;i--)this.openWindows[i].isPinned||(this.openWindows[i].closeWindow(),this.openWindows.splice(i,1));var n=new g.default(this.googleMap,t,e);n.showWindow(),this.openWindows.push(n)}}],[{key:"shouldBeVisible",value:function(t){return t.isOpen()&&f.default.showOpen||t.isConstruction()&&f.default.showConstruction||t.isPermit()&&f.default.showPermit||t.isClosed()&&f.default.showClosed||t.isUserAdded()}}]),t}();e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var i="";if(i+="<div class='info-window-details'>",i+="<table>",x.default.isNullOrUndef(t.dateOpened)||(i+="<tr><th>Date Opened</th><td>"+t.formatDateOpened()+"</td></tr>"),!x.default.isNullOrUndef(t.elevation)){var n=e.isKilometers()?k.default.M:k.default.FT;i+="<tr><th>Elevation</th><td>"+t.formatElevation(n)+"</td></tr>"}if(i+="<tr><th>GPS</th><td>"+t.formatLocation()+"</td></tr>",!t.isUserAdded()){i+="<tr><th>Hours</th><td class='"+(x.default.isNullOrUndef(t.hours)?"":"construction")+"'>"+t.formatHours()+"</td></tr>"}return x.default.isNullOrUndef(t.numStalls)||(i+="<tr><th>Stalls</th><td>"+t.formatStalls()+"</td></tr>"),i+="</table>",i+="</div>"}function a(t){var e="";return e+="<div class='info-window-details' id='nearby-details-"+t.id+"'>",e+="<table>",e+="<tr><th>Restaurants</th><td><span class='nearby_restaurants'></span></td></tr>",e+="<tr><th>Shopping</th><td><span class='nearby_stores'></span></td></tr>",e+="<tr><th>Lodging</th><td><span class='nearby_lodgings'></span></td></tr>",e+="</table>",e+="</div>"}function s(t){var e="<div class='links-container'>",i=[l(t),u(t),c(t),g(t),v(t),h(t),d(t),f(t),p(t)],n=1;return D.default.each(i,function(t,r){null!==r&&(e+=r+"",n++%3==0&&t!==i.length-1&&(e+="<br/>"))}),e+="</div>"}function l(t){return"<a class='zoom-to-site-trigger' href='"+t.id+"'>zoom in</a>"}function u(t){F.circleFlag||(R.default.addListener("circles-all-on-event",function(){(0,D.default)("a.circle-toggle-trigger").html("circle off")}),R.default.addListener("circles-all-off-event",function(){(0,D.default)("a.circle-toggle-trigger").html("circle on")}),F.circleFlag=!0);var e=x.default.isNotNullOrUndef(t.circle)&&t.circle.getVisible()?"circle off":"circle on";return"<a class='circle-toggle-trigger' href='"+t.id+"'>"+e+"</a>"}function c(t){return"<a class='add-to-route-trigger' href='"+t.id+"'>add to route</a>"}function h(t){return x.default.isNotNullOrUndef(t.locationId)?"<a target='_blank' href='"+(_.default.TESLA_WEB_PAGE+t.locationId)+"'>web page</a>":null}function d(t){return t.urlDiscuss?"<a target='_blank' href='"+_.default.DISCUSS+"?siteId="+t.id+"'>discuss</a>":null}function f(t){return t.isUserAdded()?"<a class='marker-toggle-trigger' title='remove this custom marker' href='"+t.id+"'>remove</a>":null}function p(t){return t.isUserAdded()?"<a class='marker-toggle-all-trigger' title='remove all custom markers' href=''>remove all</a>":null}function g(t){return"<a class='details-trigger' href='#"+t.id+"'>details</a>"}function m(t,e){return"<a class='pin-marker-trigger pull-right "+(e?"unpin":"pin")+" glyphicon glyphicon-pushpin' title='pin this window' href='#"+t.id+"'></a>"}function v(t){return"<a class='nearby-trigger' href='#"+t.id+"'>nearby</a>"}Object.defineProperty(e,"__esModule",{value:!0});var y=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),b=i(4),x=n(b),w=i(6),k=n(w),C=i(16),S=n(C),T=i(3),M=n(T),A=i(10),E=n(A),O=i(65),P=n(O),L=i(0),D=n(L),N=i(2),_=n(N),I=i(1),R=n(I),F=function(){function t(e,i,n){r(this,t),this.marker=i,this.supercharger=n,this.infoWindow=null,this.showDetails=!1,this.showNearby=!1,this.isPinned=!1,this.googleMap=e;var o=this;(0,D.default)(document).on("click",".details-trigger",function(t){var e=S.default.eventDetail(t);parseInt(e.actionName)===o.supercharger.id&&(o.toggleNearby(!1),o.toggleDetails(),o.infoWindow.setContent(o.buildHtmlContent()))}),(0,D.default)(document).on("click",".pin-marker-trigger",function(t){var e=S.default.eventDetail(t);parseInt(e.actionName)===o.supercharger.id&&(o.togglePin(),o.isPinned?((0,D.default)(this).removeClass("pin"),(0,D.default)(this).addClass("unpin")):((0,D.default)(this).removeClass("unpin"),(0,D.default)(this).addClass("pin")))}),(0,D.default)(document).on("click",".nearby-trigger",D.default.proxy(this.handleNearbySearch,this))}return y(t,[{key:"handleNearbySearch",value:function(t){var e=this,i=new google.maps.places.PlacesService(e.googleMap),n=S.default.eventDetail(t);if(parseInt(n.actionName)===e.supercharger.id&&(e.toggleDetails(!1),e.toggleNearby(),e.infoWindow.setContent(e.buildHtmlContent()),e.showNearby)){var r=(0,D.default)("div#nearby-details-"+this.supercharger.id);e.restaurantsElement=r.find(".nearby_restaurants"),e.storesElement=r.find(".nearby_stores"),e.lodgingsElement=r.find(".nearby_lodgings"),(0,D.default)(e.restaurantsElement).html(),(0,D.default)(e.storesElement).html(),(0,D.default)(e.lodgingsElement).html(),i.nearbySearch({location:e.supercharger.location,radius:500,type:["restaurant"]},D.default.proxy(e.processNearbyRestaurantsSearchResult,e)),i.nearbySearch({location:e.supercharger.location,radius:500,type:["store"]},D.default.proxy(e.processNearbyStoresSearchResult,e)),i.nearbySearch({location:e.supercharger.location,radius:500,type:["lodging"]},D.default.proxy(e.processNearbyLodgingsSearchResult,e))}}},{key:"processNearbyRestaurantsSearchResult",value:function(t,e){var i=this;if(e===google.maps.places.PlacesServiceStatus.OK){for(var n=new Array(t.length),r=0;r<t.length;r++){var o=t[r].name;if(!x.default.isNullOrUndef(t[r].price_level)){o+=" (";for(var a=0;a<parseInt(t[r].price_level);a++)o+="$";o+=")"}n[r]=o}var s=n.slice(0,n.length>=3?3:n.length),l=s.join(", ");n.length>3&&(l+=', and <a href="#" class="show_more">'+(n.length-3)+" more...</a>"),i.restaurantsElement.html(l),(0,D.default)(i.restaurantsElement).find(".show_more").click(function(t){i.restaurantsElement.html(n.join(", "))})}else e===google.maps.places.PlacesServiceStatus.ZERO_RESULTS&&i.restaurantsElement.html("N/A")}},{key:"processNearbyStoresSearchResult",value:function(t,e){var i=this;if(e===google.maps.places.PlacesServiceStatus.OK){for(var n=[],r=0;r<t.length;r++)t[r].types.includes("restaurant")||n.push(t[r].name);if(0===n.length)return void i.storesElement.html("N/A");var o=n.slice(0,n.length>=3?3:n.length),a=o.join(", ");n.length>3&&(a+=', and <a href="#" class="show_more">'+(n.length-3)+" more...</a>"),i.storesElement.html(a),(0,D.default)(i.storesElement).find(".show_more").click(function(t){i.storesElement.html(n.join(", "))})}else e===google.maps.places.PlacesServiceStatus.ZERO_RESULTS&&i.storesElement.html("N/A")}},{key:"processNearbyLodgingsSearchResult",value:function(t,e){var i=this;if(e===google.maps.places.PlacesServiceStatus.OK){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].name;var o=n.slice(0,n.length>=3?3:n.length),a=o.join(", ");n.length>3&&(a+=', and <a href="#" class="show_more">'+(n.length-3)+" more...</a>"),i.lodgingsElement.html(a),(0,D.default)(i.lodgingsElement).find(".show_more").click(function(t){i.lodgingsElement.html(n.join(", "))})}else e===google.maps.places.PlacesServiceStatus.ZERO_RESULTS&&i.lodgingsElement.html("N/A")}},{key:"showWindow",value:function(){var t={content:this.buildHtmlContent(),maxWidth:300};null===this.infoWindow&&(this.infoWindow=new P.default(t)),this.infoWindow.open(this.marker.map,this.marker),this.marker.infoWindow=this.infoWindow}},{key:"closeWindow",value:function(){this.isPinned||this.infoWindow.close()}},{key:"toggleDetails",value:function(t){x.default.isNullOrUndef(t)?this.showDetails=!this.showDetails:this.showDetails=t,this.showDetails&&M.default.sendEvent("map","view-marker-details")}},{key:"togglePin",value:function(){this.isPinned=!this.isPinned,this.isPinned&&M.default.sendEvent("map","pin-marker")}},{key:"toggleNearby",value:function(t){x.default.isNullOrUndef(t)?this.showNearby=!this.showNearby:this.showNearby=t,this.showNearby&&M.default.sendEvent("map","view-marker-nearby")}},{key:"buildHtmlContent",value:function(){var t=this.supercharger,e="<div class='info-window-content'>";return e+="<div class='title'>"+t.displayName+" ",e+=m(t,this.isPinned),e+="</div>",t.isConstruction()?e+="<div class='construction'>Status: "+t.status.displayName+" - "+t.statusDays+" days</div>":t.isPermit()?e+="<div class='permit'>Status: "+t.status.displayName+" - "+t.statusDays+" days</div>":t.isClosed()&&(e+="<div class='closed'>Status: "+t.status.displayName+" - "+t.statusDays+" days</div>"),e+=t.address.street+"<br/>",x.default.isNullOrUndef(t.hours)||(e+="<div class='construction' >LIMITED HOURS</div>"),this.showDetails&&(e+=o(t,E.default.getDisplayUnit())),this.showNearby&&(e+=a(t)),e+=s(t),e+="</div>"}}]),t}();e.default=F},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){var e=google.maps,i=e.event,n=new e.InfoWindow,r=void 0;return e.InfoWindowZZ||(e.InfoWindowZZ=Number(e.Marker.MAX_ZINDEX)),i.addListener(n,"content_changed",function(){if("string"==typeof this.getContent()){var t=document.createElement("div");return t.innerHTML=this.getContent(),void this.setContent(t)}i.addListener(this,"domready",function(){var t=this;t.setZIndex(++e.InfoWindowZZ),r&&e.event.removeListener(r),r=i.addDomListener(this.getContent().parentNode.parentNode.parentNode,"click",function(){t.setZIndex(++e.InfoWindowZZ)})})}),t&&n.setOptions(t),n};e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(28),u=n(l),c=i(30),h=n(c),d=i(20),f=n(d),p=i(0),g=n(p);i(67);var m=function(){function t(){r(this,t),this.initOpacitySliders(),this.initColorInputs(),this.handleVisibilityModelChange(),s.default.addListener("control-visible-model-changed-event",this.handleVisibilityModelChange,this)}return o(t,[{key:"initOpacitySliders",value:function(){this.fillOpacitySlider=new u.default("#fill-opacity-slider","#fill-opacity-number-text",0,1,.1,h.default.fillOpacity),this.borderOpacitySlider=new u.default("#border-opacity-slider","#border-opacity-number-text",0,1,.1,h.default.borderOpacity),this.fillOpacitySlider.on("range-change-event",function(t,e){h.default.fillOpacity=e,h.default.fireRenderModelChangeEvent()}),this.borderOpacitySlider.on("range-change-event",function(t,e){h.default.borderOpacity=e,h.default.fireRenderModelChangeEvent()})}},{key:"initColorInputs",value:function(){(0,g.default)("#fill-color-input").spectrum({color:h.default.fillColor,change:g.default.proxy(this.handleFillColorChange,this)}),(0,g.default)("#border-color-input").spectrum({color:h.default.borderColor,change:g.default.proxy(this.handleBorderColorChange,this)})}},{key:"handleFillColorChange",value:function(t){h.default.fillColor=t.toHexString(),h.default.fireRenderModelChangeEvent()}},{key:"handleBorderColorChange",value:function(t){console.log("INFO: handleBorderColorChange"),h.default.borderColor=t.toHexString(),h.default.fireRenderModelChangeEvent()}},{key:"handleVisibilityModelChange",value:function(){(0,g.default)("#control-row-rendering").toggle(f.default.renderControlVisible)}}]),t}();e.default=m},function(t,e,i){var n,r,o;!function(a){"use strict";r=[i(0)],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(function(t,e){"use strict";function i(e,i,n,r){for(var o=[],a=0;a<e.length;a++){var s=e[a];if(s){var l=tinycolor(s),u=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(i,s)?" sp-thumb-active":"";var c=l.toString(r.preferredFormat||"rgb"),h=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+c+'" data-color="'+l.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function n(){for(var t=0;t<p.length;t++)p[t]&&p[t].hide()}function r(e,i){var n=t.extend({},f,e);return n.callbacks={move:u(n.move,i),change:u(n.change,i),show:u(n.show,i),hide:u(n.hide,i),beforeShow:u(n.beforeShow,i)},n}function o(o,s){function u(){if(V.showPaletteOnly&&(V.showPalette=!0),Ft.text(V.showPaletteOnly?V.togglePaletteMoreText:V.togglePaletteLessText),V.palette){dt=V.palette.slice(0),ft=t.isArray(dt[0])?dt:[dt],pt={};for(var e=0;e<ft.length;e++)for(var i=0;i<ft[e].length;i++){var n=tinycolor(ft[e][i]).toRgbString();pt[n]=!0}}kt.toggleClass("sp-flat",G),kt.toggleClass("sp-input-disabled",!V.showInput),kt.toggleClass("sp-alpha-enabled",V.showAlpha),kt.toggleClass("sp-clear-enabled",qt),kt.toggleClass("sp-buttons-disabled",!V.showButtons),kt.toggleClass("sp-palette-buttons-disabled",!V.togglePaletteOnly),kt.toggleClass("sp-palette-disabled",!V.showPalette),kt.toggleClass("sp-palette-only",V.showPaletteOnly),kt.toggleClass("sp-initial-disabled",!V.showInitial),kt.addClass(V.className).addClass(V.containerClassName),j()}function f(){if(X&&window.localStorage){try{var e=window.localStorage[X].split(",#");e.length>1&&(delete window.localStorage[X],t.each(e,function(t,e){b(e)}))}catch(t){}try{gt=window.localStorage[X].split(";")}catch(t){}}}function b(e){if(Y){var i=tinycolor(e).toRgbString();if(!pt[i]&&-1===t.inArray(i,gt))for(gt.push(i);gt.length>mt;)gt.shift();if(X&&window.localStorage)try{window.localStorage[X]=gt.join(";")}catch(t){}}}function x(){var t=[];if(V.showPalette)for(var e=0;e<gt.length;e++){var i=tinycolor(gt[e]).toRgbString();pt[i]||t.push(gt[e])}return t.reverse().slice(0,V.maxSelectionSize)}function w(){var e=N(),n=t.map(ft,function(t,n){return i(t,e,"sp-palette-row sp-palette-row-"+n,V)});f(),gt&&n.push(i(x(),e,"sp-palette-row sp-palette-row-selection",V)),Dt.html(n.join(""))}function k(){if(V.showInitial){var t=Vt,e=N();Nt.html(i([t,e],e,"sp-palette-row-initial",V))}}function C(){(et<=0||tt<=0||nt<=0)&&j(),Q=!0,kt.addClass(vt),yt=null,xt.trigger("dragstart.spectrum",[N()])}function S(){Q=!1,kt.removeClass(vt),xt.trigger("dragstop.spectrum",[N()])}function T(){var t=Lt.val();if(null!==t&&""!==t||!qt){var e=tinycolor(t);e.isValid()?(D(e),B(!0)):Lt.addClass("sp-validation-error")}else D(null),B(!0)}function M(){J?P():A()}function A(){var e=t.Event("beforeShow.spectrum");if(J)return void j();xt.trigger(e,[N()]),!1===Z.beforeShow(N())||e.isDefaultPrevented()||(n(),J=!0,t(bt).bind("keydown.spectrum",E),t(bt).bind("click.spectrum",O),t(window).bind("resize.spectrum",K),zt.addClass("sp-active"),kt.removeClass("sp-hidden"),j(),R(),Vt=N(),k(),Z.show(Vt),xt.trigger("show.spectrum",[Vt]))}function E(t){27===t.keyCode&&P()}function O(t){2!=t.button&&(Q||(Yt?B(!0):L(),P()))}function P(){J&&!G&&(J=!1,t(bt).unbind("keydown.spectrum",E),t(bt).unbind("click.spectrum",O),t(window).unbind("resize.spectrum",K),zt.removeClass("sp-active"),kt.addClass("sp-hidden"),Z.hide(N()),xt.trigger("hide.spectrum",[N()]))}function L(){D(Vt,!0)}function D(t,e){if(tinycolor.equals(t,N()))return void R();var i,n;!t&&qt?Xt=!0:(Xt=!1,i=tinycolor(t),n=i.toHsv(),lt=n.h%360/360,ut=n.s,ct=n.v,ht=n.a),R(),i&&i.isValid()&&!e&&(Gt=V.preferredFormat||i.getFormat())}function N(t){return t=t||{},qt&&Xt?null:tinycolor.fromRatio({h:lt,s:ut,v:ct,a:Math.round(100*ht)/100},{format:t.format||Gt})}function _(){return!Lt.hasClass("sp-validation-error")}function I(){R(),Z.move(N()),xt.trigger("move.spectrum",[N()])}function R(){Lt.removeClass("sp-validation-error"),F();var t=tinycolor.fromRatio({h:lt,s:1,v:1});St.css("background-color",t.toHexString());var e=Gt;ht<1&&(0!==ht||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var i=N({format:e}),n="";if(Wt.removeClass("sp-clear-display"),Wt.css("background-color","transparent"),!i&&qt)Wt.addClass("sp-clear-display");else{var r=i.toHexString(),o=i.toRgbString();if(m||1===i.alpha?Wt.css("background-color",o):(Wt.css("background-color","transparent"),Wt.css("filter",i.toFilter())),V.showAlpha){var a=i.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),l="linear-gradient(left, "+s+", "+r+")";g?Et.css("filter",tinycolor(s).toFilter({gradientType:1},r)):(Et.css("background","-webkit-"+l),Et.css("background","-moz-"+l),Et.css("background","-ms-"+l),Et.css("background","linear-gradient(to right, "+s+", "+r+")"))}n=i.toString(e)}V.showInput&&Lt.val(n),V.showPalette&&w(),k()}function F(){var t=ut,e=ct;if(qt&&Xt)Pt.hide(),At.hide(),Tt.hide();else{Pt.show(),At.show(),Tt.show();var i=t*tt,n=et-e*et;i=Math.max(-it,Math.min(tt-it,i-it)),n=Math.max(-it,Math.min(et-it,n-it)),Tt.css({top:n+"px",left:i+"px"});var r=ht*ot;Pt.css({left:r-at/2+"px"});var o=lt*nt;At.css({top:o-st+"px"})}}function B(t){var e=N(),i="",n=!tinycolor.equals(e,Vt);e&&(i=e.toString(Gt),b(e)),Bt&&xt.val(i),t&&n&&(Z.change(e),xt.trigger("change",[e]))}function j(){J&&(tt=St.width(),et=St.height(),it=Tt.height(),rt=Mt.width(),nt=Mt.height(),st=At.height(),ot=Ot.width(),at=Pt.width(),G||(kt.css("position","absolute"),V.offset?kt.offset(V.offset):kt.offset(a(kt,Ht))),F(),V.showPalette&&w(),xt.trigger("reflow.spectrum"))}function U(){xt.show(),Ht.unbind("click.spectrum touchstart.spectrum"),kt.remove(),zt.remove(),p[Zt.id]=null}function z(i,n){return i===e?t.extend({},V):n===e?V[i]:(V[i]=n,"preferredFormat"===i&&(Gt=V.preferredFormat),void u())}function H(){wt=!1,xt.attr("disabled",!1),Ht.removeClass("sp-disabled")}function W(){P(),wt=!0,xt.attr("disabled",!0),Ht.addClass("sp-disabled")}function $(t){V.offset=t,j()}var V=r(s,o),G=V.flat,Y=V.showSelectionPalette,X=V.localStorageKey,q=V.theme,Z=V.callbacks,K=h(j,10),J=!1,Q=!1,tt=0,et=0,it=0,nt=0,rt=0,ot=0,at=0,st=0,lt=0,ut=0,ct=0,ht=1,dt=[],ft=[],pt={},gt=V.selectionPalette.slice(0),mt=V.maxSelectionSize,vt="sp-dragging",yt=null,bt=o.ownerDocument,xt=(bt.body,t(o)),wt=!1,kt=t(y,bt).addClass(q),Ct=kt.find(".sp-picker-container"),St=kt.find(".sp-color"),Tt=kt.find(".sp-dragger"),Mt=kt.find(".sp-hue"),At=kt.find(".sp-slider"),Et=kt.find(".sp-alpha-inner"),Ot=kt.find(".sp-alpha"),Pt=kt.find(".sp-alpha-handle"),Lt=kt.find(".sp-input"),Dt=kt.find(".sp-palette"),Nt=kt.find(".sp-initial"),_t=kt.find(".sp-cancel"),It=kt.find(".sp-clear"),Rt=kt.find(".sp-choose"),Ft=kt.find(".sp-palette-toggle"),Bt=xt.is("input"),jt=Bt&&"color"===xt.attr("type")&&d(),Ut=Bt&&!G,zt=Ut?t(v).addClass(q).addClass(V.className).addClass(V.replacerClassName):t([]),Ht=Ut?zt:xt,Wt=zt.find(".sp-preview-inner"),$t=V.color||Bt&&xt.val(),Vt=!1,Gt=V.preferredFormat,Yt=!V.showButtons||V.clickoutFiresChange,Xt=!$t,qt=V.allowEmpty&&!jt;!function(){function e(e){return e.data&&e.data.ignore?(D(t(e.target).closest(".sp-thumb-el").data("color")),I()):(D(t(e.target).closest(".sp-thumb-el").data("color")),I(),B(!0),V.hideAfterPaletteSelect&&P()),!1}if(g&&kt.find("*:not(input)").attr("unselectable","on"),u(),Ut&&xt.after(zt).hide(),qt||It.hide(),G)xt.after(kt).hide();else{var i="parent"===V.appendTo?xt.parent():t(V.appendTo);1!==i.length&&(i=t("body")),i.append(kt)}f(),Ht.bind("click.spectrum touchstart.spectrum",function(e){wt||M(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(xt.is(":disabled")||!0===V.disabled)&&W(),kt.click(l),Lt.change(T),Lt.bind("paste",function(){setTimeout(T,1)}),Lt.keydown(function(t){13==t.keyCode&&T()}),_t.text(V.cancelText),_t.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),L(),P()}),It.attr("title",V.clearText),It.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Xt=!0,I(),G&&B(!0)}),Rt.text(V.chooseText),Rt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),g&&Lt.is(":focus")&&Lt.trigger("change"),_()&&(B(!0),P())}),Ft.text(V.showPaletteOnly?V.togglePaletteMoreText:V.togglePaletteLessText),Ft.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),V.showPaletteOnly=!V.showPaletteOnly,V.showPaletteOnly||G||kt.css("left","-="+(Ct.outerWidth(!0)+5)),u()}),c(Ot,function(t,e,i){ht=t/ot,Xt=!1,i.shiftKey&&(ht=Math.round(10*ht)/10),I()},C,S),c(Mt,function(t,e){lt=parseFloat(e/nt),Xt=!1,V.showAlpha||(ht=1),I()},C,S),c(St,function(t,e,i){if(i.shiftKey){if(!yt){var n=ut*tt,r=et-ct*et,o=Math.abs(t-n)>Math.abs(e-r);yt=o?"x":"y"}}else yt=null;var a=!yt||"x"===yt,s=!yt||"y"===yt;a&&(ut=parseFloat(t/tt)),s&&(ct=parseFloat((et-e)/et)),Xt=!1,V.showAlpha||(ht=1),I()},C,S),$t?(D($t),R(),Gt=V.preferredFormat||tinycolor($t).format,b($t)):R(),G&&A();var n=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Dt.delegate(".sp-thumb-el",n,e),Nt.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}();var Zt={show:A,hide:P,toggle:M,reflow:j,option:z,enable:H,disable:W,offset:$,set:function(t){D(t),B()},get:N,destroy:U,container:kt};return Zt.id=p.push(Zt)-1,Zt}function a(e,i){var n=e.outerWidth(),r=e.outerHeight(),o=i.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,l=s.clientWidth+t(a).scrollLeft(),u=s.clientHeight+t(a).scrollTop(),c=i.offset();return c.top+=o,c.left-=Math.min(c.left,c.left+n>l&&l>n?Math.abs(c.left+n-l):0),c.top-=Math.min(c.top,c.top+r>u&&u>r?Math.abs(r+o-0):0),c}function s(){}function l(t){t.stopPropagation()}function u(t,e){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function c(e,i,n,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function a(t){if(c){if(g&&u.documentMode<9&&!t.button)return l();var n=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],r=n&&n.pageX||t.pageX,a=n&&n.pageY||t.pageY,s=Math.max(0,Math.min(r-h.left,f)),m=Math.max(0,Math.min(a-h.top,d));p&&o(t),i.apply(e,[s,m,t])}}function s(i){(i.which?3==i.which:2==i.button)||c||!1!==n.apply(e,arguments)&&(c=!0,d=t(e).height(),f=t(e).width(),h=t(e).offset(),t(u).bind(m),t(u.body).addClass("sp-dragging"),a(i),o(i))}function l(){c&&(t(u).unbind(m),t(u.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(e,arguments)},0)),c=!1}i=i||function(){},n=n||function(){},r=r||function(){};var u=document,c=!1,h={},d=0,f=0,p="ontouchstart"in window,m={};m.selectstart=o,m.dragstart=o,m["touchmove mousemove"]=a,m["touchend mouseup"]=l,t(e).bind("touchstart mousedown",s)}function h(t,e,i){var n;return function(){var r=this,o=arguments,a=function(){n=null,t.apply(r,o)};i&&clearTimeout(n),!i&&n||(n=setTimeout(a,e))}}function d(){return t.fn.spectrum.inputTypeColorSupport()}var f={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],g=!!/msie/i.exec(window.navigator.userAgent),m=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),i=e.style;return i.cssText="background-color:rgba(0,0,0,.5)",t(i.backgroundColor,"rgba")||t(i.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),y=function(){var t="";if(g)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();t.fn.spectrum=function(e,i){if("string"==typeof e){var n=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=p[t(this).data("spectrum.id")];if(i){var o=i[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=i.get():"container"==e?n=i.container:"option"==e?n=i.option.apply(i,r):"destroy"==e?(i.destroy(),t(this).removeData("spectrum.id")):o.apply(i,r)}}),n}return this.spectrum("destroy").each(function(){var i=t.extend({},e,t(this).data()),n=o(this,i);t(this).data("spectrum.id",n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=c,t.fn.spectrum.defaults=f,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var i=t("<input type='color'/>")[0];e._cachedResult="color"===i.type&&""!==i.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var i={r:0,g:0,b:0},r=1,a=!1,s=!1;return"string"==typeof t&&(t=L(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(i=e(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=E(t.s),t.v=E(t.v),i=o(t.h,t.s,t.v),a=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=E(t.s),t.l=E(t.l),i=n(t.h,t.s,t.l),a=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=w(r),{ok:a,format:t.format||s,r:F(255,B(i.r,0)),g:F(255,B(i.g,0)),b:F(255,B(i.b,0)),a:r}}function e(t,e,i){return{r:255*k(t,255),g:255*k(e,255),b:255*k(i,255)}}function i(t,e,i){t=k(t,255),e=k(e,255),i=k(i,255);var n,r,o=B(t,e,i),a=F(t,e,i),s=(o+a)/2;if(o==a)n=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,l:s}}function n(t,e,i){function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var r,o,a;if(t=k(t,360),e=k(e,100),i=k(i,100),0===e)r=o=a=i;else{var s=i<.5?i*(1+e):i+e-i*e,l=2*i-s;r=n(l,s,t+1/3),o=n(l,s,t),a=n(l,s,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function r(t,e,i){t=k(t,255),e=k(e,255),i=k(i,255);var n,r,o=B(t,e,i),a=F(t,e,i),s=o,l=o-a;if(r=0===o?0:l/o,o==a)n=0;else{switch(o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,v:s}}function o(t,e,i){t=6*k(t,360),e=k(e,100),i=k(i,100);var n=I.floor(t),r=t-n,o=i*(1-e),a=i*(1-r*e),s=i*(1-(1-r)*e),l=n%6;return{r:255*[i,a,o,o,s,i][l],g:255*[s,i,i,a,o,o][l],b:255*[o,o,s,i,i,a][l]}}function a(t,e,i,n){var r=[A(R(t).toString(16)),A(R(e).toString(16)),A(R(i).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(t,e,i,n){return[A(O(n)),A(R(t).toString(16)),A(R(e).toString(16)),A(R(i).toString(16))].join("")}function l(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.s-=e/100,i.s=C(i.s),U(i)}function u(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.s+=e/100,i.s=C(i.s),U(i)}function c(t){return U(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.l+=e/100,i.l=C(i.l),U(i)}function d(t,e){e=0===e?0:e||10;var i=U(t).toRgb();return i.r=B(0,F(255,i.r-R(-e/100*255))),i.g=B(0,F(255,i.g-R(-e/100*255))),i.b=B(0,F(255,i.b-R(-e/100*255))),U(i)}function f(t,e){e=0===e?0:e||10;var i=U(t).toHsl();return i.l-=e/100,i.l=C(i.l),U(i)}function p(t,e){var i=U(t).toHsl(),n=(R(i.h)+e)%360;return i.h=n<0?360+n:n,U(i)}function g(t){var e=U(t).toHsl();return e.h=(e.h+180)%360,U(e)}function m(t){var e=U(t).toHsl(),i=e.h;return[U(t),U({h:(i+120)%360,s:e.s,l:e.l}),U({h:(i+240)%360,s:e.s,l:e.l})]}function v(t){var e=U(t).toHsl(),i=e.h;return[U(t),U({h:(i+90)%360,s:e.s,l:e.l}),U({h:(i+180)%360,s:e.s,l:e.l}),U({h:(i+270)%360,s:e.s,l:e.l})]}function y(t){var e=U(t).toHsl(),i=e.h;return[U(t),U({h:(i+72)%360,s:e.s,l:e.l}),U({h:(i+216)%360,s:e.s,l:e.l})]}function b(t,e,i){e=e||6,i=i||30;var n=U(t).toHsl(),r=360/i,o=[U(t)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,o.push(U(n));return o}function x(t,e){e=e||6;for(var i=U(t).toHsv(),n=i.h,r=i.s,o=i.v,a=[],s=1/e;e--;)a.push(U({h:n,s:r,v:o})),o=(o+s)%1;return a}function w(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){T(t)&&(t="100%");var i=M(t);return t=F(e,B(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),I.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function C(t){return F(1,B(0,t))}function S(t){return parseInt(t,16)}function T(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function M(t){return"string"==typeof t&&-1!=t.indexOf("%")}function A(t){return 1==t.length?"0"+t:""+t}function E(t){return t<=1&&(t=100*t+"%"),t}function O(t){return Math.round(255*parseFloat(t)).toString(16)}function P(t){return S(t)/255}function L(t){t=t.replace(D,"").replace(N,"").toLowerCase();var e=!1;if(z[t])t=z[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=W.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=W.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=W.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=W.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=W.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=W.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=W.hex8.exec(t))?{a:P(i[1]),r:S(i[2]),g:S(i[3]),b:S(i[4]),format:e?"name":"hex8"}:(i=W.hex6.exec(t))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:e?"name":"hex"}:!!(i=W.hex3.exec(t))&&{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:e?"name":"hex"}}var D=/^[\s,#]+/,N=/\s+$/,_=0,I=Math,R=I.round,F=I.min,B=I.max,j=I.random,U=function(e,i){if(e=e||"",i=i||{},e instanceof U)return e;if(!(this instanceof U))return new U(e,i);var n=t(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=R(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=n.ok,this._tc_id=_++};U.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=w(t),this._roundA=R(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=R(360*t.h),i=R(100*t.s),n=R(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=R(360*t.h),n=R(100*t.s),r=R(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(100*k(this._r,255))+"%",g:R(100*k(this._g,255))+"%",b:R(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+R(100*k(this._r,255))+"%, "+R(100*k(this._g,255))+"%, "+R(100*k(this._b,255))+"%)":"rgba("+R(100*k(this._r,255))+"%, "+R(100*k(this._g,255))+"%, "+R(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(H[a(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){i=U(t).toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},U.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:E(t[n]));t=i}return U(t,e)},U.equals=function(t,e){return!(!t||!e)&&U(t).toRgbString()==U(e).toRgbString()},U.random=function(){return U.fromRatio({r:j(),g:j(),b:j()})},U.mix=function(t,e,i){i=0===i?0:i||50;var n,r=U(t).toRgb(),o=U(e).toRgb(),a=i/100,s=2*a-1,l=o.a-r.a;n=s*l==-1?s:(s+l)/(1+s*l),n=(n+1)/2;var u=1-n,c={r:o.r*n+r.r*u,g:o.g*n+r.g*u,b:o.b*n+r.b*u,a:o.a*a+r.a*(1-a)};return U(c)},U.readability=function(t,e){var i=U(t),n=U(e),r=i.toRgb(),o=n.toRgb(),a=i.getBrightness(),s=n.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:l}},U.isReadable=function(t,e){var i=U.readability(t,e);return i.brightness>125&&i.color>500},U.mostReadable=function(t,e){for(var i=null,n=0,r=!1,o=0;o<e.length;o++){var a=U.readability(t,e[o]),s=a.brightness>125&&a.color>500,l=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&l>n||!s&&!r&&l>n)&&(r=s,n=l,i=U(e[o]))}return i};var z=U.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},H=U.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(z),W=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=U}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=n(o),s=i(0),l=n(s),u=function t(){r(this,t);var e=(0,l.default)("#search-for-location-input");e.on("keypress",function(t){13===t.keyCode&&t.preventDefault()});var i=new google.maps.places.SearchBox(e.get(0));i.addListener("places_changed",function(){var t=i.getPlaces();a.default.dispatch("places-changed-event",t)})};e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(0),u=n(l),c=i(70),h=n(c),d=i(24),f=n(d),p=i(13),g=n(p),m=i(71),v=n(m),y=function(){function t(){r(this,t),this.routingPanel=(0,u.default)("#routing-panel"),this.directionPanel=(0,u.default)("#route-directions-panel"),this.waypointsPanel=(0,u.default)("#route-waypoints-panel"),this.panelToggleButton=(0,u.default)("#routing-panel-toggle-button"),this.routeSaveDialog=new v.default,this.initListeners()}return o(t,[{key:"initListeners",value:function(){var t=this;this.panelToggleButton.click(u.default.proxy(this.toggleRoutingPanel,this)),(0,u.default)("#route-panel-close-trigger").click(u.default.proxy(this.hide,this)),(0,u.default)("#clear-route-trigger").click(function(){f.default.clearWaypoints()}),(0,u.default)("#save-route-trigger").click(function(){t.routeSaveDialog.show()}).tooltip();var e=document.getElementById("route-waypoints-list");-1===navigator.userAgent.indexOf("AppleWebKit/534.34")&&h.default.create(e,{onEnd:function(e){t.handleSortWaypoint(e)}}),s.default.addListener(g.default.model_changed,this.updatePanelView,this)}},{key:"clearDirections",value:function(){this.directionPanel.html("")}},{key:"toggleRoutingPanel",value:function(t){"0px"!==this.routingPanel.css("flex-basis")?this.hide(t):this.show()}},{key:"show",value:function(){this.routingPanel.css("flex-basis","400px"),this.panelToggleButton.find(".glyphicon-menu-left").show(),this.panelToggleButton.find(".glyphicon-menu-right").hide(),this.showToggleButton()}},{key:"hide",value:function(t){t.preventDefault(),this.routingPanel.css("flex-basis","0"),this.panelToggleButton.find(".glyphicon-menu-left").hide(),this.panelToggleButton.find(".glyphicon-menu-right").show(),f.default.isEmpty()&&this.hideToggleButton()}},{key:"hideToggleButton",value:function(){this.panelToggleButton.css("visibility","hidden")}},{key:"showToggleButton",value:function(){this.panelToggleButton.css("visibility","visible")}},{key:"updatePanelView",value:function(){this.clearDirections();var t=this.waypointsPanel.find("ul");t.html(""),null===f.default.routeName?(0,u.default)("#loaded-route-name").html("").hide():(0,u.default)("#loaded-route-name").html("Editing route <b>"+f.default.routeName+"</b>").show(),f.default.isEmpty()?this.hide(event):(this.show(),u.default.each(f.default.getWaypoints(),function(e,i){t.append("<li class='list-group-item'><button type='button' class='close' data-index='"+e+"'>&times;</button><span class='badge pull-left'>"+String.fromCharCode(65+e)+"</span>&nbsp;&nbsp;"+i.displayName+"</li>")}),t.find("button").on("click",u.default.proxy(this.handleRemoveWaypoint,this)))}},{key:"handleSortWaypoint",value:function(t){var e=t.oldIndex,i=t.newIndex;f.default.moveWaypoint(e,i)}},{key:"handleRemoveWaypoint",value:function(t){var e=(0,u.default)(t.target).data("index");f.default.removeWaypoint(e)}}]),t}();e.default=y},function(t,e,i){(function(n){var r,o;/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(n){"use strict";r=n,void 0!==(o="function"==typeof r?r.call(e,i,e,t):r)&&(t.exports=o)}(function(){"use strict";function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=x({},e),t[G]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i)!(n in e)&&(e[n]=i[n]);st(e);for(var r in this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Q,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),ot.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),M&&M.state!==e&&(u(M,"display",e?"none":""),e||M.state&&(t.options.group.revertClone?(A.insertBefore(M,E),t._animate(C,M)):A.insertBefore(M,C)),M.state=e)}function i(t,e,i){if(t){i=i||X;do{if(">*"===e&&t.parentNode===i||y(t,e))return t}while(t=r(t))}return null}function r(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function o(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function a(t,e,i){t.addEventListener(e,i,J)}function s(t,e,i){t.removeEventListener(e,i,J)}function l(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace($," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace($," ")}}function u(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return X.defaultView&&X.defaultView.getComputedStyle?i=X.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function c(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,o=n.length;if(i)for(;r<o;r++)i(n[r],r);return n}return[]}function h(t,e,i,n,r,o,a){t=t||e[G];var s=X.createEvent("Event"),l=t.options,u="on"+i.charAt(0).toUpperCase()+i.substr(1);s.initEvent(i,!0,!0),s.to=e,s.from=r||e,s.item=n||e,s.clone=M,s.oldIndex=o,s.newIndex=a,e.dispatchEvent(s),l[u]&&l[u].call(t,s)}function d(t,e,i,n,r,o,a,s){var l,u,c=t[G],h=c.options.onMove;return l=X.createEvent("Event"),l.initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=r||e,l.relatedRect=o||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),h&&(u=h.call(c,l,a)),u}function f(t){t.draggable=!1}function p(){et=!1}function g(t,e){var i=t.lastElementChild,n=i.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}function m(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function v(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!y(t,e)||i++;return i}function y(t,e){if(t){e=e.split(".");var i=e.shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==i&&t.nodeName.toUpperCase()!=i||e.length&&((" "+t.className+" ").match(n)||[]).length!=e.length)}return!1}function b(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function x(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function w(t){return Z?Z(t).clone(!0)[0]:K&&K.dom?K.dom(t).cloneNode(!0):t.cloneNode(!0)}function k(t){for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&rt.push(n)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var C,S,T,M,A,E,O,P,L,D,N,_,I,R,F,B,j,U,z,H,W={},$=/\s+/g,V=/left|right|inline/,G="Sortable"+(new Date).getTime(),Y=window,X=Y.document,q=Y.parseInt,Z=n||Y.Zepto,K=Y.Polymer,J=!1,Q=!!("draggable"in X.createElement("div")),tt=function(t){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(t=X.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),et=!1,it=Math.abs,nt=Math.min,rt=[],ot=[],at=b(function(t,e,i){if(i&&e.scroll){var n,r,o,a,s,l,u=i[G],c=e.scrollSensitivity,h=e.scrollSpeed,d=t.clientX,f=t.clientY,p=window.innerWidth,g=window.innerHeight;if(L!==i&&(P=e.scroll,L=i,D=e.scrollFn,!0===P)){P=i;do{if(P.offsetWidth<P.scrollWidth||P.offsetHeight<P.scrollHeight)break}while(P=P.parentNode)}P&&(n=P,r=P.getBoundingClientRect(),o=(it(r.right-d)<=c)-(it(r.left-d)<=c),a=(it(r.bottom-f)<=c)-(it(r.top-f)<=c)),o||a||(o=(p-d<=c)-(d<=c),a=(g-f<=c)-(f<=c),(o||a)&&(n=Y)),W.vx===o&&W.vy===a&&W.el===n||(W.el=n,W.vx=o,W.vy=a,clearInterval(W.pid),n&&(W.pid=setInterval(function(){if(l=a?a*h:0,s=o?o*h:0,"function"==typeof D)return D.call(u,s,l,t);n===Y?Y.scrollTo(Y.pageXOffset+s,Y.pageYOffset+l):(n.scrollTop+=l,n.scrollLeft+=s)},24)))}},30),st=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=i.name),"function"==typeof t?t:function(i,n){var r=n.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var i={},n=t.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i};t.prototype={constructor:t,_onTapStart:function(t){var e,n=this,r=this.el,o=this.options,a=o.preventOnFilter,s=t.type,l=t.touches&&t.touches[0],u=(l||t).target,c=t.target.shadowRoot&&t.path[0]||u,d=o.filter;if(k(r),!C&&!("mousedown"===s&&0!==t.button||o.disabled)&&(u=i(u,o.draggable,r))&&O!==u){if(e=v(u,o.draggable),"function"==typeof d){if(d.call(this,t,u,this))return h(n,c,"filter",u,r,e),void(a&&t.preventDefault())}else if(d&&(d=d.split(",").some(function(t){if(t=i(c,t.trim(),r))return h(n,t,"filter",u,r,e),!0})))return void(a&&t.preventDefault());o.handle&&!i(c,o.handle,r)||this._prepareDragStart(t,l,u,e)}},_prepareDragStart:function(t,e,i,n){var r,o=this,s=o.el,u=o.options,d=s.ownerDocument;i&&!C&&i.parentNode===s&&(U=t,A=s,C=i,S=C.parentNode,E=C.nextSibling,O=i,B=u.group,R=n,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,C.style["will-change"]="transform",r=function(){o._disableDelayedDrag(),C.draggable=o.nativeDraggable,l(C,u.chosenClass,!0),o._triggerDragStart(t,e),h(o,A,"choose",C,A,R)},u.ignore.split(",").forEach(function(t){c(C,t.trim(),f)}),a(d,"mouseup",o._onDrop),a(d,"touchend",o._onDrop),a(d,"touchcancel",o._onDrop),a(d,"pointercancel",o._onDrop),a(d,"selectstart",o),u.delay?(a(d,"mouseup",o._disableDelayedDrag),a(d,"touchend",o._disableDelayedDrag),a(d,"touchcancel",o._disableDelayedDrag),a(d,"mousemove",o._disableDelayedDrag),a(d,"touchmove",o._disableDelayedDrag),a(d,"pointermove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(r,u.delay)):r())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),s(t,"mouseup",this._disableDelayedDrag),s(t,"touchend",this._disableDelayedDrag),s(t,"touchcancel",this._disableDelayedDrag),s(t,"mousemove",this._disableDelayedDrag),s(t,"touchmove",this._disableDelayedDrag),s(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),e?(U={target:C,clientX:e.clientX,clientY:e.clientY},this._onDragStart(U,"touch")):this.nativeDraggable?(a(C,"dragend",this),a(A,"dragstart",this._onDragStart)):this._onDragStart(U,!0);try{X.selection?setTimeout(function(){X.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(A&&C){var e=this.options;l(C,e.ghostClass,!0),l(C,e.dragClass,!1),t.active=this,h(this,A,"start",C,A,R)}else this._nulling()},_emulateDragOver:function(){if(z){if(this._lastX===z.clientX&&this._lastY===z.clientY)return;this._lastX=z.clientX,this._lastY=z.clientY,tt||u(T,"display","none");var t=X.elementFromPoint(z.clientX,z.clientY),e=t,i=ot.length;if(e)do{if(e[G]){for(;i--;)ot[i]({clientX:z.clientX,clientY:z.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);tt||u(T,"display","")}},_onTouchMove:function(e){if(U){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,o=e.touches?e.touches[0]:e,a=o.clientX-U.clientX+r.x,s=o.clientY-U.clientY+r.y,l=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!t.active){if(n&&nt(it(o.clientX-this._lastX),it(o.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),H=!0,z=o,u(T,"webkitTransform",l),u(T,"mozTransform",l),u(T,"msTransform",l),u(T,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!T){var t,e=C.getBoundingClientRect(),i=u(C),n=this.options;T=C.cloneNode(!0),l(T,n.ghostClass,!1),l(T,n.fallbackClass,!0),l(T,n.dragClass,!0),u(T,"top",e.top-q(i.marginTop,10)),u(T,"left",e.left-q(i.marginLeft,10)),u(T,"width",e.width),u(T,"height",e.height),u(T,"opacity","0.8"),u(T,"position","fixed"),u(T,"zIndex","100000"),u(T,"pointerEvents","none"),n.fallbackOnBody&&X.body.appendChild(T)||A.appendChild(T),t=T.getBoundingClientRect(),u(T,"width",2*e.width-t.width),u(T,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),B.checkPull(this,this,C,t)&&(M=w(C),M.draggable=!1,M.style["will-change"]="",u(M,"display","none"),l(M,this.options.chosenClass,!1),A.insertBefore(M,C),h(this,A,"clone",C)),l(C,n.dragClass,!0),e?("touch"===e?(a(X,"touchmove",this._onTouchMove),a(X,"touchend",this._onDrop),a(X,"touchcancel",this._onDrop),a(X,"pointermove",this._onTouchMove),a(X,"pointerup",this._onDrop)):(a(X,"mousemove",this._onTouchMove),a(X,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,C)),a(X,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(n){var r,o,a,s,l=this.el,c=this.options,h=c.group,f=t.active,m=B===h,v=!1,y=c.sort;if(void 0!==n.preventDefault&&(n.preventDefault(),!c.dragoverBubble&&n.stopPropagation()),!C.animated&&(H=!0,f&&!c.disabled&&(m?y||(s=!A.contains(C)):j===this||(f.lastPullMode=B.checkPull(this,f,C,n))&&h.checkPut(this,f,C,n))&&(void 0===n.rootEl||n.rootEl===this.el))){if(at(n,c,this.el),et)return;if(r=i(n.target,c.draggable,l),o=C.getBoundingClientRect(),j!==this&&(j=this,v=!0),s)return e(f,!0),S=A,void(M||E?A.insertBefore(C,M||E):y||A.appendChild(C));if(0===l.children.length||l.children[0]===T||l===n.target&&g(l,n)){if(0!==l.children.length&&l.children[0]!==T&&l===n.target&&(r=l.lastElementChild),r){if(r.animated)return;a=r.getBoundingClientRect()}e(f,m),!1!==d(A,l,C,o,r,a,n)&&(C.contains(l)||(l.appendChild(C),S=l),this._animate(o,C),r&&this._animate(a,r))}else if(r&&!r.animated&&r!==C&&void 0!==r.parentNode[G]){N!==r&&(N=r,_=u(r),I=u(r.parentNode)),a=r.getBoundingClientRect();var b=a.right-a.left,x=a.bottom-a.top,w=V.test(_.cssFloat+_.display)||"flex"==I.display&&0===I["flex-direction"].indexOf("row"),k=r.offsetWidth>C.offsetWidth,O=r.offsetHeight>C.offsetHeight,P=(w?(n.clientX-a.left)/b:(n.clientY-a.top)/x)>.5,L=r.nextElementSibling,D=!1;if(w){var R=C.offsetTop,F=r.offsetTop;D=R===F?r.previousElementSibling===C&&!k||P&&k:r.previousElementSibling===C||C.previousElementSibling===r?(n.clientY-a.top)/x>.5:F>R}else v||(D=L!==C&&!O||P&&O);var U=d(A,l,C,o,r,a,n,D);!1!==U&&(1!==U&&-1!==U||(D=1===U),et=!0,setTimeout(p,30),e(f,m),C.contains(l)||(D&&!L?l.appendChild(C):r.parentNode.insertBefore(C,D?L:r)),S=C.parentNode,this._animate(o,C),this._animate(a,r))}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),u(e,"transition","none"),u(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,u(e,"transition","all "+i+"ms"),u(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){u(e,"transition",""),u(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;s(X,"touchmove",this._onTouchMove),s(X,"pointermove",this._onTouchMove),s(t,"mouseup",this._onDrop),s(t,"touchend",this._onDrop),s(t,"pointerup",this._onDrop),s(t,"touchcancel",this._onDrop),s(t,"pointercancel",this._onDrop),s(t,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;clearInterval(this._loopId),clearInterval(W.pid),clearTimeout(this._dragStartTimer),s(X,"mousemove",this._onTouchMove),this.nativeDraggable&&(s(X,"drop",this),s(i,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(H&&(e.preventDefault(),!n.dropBubble&&e.stopPropagation()),T&&T.parentNode&&T.parentNode.removeChild(T),A!==S&&"clone"===t.active.lastPullMode||M&&M.parentNode&&M.parentNode.removeChild(M),C&&(this.nativeDraggable&&s(C,"dragend",this),f(C),C.style["will-change"]="",l(C,this.options.ghostClass,!1),l(C,this.options.chosenClass,!1),h(this,A,"unchoose",C,A,R),A!==S?(F=v(C,n.draggable))>=0&&(h(null,S,"add",C,A,R,F),h(this,A,"remove",C,A,R,F),h(null,S,"sort",C,A,R,F),h(this,A,"sort",C,A,R,F)):C.nextSibling!==E&&(F=v(C,n.draggable))>=0&&(h(this,A,"update",C,A,R,F),h(this,A,"sort",C,A,R,F)),t.active&&(null!=F&&-1!==F||(F=R),h(this,A,"end",C,A,R,F),this.save()))),this._nulling()},_nulling:function(){A=C=S=T=E=M=O=P=L=U=z=H=F=N=_=j=B=t.active=null,rt.forEach(function(t){t.checked=!0}),rt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":C&&(this._onDragOver(t),o(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,o=n.length,a=this.options;r<o;r++)t=n[r],i(t,a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||m(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,r){var o=n.children[r];i(o,this.options.draggable,n)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return i(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];i[t]=e,"group"===t&&st(i)},destroy:function(){var t=this.el;t[G]=null,s(t,"mousedown",this._onTapStart),s(t,"touchstart",this._onTapStart),s(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(s(t,"dragover",this),s(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),ot.splice(ot.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},a(X,"touchmove",function(e){t.active&&e.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){J={capture:!1,passive:!1}}}))}catch(t){}return t.utils={on:a,off:s,css:u,find:c,is:function(t,e){return!!i(t,e,t)},extend:x,throttle:b,closest:i,toggleClass:l,clone:w,index:v},t.create=function(e,i){return new t(e,i)},t.version="1.6.0",t})}).call(e,i(0))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l),c=i(24),h=n(c),d=function(){function t(){r(this,t),this.dialog=(0,s.default)("#save-route-dialog"),this.routeNameInput=(0,s.default)("#route-name-input"),this.initListeners()}return o(t,[{key:"initListeners",value:function(){var t=this.dialog.find("form").validate({submitHandler:s.default.proxy(this.handleSaveButton,this)}),e=this;this.dialog.on("shown.bs.modal",function(t){e.routeNameInput.focus(),null!==h.default.routeName&&e.routeNameInput.val(h.default.routeName)}),this.dialog.on("hidden.bs.modal",function(i){e.routeNameInput.val(""),e.dialog.find("#route-saved-message").hide(),e.dialog.find("#saving-route-message").show(),e.dialog.find("#save-route-confirm").hide(),e.dialog.find("#route-error-message").hide(),e.dialog.find(".modal-content").show(),e.dialog.find("#save-route-error").hide(),t.resetForm()}),this.dialog.find(".btn-primary").on("click",function(){(0,s.default)("#save-route-dialog").find("form").submit()})}},{key:"show",value:function(){this.dialog.modal("show")}},{key:"handleSaveButton",value:function(t){var e=this.routeNameInput.val().trim();this.dialog.find(".modal-content").hide(),this.dialog.find("#save-route-confirm").show(),e===h.default.routeName?this.saveRoute(h.default.routeId,h.default.routeName):this.saveRoute(-1,e)}},{key:"saveRoute",value:function(t,e){var i={id:t,name:e,waypoints:[]};h.default.getWaypoints().forEach(function(t){var e={name:t.displayName,lat:t.latLng.lat(),lng:t.latLng.lng()};i.waypoints.push(e)});var n=this.dialog;s.default.ajax({type:"POST",url:u.default.USER_ROUTE,data:JSON.stringify(i),contentType:"application/json; charset=utf-8"}).done(function(i){"SUCCESS"===i.result&&(n.find("#saving-route-message").hide(),n.find("#route-saved-message").show(),-1===t&&h.default.updateRoute(i.routeName,e,h.default.getWaypoints()))}).fail(function(){n.find("#saving-route-message").hide(),n.find("#route-error-message").show()}).always(function(){setTimeout(function(){n.modal("hide")},2e3)})}}]),t}();e.default=d},function(t,e,i){"use strict";(function(t){/*!
 * jQuery doTimeout: Like setTimeout, but better! - v1.0 - 3/3/2010
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(t){"$:nomunge";function e(e){function r(){e?s.removeData(e):d&&delete i[d]}function o(){l.id=setTimeout(function(){l.fn()},f)}var a=this,s=void 0,l={},u=e?t.fn:t,c=arguments,h=4,d=c[1],f=c[2],p=c[3];if("string"!=typeof d&&(h--,d=e=0,f=c[1],p=c[2]),e?(s=a.eq(0),s.data(e,l=s.data(e)||{})):d&&(l=i[d]||(i[d]={})),l.id&&clearTimeout(l.id),delete l.id,p)l.fn=function(t){"string"==typeof p&&(p=u[p]),!0!==p.apply(a,n.call(c,h))||t?r():o()},o();else{if(l.fn)return void 0===f?r():l.fn(!1===f),!0;r()}}var i={},n=Array.prototype.slice;t.doTimeout=function(){return e.apply(window,[0].concat(n.call(arguments)))},t.fn.doTimeout=function(){var t=n.call(arguments),i=e.apply(this,["doTimeout"+t[0]].concat(t));return"number"==typeof t[0]||"number"==typeof t[1]?this:i}}(t)}).call(e,i(0))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(74),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){};o.prototype.onPageShow=function(){o.initialized||((new r.default).initialize(),o.initialized=!0)},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=n(r),a=i(1),s=n(a),l=i(3),u=n(l),c=i(5),h=n(c),d=i(31),f=n(d),p=i(75),g=n(p),m=i(21),v=n(m),y=i(32),b=n(y),x=function(){this.dataTable=(0,o.default)("#supercharger-data-table"),this.dataTableBody=this.dataTable.find("tbody"),this.dataTableBody.click(o.default.proxy(this.handleDataClick,this)),this.dataTableRender=new g.default};x.prototype.initialize=function(){this.dataTableRender.render(),this.initializeRegionCountryControl()},x.prototype.initializeRegionCountryControl=function(){this.control=new f.default((0,o.default)("#data-filter-div"),this.dataTable.find("tbody"),o.default.proxy(this.handleRegionCountryChange,this),h.default.dataPageRegion,h.default.dataPageCountry)},x.prototype.handleRegionCountryChange=function(t,e){return u.default.sendEvent("data","select-"+t,e),h.default.setRegionCountry("data","region",this.control.getRegion()),h.default.setRegionCountry("data","country",this.control.getCountry()),(new o.default.Deferred).resolve()},x.prototype.handleDataClick=function(t){if(!b.default.isTextSelected()){var e=(0,o.default)(t.target).closest("tr").data("siteid");s.default.dispatch(v.default.show_location,e)}},e.default=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return t.urlDiscuss?o(u.default.DISCUSS+"?siteId="+t.id,"thread"):o(u.default.DEFAULT_DISCUSS_URL,"forum")}function o(t,e){return"<a href='"+t+"'>"+e+"</a>"}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=n(a),l=i(2),u=n(l),c=i(12),h=n(c),d=i(6),f=n(d),p=i(7),g=n(p),m=i(15),v=n(m),y=i(9),b=n(y);i(76);var x=function(){this.dataTable=(0,s.default)("#supercharger-data-table")};x.prototype.render=function(){this.appendTableContent(),this.setupTableSortPlugin()},x.prototype.appendTableContent=function(){var t=this.dataTable.find("tbody");(new g.default).withPredicate(b.default.NOT_USER_ADDED).withSort(v.default.BY_OPENED_DATE_DESC).iterate(function(e){var i=e.address;t.append("<tr data-siteId='"+e.id+"' data-country='"+e.address.country+"' data-region='"+e.address.region+"'><td>"+e.displayName+"</td><td>"+i.street+"</td><td>"+i.city+"</td><td>"+h.default.emptyIfNull(i.state)+"</td><td>"+h.default.emptyIfNull(i.zip)+"</td><td>"+i.country+"</td><td>"+e.formatStalls()+"</td><td class='gps'>"+e.formatLocation()+"</td><td class='gps number'>"+e.formatElevationNoUnits(f.default.M)+"</td><td class='"+e.status.value+"'>"+e.status.displayName+"</td><td>"+e.formatDateOpened()+"</td><td class='link'>"+o(u.default.TESLA_WEB_PAGE+e.locationId,"SC")+"</td><td class='link'>"+r(e)+"</td></tr>")})},x.prototype.setupTableSortPlugin=function(){this.dataTable.stupidtable({commaInteger:function(t,e){return parseInt(t.replace(/,/g,""))-parseInt(e.replace(/,/g,""))}}),this.dataTable.find("th.data-open-date").eq(0).click(),this.dataTable.on("aftertablesort",function(t,e){var i=(0,s.default)(this).find("th");i.find(".arrow").remove();var n=s.default.fn.stupidtable.dir,r=e.direction===n.ASC?"&uarr;":"&darr;";i.eq(e.column).append('<span class="arrow">&nbsp;'+r+"</span>")})},e.default=x},function(t,e,i){"use strict";(function(t){!function(t){t.fn.stupidtable=function(e){return this.each(function(){var i=t(this);e=e||{},e=t.extend({},t.fn.stupidtable.default_sort_fns,e),i.data("sortFns",e),i.on("click.stupidtable","thead th",function(){t(this).stupidsort()})})},t.fn.stupidsort=function(e){var i=t(this),n=0,r=t.fn.stupidtable.dir,o=i.closest("table"),a=i.data("sort")||null;if(null!==a){i.parents("tr").find("th").slice(0,t(this).index()).each(function(){var e=t(this).attr("colspan")||1;n+=parseInt(e,10)});var s;if(1==arguments.length?s=e:(s=e||i.data("sort-default")||r.ASC,i.data("sort-dir")&&(s=i.data("sort-dir")===r.ASC?r.DESC:r.ASC)),i.data("sort-dir")!==s)return i.data("sort-dir",s),o.trigger("beforetablesort",{column:n,direction:s}),o.css("display"),setTimeout(function(){var e=[],l=o.data("sortFns"),u=l[a],c=o.children("tbody").children("tr");c.each(function(i,r){var o=t(r).children().eq(n),a=o.data("sort-value");if(void 0===a){var s=o.text();o.data("sort-value",s),a=s}e.push([a,r])}),e.sort(function(t,e){return u(t[0],e[0])}),s!=r.ASC&&e.reverse(),c=t.map(e,function(t){return t[1]}),o.children("tbody").append(c),o.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),i.data("sort-dir",s).addClass("sorting-"+s),o.trigger("aftertablesort",{column:n,direction:s}),o.css("display")},10),i}},t.fn.updateSortVal=function(e){var i=t(this);return i.is("[data-sort-value]")&&i.attr("data-sort-value",e),i.data("sort-value",e),i},t.fn.stupidtable.dir={ASC:"asc",DESC:"desc"},t.fn.stupidtable.default_sort_fns={int:function(t,e){return parseInt(t,10)-parseInt(e,10)},float:function(t,e){return parseFloat(t)-parseFloat(e)},string:function(t,e){return t.toString().localeCompare(e.toString())},"string-ins":function(t,e){return t=t.toString().toLocaleLowerCase(),e=e.toString().toLocaleLowerCase(),t.localeCompare(e)}}}(t)}).call(e,i(0))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(8),s=n(a),l=i(78),u=n(l),c=i(79),h=n(c),d=i(80),f=n(d),p=i(81),g=n(p),m=i(82),v=n(m),y=i(83),b=n(y),x=i(84),w=n(x),k=function(){function t(){r(this,t)}return o(t,[{key:"onPageShow",value:function(){this.initialized||((new u.default).draw(),(new h.default).draw(),(new w.default).draw(),(new g.default).draw(),(new f.default).draw(),new v.default(s.default.COUNTRY_USA).draw(),new v.default(s.default.COUNTRY_CHINA).draw(),(new b.default).draw(),this.initialized=!0)}}]),t}();e.default=k},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(15),s=n(a),l=i(9),u=n(l),c=i(33),h=n(c),d=i(7),f=n(d),p=i(11),g=n(p),m=function(){function t(){r(this,t)}return o(t,[{key:"draw",value:function(){function t(t,e){t.length>0&&t[t.length-1][0]===e&&t.pop()}var e=[],i=0;(new f.default).withPredicate(u.default.IS_OPEN).withPredicate(u.default.IS_COUNTED).withSort(s.default.BY_OPENED_DATE).iterate(function(n){var r=n.dateOpened,o=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate());i++,t(e,o),e.push([o,i])});var n=h.default.buildVerticalYearPlotLines();g.default.chart("total-open-world-line-chart",{chart:{zoomType:"x",type:"spline"},credits:{enabled:!1},title:{text:"Open Superchargers"},subtitle:{text:null},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b %e",year:"%b"},plotLines:n},yAxis:{title:{text:"Open Count"},min:0},tooltip:{formatter:function(){return"<b>World Wide</b><br/>"+g.default.dateFormat("%b %e %Y",this.x)+"<br/>superchargers: "+this.y}},series:[{data:e,color:"#B22222",lineWidth:1,marker:{enabled:!0,radius:3,fillColor:"#B22222"}}]})}}]),t}();e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(15),s=n(a),l=i(9),u=n(l),c=i(7),h=n(c),d=i(8),f=n(d),p=i(33),g=n(p),m=i(11),v=n(m),y=function(){function t(){r(this,t)}return o(t,[{key:"draw",value:function(){function t(t,e){t.length>0&&t[t.length-1][0]===e&&t.pop()}var e=[],i=[],n=[],r=0,o=0,a=0;(new h.default).withPredicate(u.default.IS_OPEN).withPredicate(u.default.IS_COUNTED).withSort(s.default.BY_OPENED_DATE).iterate(function(s){var l=s.dateOpened,u=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate());s.address.isNorthAmerica()?(r++,t(e,u),e.push([u,r])):s.address.isAsia()?(o++,t(i,u),i.push([u,o])):s.address.isEurope()&&(a++,t(n,u),n.push([u,a]))});var l=g.default.buildVerticalYearPlotLines();v.default.chart("total-open-region-line-chart",{chart:{zoomType:"x",type:"spline"},credits:{enabled:!1},title:{text:"Open Superchargers by Region"},subtitle:{text:null},legend:{borderWidth:0,enabled:!0},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b %e",year:"%b"},plotLines:l},yAxis:{title:{text:"Open Count"},min:0},tooltip:{formatter:function(){return"<b>"+this.series.name+"</b><br/>"+v.default.dateFormat("%b %e %Y",this.x)+"<br/>superchargers: "+this.y}},series:[{name:f.default.REGION_NORTH_AMERICA,data:e,lineWidth:1,marker:{radius:3}},{name:f.default.REGION_EUROPE,data:n,lineWidth:1,marker:{radius:3}},{name:f.default.REGION_ASIA_PACIFIC,data:i,lineWidth:1,marker:{radius:3}}]})}}]),t}();e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(8),u=n(l),c=i(18),h=n(c),d=i(25),f=n(d),p=i(11),g=n(p),m=function(){function t(){r(this,t)}return o(t,[{key:"draw",value:function(){var t=h.default.getCountListByCountry(),e=[],i=[],n=[],r=[];s.default.each(t,function(t,o){o.key!==u.default.COUNTRY_WORLD&&o.key!==u.default.COUNTRY_USA&&o.key!==u.default.COUNTRY_CHINA&&(e.push(o.key),i.push(o.open),n.push(o.construction),r.push(o.permit))}),g.default.chart("chart-country-bar",{chart:{type:"column"},credits:{enabled:!1},title:{text:'Superchargers per Country <span style="color:#aaaaaa">(excluding USA/China)</span>'},subtitle:{text:null},legend:{enabled:!0,borderWidth:0,reversed:!0},xAxis:{categories:e},yAxis:{title:{text:"Supercharger Count"},tickInterval:5,allowDecimals:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Permit",data:r,color:f.default.STATUS_PERMIT},{name:"Construction",data:n,color:f.default.STATUS_CONSTRUCTION},{name:"Open",data:i,color:f.default.STATUS_OPEN}]})}}]),t}();e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(8),u=n(l),c=i(18),h=n(c),d=i(11),f=n(d),p=function(){function t(){r(this,t)}return o(t,[{key:"draw",value:function(){f.default.getOptions().plotOptions.pie.colors=function(){var t=[],e=void 0;for(e=0;e<10;e+=1)t.push(f.default.Color("#FF6666").brighten((e-3)/7).get());return t}();var t=h.default.getCountListByCountry(),e=[],i=0,n=0;s.default.each(t,function(t,r){r.key!==u.default.COUNTRY_WORLD&&(n++,n<=5?e.push([r.key,r.open]):i+=r.open)}),e.push(["Other",i]),f.default.chart("chart-country-pie",{credits:{enabled:!1},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:'Open Superchargers per Country <span style="color:#aaaaaa">(top five)</span>'},tooltip:{pointFormat:"{series.name}: {point.y}, <b>{point.percentage:.0f}%</b>"},subtitle:{text:null},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>",style:{color:f.default.theme&&f.default.theme.contrastTextColor||"black"},connectorColor:"silver"}}},series:[{type:"pie",name:"Open",data:e}]})}}]),t}();e.default=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(8),u=n(l),c=i(18),h=n(c),d=i(11),f=n(d),p=i(25),g=n(p),m=function(){function t(e){r(this,t),this.country=e}return o(t,[{key:"draw",value:function(){var t=h.default.getCountListByState(this.country),e=[],i=[],n=[],r=[];s.default.each(t,function(t,o){o.key!==u.default.COUNTRY_WORLD&&(e.push(o.key),i.push(o.open),n.push(o.construction),r.push(o.permit))});var o="Superchargers per "+(this.country===u.default.COUNTRY_CHINA?"Province":"State")+": "+this.country;f.default.chart("open-per-state-chart-"+this.country,{chart:{type:"column"},credits:{enabled:!1},title:{text:o},subtitle:{text:null},legend:{enabled:!0,borderWidth:0,reversed:!0},xAxis:{categories:e},yAxis:{title:{text:"Supercharger Count"},tickInterval:5,allowDecimals:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Permit",data:r,color:g.default.STATUS_PERMIT},{name:"Construction",data:n,color:g.default.STATUS_CONSTRUCTION},{name:"Open",data:i,color:g.default.STATUS_OPEN}]})}}]),t}();e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(15),s=n(a),l=i(9),u=n(l),c=i(25),h=n(c),d=i(7),f=n(d),p=i(11),g=n(p),m=function(){function t(){r(this,t)}return o(t,[{key:"draw",value:function(){var e=[],i=[],n=[];(new f.default).withPredicate(u.default.or(u.default.IS_CONSTRUCTION,u.default.IS_PERMIT)).withSort(s.default.BY_STATUS_DAYS).iterate(function(t){e.push(t.displayName),t.isConstruction()?(i.push(t.statusDays),n.push(0)):(i.push(0),n.push(t.statusDays))}),g.default.chart("status-days-bar-chart",t._options(e,i,n))}}],[{key:"_options",value:function(t,e,i){return{chart:{type:"bar",height:1e3},credits:{enabled:!1},title:{text:"Construction/Permit Status Days"},subtitle:{text:null},legend:{enabled:!0,borderWidth:0,reversed:!0},xAxis:{categories:t},yAxis:{title:{text:"Days"},tickInterval:30,allowDecimals:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Permit",data:i,color:h.default.STATUS_PERMIT},{name:"Construction",data:e,color:h.default.STATUS_CONSTRUCTION}]}}}]),t}();e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(11),s=n(a),l=i(2),u=n(l),c=i(0),h=n(c),d=i(27),f=n(d),p=function(){function t(){r(this,t)}return o(t,[{key:"draw",value:function(){h.default.getJSON(u.default.SITE_STALL_COUNT).done(h.default.proxy(this.drawImpl,this))}},{key:"drawImpl",value:function(t){var e=[];t.forEach(function(t){var i=f.default.fromString(t.date),n=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate());e.push([n,t.stallCount])}),s.default.chart("open-stalls-world-line-chart",{chart:{zoomType:"x",type:"spline"},credits:{enabled:!1},title:{text:"Open Superchargers <b>Stalls</b> Globally"},subtitle:{text:null},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%b %e",week:"%b %e",month:"%b %e",year:"%b %e"}},yAxis:{title:{text:"Open Stall Count"}},tooltip:{formatter:function(){return"<b>Open Stalls</b><br/>"+s.default.dateFormat("%b %e %Y",this.x)+"<br/>"+this.y}},series:[{data:e,color:"#B22222",lineWidth:1,marker:{enabled:!0,radius:3,fillColor:"#B22222"}}]})}}]),t}();e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(86),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){};o.prototype.onPageShow=function(){if(!o.initialized){(new r.default).initialize(),o.initialized=!0}},e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=n(r),a=i(1),s=n(a),l=i(3),u=n(l),c=i(2),h=n(c),d=i(5),f=n(d),p=i(31),g=n(p),m=i(19),v=n(m),y=i(21),b=n(y),x=i(32),w=n(x),k=function(){this.changesTable=(0,o.default)("#changes-table"),this.changesTableBody=this.changesTable.find("tbody"),this.loadMoreButton=(0,o.default)("#changes-load-more-button"),this.loadMoreButton.click(o.default.proxy(this.loadAllChanges,this)),this.changesTableBody.click(o.default.proxy(this.handleChangeClick,this)),this.allLoaded=!1};k.prototype.initialize=function(){var t=this;this.loadInitial().done(function(){t.initRegionCountryControl()})},k.prototype.initRegionCountryControl=function(){this.control=new g.default((0,o.default)("#changes-filter-div"),this.changesTableBody,o.default.proxy(this.handleRegionCountryChange,this),f.default.changesPageRegion,f.default.changesPageCountry)},k.prototype.handleRegionCountryChange=function(t,e){u.default.sendEvent("changes","select-"+t,e);var i=this.loadAllChanges(),n=this.control;return i.done(function(){f.default.setRegionCountry("changes","region",n.getRegion()),f.default.setRegionCountry("changes","country",n.getCountry())}),i},k.prototype.loadInitial=function(){return f.default.isChangesPageRegionOrCountrySet()?this.loadAllChanges():this.loadPartialChanges()},k.prototype.loadPartialChanges=function(){return o.default.getJSON(h.default.CHANGES+"?count=75").done(o.default.proxy(this.changesServiceCallback,this)).done(o.default.proxy(this.showLoadAllButton,this))},k.prototype.loadAllChanges=function(){return this.allLoaded?(new o.default.Deferred).resolve():(this.allLoaded=!0,this.loadMoreButton.hide(),o.default.getJSON(h.default.CHANGES,o.default.proxy(this.changesServiceCallback,this)))},k.prototype.showLoadAllButton=function(){this.loadMoreButton.show()},k.prototype.handleChangeClick=function(t){if(!w.default.isTextSelected()){var e=(0,o.default)(t.target).closest("tr").data("siteid");s.default.dispatch(b.default.show_location,e)}},k.prototype.changesServiceCallback=function(t){this.changesTableBody.html("");var e=this.changesTableBody;o.default.each(t,function(t,i){var n="OPEN"===i.siteStatus?"success":"",r=v.default.fromString(i.siteStatus).displayName;e.append("<tr class='"+n+"' data-siteId='"+i.siteId+"' data-country='"+i.country+"' data-region='"+i.region+"'><td>"+i.dateFormatted+"</td><td>"+i.changeType.toLowerCase()+"</td><td>"+i.siteName+"</td><td class='"+i.siteStatus+"'>"+r+"</td></tr>")})},e.default=k},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l),c=i(88),h=n(c),d=i(102),f=n(d),p=function(){function t(){r(this,t)}return o(t,[{key:"onPageShow",value:function(){t.initialized||(this.versionContainer=(0,s.default)("#page-about-version-container"),this.emailContainer=(0,s.default)("#page-about-email-container"),this.loadVersionInfo(),this.insertEmailAddress(),t.initialized=!0,new h.default)}},{key:"loadVersionInfo",value:function(){s.default.getJSON(u.default.DB_INFO,s.default.proxy(this.insertVersionInfo,this))}},{key:"insertVersionInfo",value:function(t){var e=f.default.version;this.versionContainer.append("Version <b>"+e+"</b>. "),this.versionContainer.append("Database last updated <b>"+t.lastModifiedString+"</b>")}},{key:"insertEmailAddress",value:function(t){this.emailContainer.html("<b>map@supercharge.info</b>")}}]),t}();e.default=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l);i(89);var c=function(){function t(){r(this,t),this.feedbackForm=(0,s.default)("#feedback-form").find("form"),this.feedbackValidator=this.feedbackForm.validate({submitHandler:s.default.proxy(this.handleSubmit,this)}),(0,s.default)("#feedback-dialog").on("hidden.bs.modal",s.default.proxy(this.resetForm,this))}return o(t,[{key:"resetForm",value:function(){(0,s.default)("#feedback-confirm").hide(),(0,s.default)("#feedback-error").hide(),(0,s.default)("#feedback-form").find(".form-control").val(""),(0,s.default)("#feedback-input").show(),(0,s.default)("#feedback-submit").show(),this.feedbackValidator.resetForm()}},{key:"handleSubmit",value:function(t){var e=this.feedbackForm.find("textarea").val();s.default.ajax({type:"POST",url:u.default.FEEDBACK+"/insert",data:{message:e},success:function(t){(0,s.default)("#feedback-confirm").show(),(0,s.default)("#feedback-input").hide(),(0,s.default)("#feedback-submit").hide(),(0,s.default)("#feedback-error").hide()},error:function(){(0,s.default)("#feedback-error").show()}})}}]),t}();e.default=c},function(t,e,i){i(90),i(91),i(92),i(93),i(94),i(95),i(96),i(97),i(98),i(99),i(100),i(101)},function(t,e,i){(function(t){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.button"),o="object"==typeof e&&e;r||n.data("bs.button",r=new i(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[r]()),setTimeout(t.proxy(function(){n[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;r||n.data("bs.carousel",r=new i(this,o)),"number"==typeof e?r.to(e):a?r[a]():o.interval&&r.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n="prev"==t?-1:1,r=(i+n)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),o=n||this.getItemForDirection(e,r),a=this.interval,s="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var r=function(i){var n,r=t(this),o=t(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"))&&e.transitioning)){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),e||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var r=t(n);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=t(this);r.attr("data-target")||n.preventDefault();var o=e(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();i.call(o,s)})}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(r).remove(),t(o).each(function(){var n=t(this),r=e(n),o={relatedTarget:this};r.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(r[0],i.target)||(r.trigger(i=t.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),a=o.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var s={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=e(n),a=r.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&r.find(o).trigger("focus"),n.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e,n){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},i.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new i(this,a)),"string"==typeof e?o[e](n):a.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),r=n.attr("href"),o=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,a,this)})}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||n.data("bs.tooltip",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+d>p.bottom?"top":"top"==s&&c.top-d<p.top?"bottom":"right"==s&&c.right+h>p.width?"left":"left"==s&&c.left-h<p.left?"right":s,o.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,c,h,d);this.applyPlacement(g,s);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),r=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;"top"==i&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(i,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),d=h?2*c.left-r+l:2*c.top-o+u,f=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][f],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&i instanceof window.SVGElement,a=n?{top:0,left:0}:o?null:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,l,a)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+n;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+i;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&((i=t(e.currentTarget).data("bs."+this.type))||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.popover"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||n.data("bs.popover",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),o="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,o)),"string"==typeof i&&r[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[i]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof e&&r[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(n);this.activate(e.closest("li"),i),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(e,n,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=n.find("> .active"),s=r&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var r=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(t)}).call(e,i(0))},function(t,e,i){(function(t){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.affix"),o="object"==typeof e&&e;r||n.data("bs.affix",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return r<i&&"top";if("bottom"==this.affixed)return null!=i?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-n)&&"bottom";var s=null==this.affixed,l=s?r:o.top,u=s?a:e;return null!=i&&r<=i?"top":null!=n&&l+u>=t-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,r=n.top,o=n.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(o=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var s=this.getState(a,e,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(t)}).call(e,i(0))},function(t,e){t.exports={name:"tesla-supercharger-map",version:"2.8.8",description:"map",main:"main.js",scripts:{test:"mocha --opts src/test/mocha.opts src/test",package:"NODE_ENV=production rm -rf webcontent-built/* && webpack --progress --optimize-minimize",start:"node_modules/.bin/webpack-dev-server"},author:"",license:"ISC",devDependencies:{"babel-core":"6.25.0","babel-loader":"7.1.1","babel-preset-env":"1.6.0","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.4","extract-text-webpack-plugin":"^3.0.0","file-loader":"^0.11.2","html-minifier":"^3.5.2","html-webpack-plugin":"^2.29.0",mocha:"^3.4.2","style-loader":"^0.18.2","url-loader":"^0.5.9",webpack:"3.3.0","is-windows-bash":"^1.0.3","webpack-dev-server":"^2.5.1"},dependencies:{bootstrap:"3.3.7",highcharts:"^5.0.12",jquery:"3.2.1","jquery-validation":"^1.16.0","jquery.browser":"^0.1.0",sortablejs:"^1.6.0","spectrum-colorpicker":"^1.8.0"}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(104),u=n(l),c=i(5),h=n(c),d=i(1),f=n(d),p=i(22),g=n(p),m=i(2),v=n(m),y=i(34),b=n(y),x=i(10),w=n(x),k=i(6),C=n(k),S=i(105),T=n(S),M=i(35),A=n(M),E=function(){function t(){r(this,t),f.default.addListener(g.default.login_check_success,this.handleLoginSuccess,this),f.default.addListener(A.default.save_pressed,this.onSaveButton,this),this.view=new T.default}return o(t,[{key:"onPageShow",value:function(){this.initialized||(new u.default,this.initialized=!0),this.view.setUnit(h.default.getUnit().getCode());var t=this.view;this.view.setMarkerCount(h.default.customMarkers.length),s.default.getJSON(v.default.USER_ROUTE_COUNT).done(function(e){return t.setRouteCount(e.count)})}},{key:"handleLoginSuccess",value:function(t,e){this.view.errorsClear(),this.view.saveButtonDisable(),this.view.setUsername(e.username),this.view.setEmail(e.email),this.view.setDescription(e.description),this.view.setCreationDate(e.creationDate)}},{key:"onSaveButton",value:function(t,e){var i=this;void 0!==e.unit&&w.default.setDisplayUnit(C.default.fromString(e.unit)),s.default.ajax(v.default.USER_EDIT,{data:JSON.stringify(e),contentType:"application/json",type:"POST"}).done(function(t){return(new b.default).loginCheck()}).fail(function(t,e,n){i.view.errorsSet(t.responseJSON.messages)})}}]),t}();e.default=E},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(2),s=n(a),l=i(0),u=n(l),c=function(){function t(){r(this,t),this.dialog=(0,u.default)("#change-password-dialog"),this.form=(0,u.default)("#change-password-form"),this.formContainer=(0,u.default)("#change-password-form-container"),this.errorBox=(0,u.default)("#change-password-error"),this.confirmMessage=(0,u.default)("#change-password-confirm"),this.addListeners()}return o(t,[{key:"addListeners",value:function(){this.validator=this.form.validate({submitHandler:u.default.proxy(this.handleSubmit,this),rules:{confirm_password:{equalTo:"#password"}}}),this.dialog.on("shown.bs.modal",u.default.proxy(this.onDialogOpen,this)),this.dialog.on("hidden.bs.modal",u.default.proxy(this.onDialogClose,this))}},{key:"onDialogOpen",value:function(){}},{key:"onDialogClose",value:function(){this.dialog.find("input[type=password]").val(""),this.errorBox.hide(),this.confirmMessage.hide(),this.formContainer.show(),this.validator.resetForm()}},{key:"handleSubmit",value:function(t){var e=this,i=this.form.find("input[name='password']").val();u.default.getJSON(s.default.PASSWORD_CHANGE+"?password="+i).done(u.default.proxy(this.doneSubmit,this)).fail(function(t,i,n){e.errorBox.html(""),t.responseJSON.messages.forEach(function(t){return e.errorBox.show().append(t+"<br/>")})})}},{key:"doneSubmit",value:function(t){var e=this;this.formContainer.hide(),this.confirmMessage.show(),setTimeout(function(){e.dialog.modal("hide")},2e3)}}]),t}();e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a);i(106);var l=i(1),u=n(l),c=i(35),h=n(c),d=function(){function t(){r(this,t),this.form=(0,s.default)("#profile-form"),this.errorBox=(0,s.default)("#profile-error-box"),this.saveButton=(0,s.default)("#profile-save-changes-button"),this.origData={username:null,email:null,unit:null,description:null},this.infoCreationDate=(0,s.default)("#profile-data-creation-date"),this.infoMarkerCount=(0,s.default)("#profile-data-marker-count"),this.infoRouteCount=(0,s.default)("#profile-data-route-count");var e=this;this.saveButton.click(function(t){return e.onSaveButton(t)}),this.form.find("input").on("change click keyup input paste",function(){return e.onInputChange()}),this.form.find("textarea").on("change click keyup input paste",function(){return e.onInputChange()})}return o(t,[{key:"onInputChange",value:function(){this.valuesHaveChanged()?this.saveButtonEnable():this.saveButtonDisable()}},{key:"onSaveButton",value:function(t){t.preventDefault();var e={username:this.getUsername(),email:this.getEmail(),unit:this.getUnit(),description:this.getDescription()};u.default.dispatch(h.default.save_pressed,e)}},{key:"errorsClear",value:function(){this.errorBox.html(""),this.errorBox.hide()}},{key:"errorsSet",value:function(t){var e=this;this.errorBox.html("").show(),t.forEach(function(t){e.errorBox.append(t+" <br/><br/>")})}},{key:"saveButtonEnable",value:function(){this.saveButton.prop("disabled",!1)}},{key:"saveButtonDisable",value:function(){this.saveButton.prop("disabled",!0)}},{key:"setCreationDate",value:function(t){this.infoCreationDate.html(t)}},{key:"setMarkerCount",value:function(t){this.infoMarkerCount.html(t)}},{key:"setRouteCount",value:function(t){this.infoRouteCount.html(t)}},{key:"setEmail",value:function(t){this.origData.email=t,this.form.find("input[name=email]").val(t)}},{key:"setUsername",value:function(t){this.origData.username=t,this.form.find("input[name=username]").val(t)}},{key:"setUnit",value:function(t){this.origData.unit=t,this.form.find("input[name=unit][value="+t+"]").attr("checked",!0)}},{key:"setDescription",value:function(t){this.origData.description=t,this.form.find("textarea[name=description]").val(t)}},{key:"getEmail",value:function(){return this.form.find("input[name=email]").val()}},{key:"getUsername",value:function(){return this.form.find("input[name=username]").val()}},{key:"getUnit",value:function(){return this.form.find("input[name=unit]:checked").val()}},{key:"getDescription",value:function(){return this.form.find("textarea[name=description]").val()}},{key:"valuesHaveChanged",value:function(){return this.origData.email!==this.getEmail()||this.origData.username!==this.getUsername()||this.origData.unit!==this.getUnit()||this.origData.description!==this.getDescription()}}]),t}();e.default=d},function(t,e,i){var n,r,o;/*!
  SerializeJSON jQuery plugin.
  https://github.com/marioizquierdo/jquery.serializeJSON
  version 2.8.1 (Dec, 2016)

  Copyright (c) 2012, 2017 Mario Izquierdo
  Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
  and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/
!function(a){r=[i(0)],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(function(t){"use strict";t.fn.serializeJSON=function(e){var i,n,r,o,a,s,l,u,c,h,d,f,p;return i=t.serializeJSON,n=this,r=i.setupOpts(e),o=n.serializeArray(),i.readCheckboxUncheckedValues(o,r,n),a={},t.each(o,function(t,e){s=e.name,l=e.value,c=i.extractTypeAndNameWithNoType(s),h=c.nameWithNoType,d=c.type,d||(d=i.attrFromInputWithName(n,s,"data-value-type")),i.validateType(s,d,r),"skip"!==d&&(f=i.splitInputNameIntoKeysArray(h),u=i.parseValue(l,s,d,r),(p=!u&&i.shouldSkipFalsy(n,s,h,d,r))||i.deepSet(a,f,u,r))}),a},t.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,skipFalsyValuesForTypes:[],skipFalsyValuesForFields:[],customTypes:{},defaultTypes:{string:function(t){return String(t)},number:function(t){return Number(t)},boolean:function(t){return-1===["false","null","undefined","","0"].indexOf(t)},null:function(t){return-1===["false","null","undefined","","0"].indexOf(t)?t:null},array:function(t){return JSON.parse(t)},object:function(t){return JSON.parse(t)},auto:function(e){return t.serializeJSON.parseValue(e,null,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})},skip:null},useIntKeysAsArrayIndex:!1},setupOpts:function(e){var i,n,r,o,a,s;s=t.serializeJSON,null==e&&(e={}),r=s.defaultOptions||{},n=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","skipFalsyValuesForTypes","skipFalsyValuesForFields","customTypes","defaultTypes","useIntKeysAsArrayIndex"];for(i in e)if(-1===n.indexOf(i))throw new Error("serializeJSON ERROR: invalid option '"+i+"'. Please use one of "+n.join(", "));return o=function(t){return!1!==e[t]&&""!==e[t]&&(e[t]||r[t])},a=o("parseAll"),{checkboxUncheckedValue:o("checkboxUncheckedValue"),parseNumbers:a||o("parseNumbers"),parseBooleans:a||o("parseBooleans"),parseNulls:a||o("parseNulls"),parseWithFunction:o("parseWithFunction"),skipFalsyValuesForTypes:o("skipFalsyValuesForTypes"),skipFalsyValuesForFields:o("skipFalsyValuesForFields"),typeFunctions:t.extend({},o("defaultTypes"),o("customTypes")),useIntKeysAsArrayIndex:o("useIntKeysAsArrayIndex")}},parseValue:function(e,i,n,r){var o,a;return o=t.serializeJSON,a=e,r.typeFunctions&&n&&r.typeFunctions[n]?a=r.typeFunctions[n](e):r.parseNumbers&&o.isNumeric(e)?a=Number(e):!r.parseBooleans||"true"!==e&&"false"!==e?r.parseNulls&&"null"==e&&(a=null):a="true"===e,r.parseWithFunction&&!n&&(a=r.parseWithFunction(a,i)),a},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},optionKeys:function(t){if(Object.keys)return Object.keys(t);var e,i=[];for(e in t)i.push(e);return i},readCheckboxUncheckedValues:function(e,i,n){var r,o,a,s;null==i&&(i={}),t.serializeJSON,r="input[type=checkbox][name]:not(:checked):not([disabled])",o=n.find(r).add(n.filter(r)),o.each(function(n,r){if(a=t(r),s=a.attr("data-unchecked-value"),null==s&&(s=i.checkboxUncheckedValue),null!=s){if(r.name&&-1!==r.name.indexOf("[]["))throw new Error("serializeJSON ERROR: checkbox unchecked values are not supported on nested arrays of objects like '"+r.name+"'. See https://github.com/marioizquierdo/jquery.serializeJSON/issues/67");e.push({name:r.name,value:s})}})},extractTypeAndNameWithNoType:function(t){var e;return(e=t.match(/(.*):([^:]+)$/))?{nameWithNoType:e[1],type:e[2]}:{nameWithNoType:t,type:null}},shouldSkipFalsy:function(e,i,n,r,o){var a=t.serializeJSON,s=a.attrFromInputWithName(e,i,"data-skip-falsy");if(null!=s)return"false"!==s;var l=o.skipFalsyValuesForFields;if(l&&(-1!==l.indexOf(n)||-1!==l.indexOf(i)))return!0;var u=o.skipFalsyValuesForTypes;return null==r&&(r="string"),!(!u||-1===u.indexOf(r))},attrFromInputWithName:function(t,e,i){var n,r,o;return n=e.replace(/(:|\.|\[|\]|\s)/g,"\\$1"),r='[name="'+n+'"]',o=t.find(r).add(t.filter(r)),o.attr(i)},validateType:function(e,i,n){var r,o;if(o=t.serializeJSON,r=o.optionKeys(n?n.typeFunctions:o.defaultOptions.defaultTypes),i&&-1===r.indexOf(i))throw new Error("serializeJSON ERROR: Invalid type "+i+" found in input name '"+e+"', please use one of "+r.join(", "));return!0},splitInputNameIntoKeysArray:function(e){var i;return t.serializeJSON,i=e.split("["),i=t.map(i,function(t){return t.replace(/\]/g,"")}),""===i[0]&&i.shift(),i},deepSet:function(e,i,n,r){var o,a,s,l,u,c;if(null==r&&(r={}),c=t.serializeJSON,c.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!i||0===i.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");o=i[0],1===i.length?""===o?e.push(n):e[o]=n:(a=i[1],""===o&&(l=e.length-1,u=e[l],o=c.isObject(u)&&(c.isUndefined(u[a])||i.length>2)?l:l+1),""===a?!c.isUndefined(e[o])&&t.isArray(e[o])||(e[o]=[]):r.useIntKeysAsArrayIndex&&c.isValidArrayIndex(a)?!c.isUndefined(e[o])&&t.isArray(e[o])||(e[o]=[]):!c.isUndefined(e[o])&&c.isObject(e[o])||(e[o]={}),s=i.slice(1),c.deepSet(e[o],s,n,r))}}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),l=i(21),u=n(l),c=i(0),h=n(c),d=i(26),f=n(d),p=i(14),g=n(p),m=i(4),v=n(m),y=function(){function t(){r(this,t),s.default.addListener(u.default.show_location,this.showSite,this)}return o(t,[{key:"showSite",value:function(t,e){s.default.dispatch("nav-change-page-event","map");var i=g.default.getById(e);h.default.doTimeout(75,function(){return!f.default.initComplete||(s.default.dispatch(u.default.pan_zoom,{latLng:i.location,zoom:10}),h.default.doTimeout(75,function(){return!v.default.isNotNullOrUndef(i.marker)||(new google.maps.event.trigger(i.marker,"click"),!1)}),!1)})}}]),t}();e.default=y},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l),c=i(109),h=n(c),d=function(){function t(){r(this,t),this.featureDialog=new h.default}return o(t,[{key:"doCheck",value:function(){s.default.getJSON(u.default.FEATURE_CHECK).done(s.default.proxy(this.handleResponse,this)).fail(function(){console.log("FAILED to check for features")})}},{key:"handleResponse",value:function(t){"new features"===t.messages[0]&&this.showNotification()}},{key:"showNotification",value:function(){var t=(0,s.default)("<div/>",{id:"new-feature-notify",class:"alert alert-info",role:"alert"}),e=(0,s.default)("<button/>",{type:"button",class:"close"});e.attr("data-dismiss","alert"),e.attr("aria-label","close"),e.html("x");var i=(0,s.default)("<a>added some new features</a>",{href:"#"});i.on("click",s.default.proxy(this.showDialog,this)),t.append("<span>We have recently </span>"),t.append(i),t.append("<span>.</span>"),t.append(e),(0,s.default)(".layout-header").prepend(t)}},{key:"showDialog",value:function(){(0,s.default)("#new-feature-notify").remove(),this.featureDialog.show()}}]),t}();e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),s=n(a),l=i(2),u=n(l),c=function(){function t(){r(this,t),this.dialogDiv=(0,s.default)("#features-dialog"),this.addListeners()}return o(t,[{key:"addListeners",value:function(){var t=this;this.dialogDiv.on("show.bs.modal",function(e){s.default.getJSON(u.default.FEATURE_LIST).done(s.default.proxy(t.createHtml,t)).fail(function(){return console.log("FAILED to load features")})})}},{key:"createHtml",value:function(t){var e=this.dialogDiv.find(".modal-body");e.html(""),s.default.each(t,function(t,i){e.append("<h3>"+i.addedDate+" - "+i.title+"</h3>"),e.append("<p>"+i.description+"</p>"),e.append("<br/><br/>")})}},{key:"show",value:function(){this.dialogDiv.modal("show")}}]),t}();e.default=c},function(t,e){},function(t,e,i){t.exports=i.p+"images/avatar-placeholder.png"},function(t,e,i){t.exports=i.p+"images/construction-cone.png"},function(t,e,i){t.exports=i.p+"images/construction-cone_20.png"},function(t,e,i){t.exports=i.p+"images/dots/blue_dot_16.png"},function(t,e,i){t.exports=i.p+"images/dots/gray_dot_16.png"},function(t,e,i){t.exports=i.p+"images/dots/green_dot_16.png"},function(t,e,i){t.exports=i.p+"images/dots/red_dot_16.png"},function(t,e,i){t.exports=i.p+"images/dots/red_black_dot_16.png"}]);
//# sourceMappingURL=main.de6ede7ba4761521cf18.js.map